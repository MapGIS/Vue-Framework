(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["webclient-store"]=e():t["webclient-store"]=e()})(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=27)}([function(t,e,n){!function(t,n){n(e)}(0,(function(t){"use strict";function e(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.bbox,i=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");r&&C(r),i&&P(i);var o={type:"Feature"};return i&&(o.id=i),r&&(o.bbox=r),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var i,s=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(s&&C(s),t){case"Point":i=r(e).geometry;break;case"LineString":i=a(e).geometry;break;case"Polygon":i=o(e).geometry;break;case"MultiPoint":i=p(e).geometry;break;case"MultiLineString":i=c(e).geometry;break;case"MultiPolygon":i=h(e).geometry;break;default:throw new Error(t+" is invalid")}return s&&(i.bbox=s),i}function r(t,n,r){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(t[0])||!S(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,r)}function i(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return r(t,e)})),n)}function o(t,n,r){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++){if(0===i&&0===s&&!S(o[0][0])||!S(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,r)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return o(t,e)})),n)}function a(t,n,r){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!S(t[0][1])||!S(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,r)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map((function(t){return a(t,e)})),n)}function l(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.bbox,r=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&C(n),r&&P(r);var i={type:"FeatureCollection"};return r&&(i.id=r),n&&(i.bbox=n),i.features=t,i}function c(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,r)}function p(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,r)}function h(t,n,r){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,r)}function f(t,n,r){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,r)}function d(t,e){if(void 0===t||null===t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function y(t,e){if(void 0===t||null===t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Do[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(void 0===t||null===t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Do[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function m(t,e){return _(g(t,e))}function v(t){if(null===t||void 0===t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function _(t){if(null===t||void 0===t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null===t||void 0===t)throw new Error("degrees is required");return t%360*Math.PI/180}function w(t,e,n){if(null===t||void 0===t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return y(g(t,e),n||"kilometers")}function x(t,e,n){if(null===t||void 0===t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var r=Bo[e||"meters"];if(!r)throw new Error("invalid original units");var i=Bo[n||"kilometers"];if(!i)throw new Error("invalid final units");return t/r*i}function S(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function E(t){return!!t&&t.constructor===Object}function C(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!S(t))throw new Error("bbox must only contain numbers")}))}function P(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function I(t,e,n){if(null!==t)for(var r,i,o,s,a,u,l,c,p=0,h=0,f=t.type,d="FeatureCollection"===f,y="Feature"===f,g=d?t.features.length:1,m=0;m<g;m++){a=(c=!!(l=d?t.features[m].geometry:y?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var v=0;v<a;v++){var _=0,b=0;if(null!==(s=c?l.geometries[v]:l)){u=s.coordinates;var w=s.type;switch(p=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":e(u,h,m,_,b),h++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)e(u[r],h,m,_,b),h++,"MultiPoint"===w&&_++;"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-p;i++)e(u[r][i],h,m,_,b),h++;"MultiLineString"===w&&_++,"Polygon"===w&&b++}"Polygon"===w&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===w&&(b=0),i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-p;o++)e(u[r][i][o],h,m,_,b),h++;b++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)I(s.geometries[r],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function O(t,e,n,r){var i=n;return I(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),r),i}function M(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function T(t,e,n){var r=n;return M(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function N(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function j(t,e,n){var r=n;return N(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r}function L(t){var e=[];return I(t,(function(t){e.push(t)})),e}function A(t,e){var n,r,i,o,s,a,u,l,c,p,h=0,f="FeatureCollection"===t.type,d="Feature"===t.type,y=f?t.features.length:1;for(n=0;n<y;n++){for(a=f?t.features[n].geometry:d?t.geometry:t,l=f?t.features[n].properties:d?t.properties:{},c=f?t.features[n].bbox:d?t.bbox:void 0,p=f?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,h,l,c,p);break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)e(o.geometries[r],h,l,c,p);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,l,c,p);h++}}function k(t,e,n){var r=n;return A(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r}function R(t,n){A(t,(function(t,r,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,i,{bbox:o,id:s}),r,0)}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:a,coordinates:t},i),r,o)}))}))}function D(t,e,n){var r=n;return R(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r}function F(t,e){R(t,(function(t,n,r){var i=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&O(t,(function(o,s,u,l,c,p){var h=a([o,s],t.properties);return e(h,n,r,p,i),i++,s}))}}))}function B(t,e,n){var r=n,i=!1;return F(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r}function G(t,e){if(!t)throw new Error("geojson is required");R(t,(function(t,n,r){if(null!==t.geometry){var i=t.geometry.type,o=t.geometry.coordinates;switch(i){case"LineString":e(t,n,r,0,0);break;case"Polygon":for(var s=0;s<o.length;s++)e(a(o[s],t.properties),n,r,s)}}}))}function U(t,e,n){var r=n;return G(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r}function q(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function z(t){if(!t)throw new Error("obj is required");var e=V(t);if(e.length>1&&S(e[0])&&S(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function V(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return Z(e),e;throw new Error("No valid coordinates")}function Z(t){if(t.length>1&&S(t[0])&&S(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return Z(t[0]);throw new Error("coordinates must only contain numbers")}function X(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function Y(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function W(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<t.features.length;r++){var i=t.features[r];if(!i||"Feature"!==i.type||!i.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+i.geometry.type)}}function H(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function J(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Q(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function K(t,e,n){n=n||{};for(var r=Object.keys(zo),i=0;i<r.length;i++){var o=r[i],s=n[o];s=void 0!==s&&null!==s?s:zo[o],Vo[o]=s}Vo.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach((function(r,i){r.forEach((function(r,o){if(void 0!==r&&!function(t){return 5===t.cval||10===t.cval}(r)&&!tt(r)){var s=function(t,e,n){var r,i,o,s=t.length,a=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],p=(t[e][n],t[e][n]),h=p.cval,f=nt(p,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h]);a.push([n+f[0],e+f[1]]),f=nt(p,o=c[h]),a.push([n+f[0],e+f[1]]),et(p);for(var d=n+u[h],y=e+l[h],g=h;d>=0&&y>=0&&y<s&&(d!=n||y!=e)&&void 0!==(p=t[y][d]);){if(0===(h=p.cval)||15===h)return{path:a,info:"mergeable"};o=c[h],r=u[h],i=l[h],5!==h&&10!==h||(5===h?p.flipped?-1===l[g]?(o="left",r=-1,i=0):(o="right",r=1,i=0):-1===u[g]&&(o="bottom",r=0,i=-1):10===h&&(p.flipped?-1===u[g]?(o="top",r=0,i=1):(o="bottom",r=0,i=-1):1===l[g]&&(o="left",r=-1,i=0))),f=nt(p,o),a.push([d+f[0],y+f[1]]),et(p),d+=r,y+=i,g=h}return{path:a,info:"closed"}}(t.cells,i,o),a=!1;if("mergeable"===s.info)for(var u=s.path[s.path.length-1][0],l=s.path[s.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var p=s.path.length-2;p>=0;--p)e[c].unshift(s.path[p]);a=!0;break}a||(e[n++]=s.path)}}))})),e}(function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],c=t[o][s+1],p=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(p))){a|=u>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0;var h,f,d,y,g=!1;if(5===(a|=p>=e?1:0)||10===a){var m=(u+l+c+p)/4;5===a&&m<e?(a=10,g=!0):10===a&&m<e&&(a=5,g=!0)}if(0!==a&&15!==a)h=f=d=y=.5,1===a?(d=1-$(e,u,p),f=1-$(e,c,p)):2===a?(f=$(e,p,c),y=1-$(e,l,c)):3===a?(d=1-$(e,u,p),y=1-$(e,l,c)):4===a?(h=$(e,u,l),y=$(e,c,l)):5===a?(h=$(e,u,l),y=$(e,c,l),f=1-$(e,c,p),d=1-$(e,u,p)):6===a?(f=$(e,p,c),h=$(e,u,l)):7===a?(d=1-$(e,u,p),h=$(e,u,l)):8===a?(d=$(e,p,u),h=1-$(e,l,u)):9===a?(f=1-$(e,c,p),h=1-$(e,l,u)):10===a?(h=1-$(e,l,u),y=1-$(e,l,c),f=$(e,p,c),d=$(e,p,u)):11===a?(h=1-$(e,l,u),y=1-$(e,l,c)):12===a?(d=$(e,p,u),y=$(e,c,l)):13===a?(f=1-$(e,c,p),y=$(e,c,l)):14===a?(d=$(e,p,u),f=$(e,p,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[o][s]={cval:a,flipped:g,top:h,right:y,bottom:f,left:d}}}}return i}(t,e));return"function"==typeof Vo.successCallback&&Vo.successCallback(a),a}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function rt(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;W(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return N(t,(function(t){var e=V(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){var e=n[t],r=e.sort((function(t,e){return V(t)[0]-V(e)[0]}));return r})).sort((function(t,n){return e?V(t[0])[1]-V(n[0])[1]:V(n[0])[1]-V(t[0])[1]}))}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var p=u[c];p.properties[n]?l.push(p.properties[n]):l.push(0),!0===i&&(p.properties.matrixPosition=[a,c])}s.push(l)}return s}function it(t,e,n,r,i){for(n=n||0,r=r||t.length-1,i=i||function(t,e){return t<e?-1:t>e?1:0};r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);it(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(r,Math.floor(e+(o-s)*u/o+l)),i)}var c=t[e],p=n,h=r;for(ot(t,n,e),i(t[r],c)>0&&ot(t,n,r);p<h;){for(ot(t,p,h),p++,h--;i(t[p],c)<0;)p++;for(;i(t[h],c)>0;)h--}0===i(t[n],c)?ot(t,n,h):ot(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function ot(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function st(t,e){if(!(this instanceof st))return new st(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function at(t,e){ut(t,0,t.children.length,e,t)}function ut(t,e,n,r,i){i||(i=gt(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],lt(i,t.leaf?r(o):o);return i}function lt(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ct(t,e){return t.minX-e.minX}function pt(t,e){return t.minY-e.minY}function ht(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ft(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function yt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function gt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mt(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(o=e+Math.ceil((n-e)/r/2)*r,Zo(t,o,e,n,i),s.push(e,o,o,n))}function vt(t,e){return e={exports:{}},t(e,e.exports),e.exports}function _t(t,e){if(!(this instanceof _t))return new _t(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function bt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var r,i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var a=[e,n,r,i],u=a.slice();for(o=0;o<t.length;o++)is(t[o],a)||u.push(t[o]);var l=ts(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=Xo(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<i.length;a++){var u=i[a];o.remove(u),r=Ct(u,r),s.push(r)}var l=Xo(16);for(a=0;a<s.length;a++)l.insert(Et(s[a]));for(var c=e*e,p=n*n;s.length;){var h=s.shift(),f=h.p,d=h.next.p,y=Pt(f,d);if(!(y<p)){var g=y/c;(u=function(t,e,n,r,i,o,s){for(var a=new ns(null,wt),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],p=u.leaf?It(c,n,r):function(t,e,n){if(xt(t,n)||xt(e,n))return 0;var r=Ot(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=Ot(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=Ot(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=Ot(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}(n,r,c);p>o||a.push({node:c,dist:p})}for(;a.length&&!a.peek().node.children;){var h=a.pop(),f=h.node,d=It(f,e,n),y=It(f,r,i);if(h.dist<d&&h.dist<y&&St(n,f,s)&&St(r,f,s))return f}(u=a.pop())&&(u=u.node)}return null}(o,h.prev.p,f,d,h.next.next.p,g,l))&&Math.min(Pt(u,f),Pt(u,d))<=g&&(s.push(h),s.push(Ct(u,h)),o.remove(u),l.remove(h),l.insert(Et(h)),l.insert(Et(h.next)))}}h=r;var m=[];do{m.push(h.p),h=h.next}while(h!==r);return m.push(h.p),m}function wt(t,e){return t.dist-e.dist}function xt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function St(t,e,n){for(var r=Math.min(t[0],e[0]),i=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:r,minY:i,maxX:o,maxY:s}),u=0;u<a.length;u++)if(function(t,e,n,r){return t!==r&&e!==n&&os(t,e,n)>0!=os(t,e,r)>0&&os(n,r,t)>0!=os(n,r,e)>0}(a[u].p,a[u].next.p,t,e))return!1;return!0}function Et(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Ct(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Pt(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function It(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return o=t[0]-r,s=t[1]-i,o*o+s*s}function Ot(t,e,n,r,i,o,s,a){var u,l,c,p,h=n-t,f=r-e,d=s-i,y=a-o,g=t-i,m=e-o,v=h*h+f*f,_=h*d+f*y,b=d*d+y*y,w=h*g+f*m,x=d*g+y*m,S=v*b-_*_,E=S,C=S;0===S?(l=0,E=1,p=x,C=b):(p=v*x-_*w,(l=_*x-b*w)<0?(l=0,p=x,C=b):l>E&&(l=E,p=x+_,C=b)),p<0?(p=0,-w<0?l=0:-w>v?l=E:(l=-w,E=v)):p>C&&(p=C,-w+_<0?l=0:-w+_>v?l=E:(l=-w+_,E=v)),u=0===l?0:l/E;var P=(1-(c=0===p?0:p/C))*i+c*s-((1-u)*t+u*n),I=(1-c)*o+c*a-((1-u)*e+u*r);return P*P+I*I}function Mt(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.concavity||1/0,r=[];if(I(t,(function(t){r.push([t[0],t[1]])})),!r.length)return null;var i=ss(r,n);return i.length>3?o([i]):null}function Tt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var i=z(t),o=V(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(i,a))return!1;"Polygon"===s&&(o=[o]);for(var u=0,l=!1;u<o.length&&!l;u++)if(Nt(i,o[u][0],r)){for(var c=!1,p=1;p<o[u].length&&!c;)Nt(i,o[u][p],!r)&&(c=!0),p++;c||(l=!0)}return l}function Nt(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(r=!r)}return r}function jt(t,e){var n=[];return A(e,(function(e){N(t,(function(t){Tt(t,e)&&n.push(t)}))})),l(n)}function Lt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(kt);for(var e,n,r,i,o,s,a=t.length-1,u=t[a].x,l=t[0].x,c=t[a].y,p=c;a--;)t[a].y<c&&(c=t[a].y),t[a].y>p&&(p=t[a].y);var h,f=l-u,d=p-c,y=f>d?f:d,g=.5*(l+u),m=.5*(p+c),v=[new At({x:g-20*y,y:m-y,__sentinel:!0},{x:g,y:m+20*y,__sentinel:!0},{x:g+20*y,y:m-y,__sentinel:!0})],_=[],b=[];for(a=t.length;a--;){for(b.length=0,h=v.length;h--;)(f=t[a].x-v[h].x)>0&&f*f>v[h].r?(_.push(v[h]),v.splice(h,1)):(d=t[a].y-v[h].y,f*f+d*d>v[h].r||(b.push(v[h].a,v[h].b,v[h].b,v[h].c,v[h].c,v[h].a),v.splice(h,1)));for(Rt(b),h=b.length;h;)n=b[--h],e=b[--h],r=t[a],i=n.x-e.x,o=n.y-e.y,s=2*(i*(r.y-n.y)-o*(r.x-n.x)),Math.abs(s)>1e-12&&v.push(new At(e,n,r))}for(Array.prototype.push.apply(_,v),a=_.length;a--;)(_[a].a.__sentinel||_[a].b.__sentinel||_[a].c.__sentinel)&&_.splice(a,1);return _}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],r=[t.b.x,t.b.y],i=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),r.push(t.b.z),i.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,r,i,e]],s)})))}function At(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+u*(t.y+n.y),p=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*c)/p,this.y=(o*c-a*l)/p,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i}function kt(t,e){return e.x-t.x}function Rt(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],i=t[--r],e===i&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}function Dt(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.units,i=z(t),o=z(e),s=b(o[1]-i[1]),a=b(o[0]-i[0]),u=b(i[1]),l=b(o[1]),c=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(u)*Math.cos(l);return y(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),r)}function Ft(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Bt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Bt(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ut(t);default:throw new Error("unknown GeoJSON type")}}function Bt(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=Gt(t.properties),e.geometry=Ut(t.geometry),e}function Gt(t){var e={};return t?(Object.keys(t).forEach((function(n){var r=t[n];"object"==typeof r?null===r?e[n]=null:r.length?e[n]=r.map((function(t){return t})):e[n]=Gt(r):e[n]=r})),e):e}function Ut(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Ut(t)})),e):(e.coordinates=qt(t.coordinates),e)}function qt(t){return"object"!=typeof t[0]?t.slice():t.map((function(t){return qt(t)}))}function zt(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(u(n[r],r));t<0&&cs(e,i)}function r(t){return u(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}function a(t){var e,n=t.type;switch(n){case"GeometryCollection":return{type:n,geometries:t.geometries.map(a)};case"Point":e=r(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(r);break;case"LineString":e=i(t.arcs);break;case"MultiLineString":e=t.arcs.map(i);break;case"Polygon":e=s(t.arcs);break;case"MultiPolygon":e=t.arcs.map(s);break;default:return null}return{type:n,coordinates:e}}var u=ls(t.transform),l=t.arcs;return a(e)}function Vt(t,e){function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Polygon":r(t.arcs);break;case"MultiPolygon":t.arcs.forEach(r)}}function r(t){t.forEach((function(e){e.forEach((function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)}))})),s.push(t)}function i(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(zt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},s=[],a=[];return e.forEach(n),s.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){o[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),s.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:a.map((function(e){var n,r=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){o[t<0?~t:t].length<2&&r.push(t)}))}))})),r=ps(t,r),(n=r.length)>1)for(var s,a,u=1,l=i(r[0]);u<n;++u)(s=i(r[u]))>l&&(a=r[0],r[0]=r[u],r[u]=a,l=s);return r}))}}function Zt(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function Xt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(Yt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?Yt:Wt)(t)}function Yt(t){var e,n=Wt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Wt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Wt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Ht(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function Jt(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}function Qt(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ft(t));var r=[],i=U(t,(function(t,e){var n=function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,o=Kt(r[0]),s=Kt(r[r.length-1]),u=Kt(i[0]),l=Kt(i[i.length-1]);if(o===l)n=i.concat(r.slice(1));else if(u===s)n=r.concat(i.slice(1));else if(o===u)n=r.slice(1).reverse().concat(i);else{if(s!==l)return null;n=r.concat(i.reverse().slice(1))}return a(n)}(t,e);return n||(r.push(t),e)}));return i&&r.push(i),r.length?1===r.length?r[0]:c(r.map((function(t){return t.coordinates}))):null}function Kt(t){return t[0].toString()+","+t[1].toString()}function $t(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ft(t));var r=function(t){var e={};R(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!r)throw new Error("geojson must be homogenous");switch(r){case"LineString":return Qt(t,e);case"Polygon":return function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Ft(t));var r=[];R(t,(function(t){r.push(t.geometry)}));var i=xs({geoms:f(r).geometry});return hs(i,i.objects.geoms.geometries)}(t,e);default:throw new Error(r+" is not supported")}}function te(t,n){var r="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var i=Q(t),o=[];switch(i){case"LineString":o=ee(t);break;case"MultiLineString":case"Polygon":V(t).forEach((function(t){o.push(ee(t))}));break;case"MultiPolygon":V(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(ee(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var s={};V(t).forEach((function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)}));break;default:throw new Error(i+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=o,t):{type:i,coordinates:o}:!0===r?(t.geometry.coordinates=o,t):e({type:i,coordinates:o},t.properties,t.bbox,t.id)}function ee(t){var e=V(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,r,i,o=[],s=e.length-1;o.push(e[0]);for(var a=1;a<s;a++)n=e[a-1],r=e[a],function(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return(r-o)*c-(i-s)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=a:a<=r&&r<=o:c>0?s<=i&&i<=u:u<=i&&i<=s)}(n,i=e[a+1],r)||o.push(r);return o.push(i),o}function ne(t,e){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function re(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return o=t.x-r,s=t.y-i,o*o+s*s}function ie(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=re(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&ie(t,e,o,r,i),i.push(t[o]),n-o>1&&ie(t,o,n,r,i))}function oe(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=n?t:function(t,e){for(var n,r=t[0],i=[r],o=1,s=t.length;o<s;o++)ne(n=t[o],r)>e&&(i.push(n),r=n);return r!==n&&i.push(n),i}(t,r),function(t,e){var n=t.length-1,r=[t[0]];return ie(t,0,n,e,r),r.push(t[n]),r}(t,r)}function se(t,e,n){return oe(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function ae(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=oe(r,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(i);)i=oe(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function ue(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.resolution||1e4,r=e.sharpness||.85;if(!t)throw new Error("line is required");if(!S(n))throw new Error("resolution must be an number");if(!S(r))throw new Error("sharpness must be an number");for(var i=[],o=new Ss({points:H(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:r}),s=0;s<o.duration;s+=10){var u=o.pos(s);Math.floor(s/100)%2==0&&i.push([u.x,u.y])}return a(i,t.properties)}function le(t){C(t);var e=Number(t[0]),n=Number(t[1]),r=Number(t[2]),i=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,n];return o([[s,[r,n],[r,i],[e,i],s]])}function ce(t){return le(q(t))}function pe(t){var e=t[0],n=t[1],r=t[2],i=t[3];if(Dt(t.slice(0,2),[r,n])>=Dt(t.slice(0,2),[e,i])){var o=(n+i)/2;return[e,o-(r-e)/2,r,o+(r-e)/2]}var s=(e+r)/2;return[s-(i-n)/2,n,s+(i-n)/2,i]}function he(t,e,n,i){if(i=i||{},!E(i))throw new Error("options is invalid");var o=i.units,s=i.properties,a=z(t),u=b(a[0]),l=b(a[1]),c=b(n),p=g(e,o),h=Math.asin(Math.sin(l)*Math.cos(p)+Math.cos(l)*Math.sin(p)*Math.cos(c));return r([_(u+Math.atan2(Math.sin(c)*Math.sin(p)*Math.cos(l),Math.cos(p)-Math.sin(l)*Math.sin(h))),_(h)],s)}function fe(t,e,n){var r=(n=n||{}).steps||64,i=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be a number");r=r||64,i=i||t.properties||{};for(var s=[],a=0;a<r;a++)s.push(he(t,e,-360*a/r,n).geometry.coordinates);return s.push(s[0]),o([s],i)}function de(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=de(e,t);return(n+180)%360}(t,e);var r=z(t),i=z(e),o=b(r[0]),s=b(i[0]),a=b(r[1]),u=b(i[1]),l=Math.sin(s-o)*Math.cos(u),c=Math.cos(a)*Math.sin(u)-Math.sin(a)*Math.cos(u)*Math.cos(s-o);return _(Math.atan2(l,c))}function ye(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=q(t);return r([(i[0]+i[2])/2,(i[1]+i[3])/2],n)}function ge(t,e){var n=0,i=0,o=0;return I(t,(function(t){n+=t[0],i+=t[1],o++}),!0),r([n/o,i/o],e)}function me(t,e){switch(Q(t)){case"Point":return t;case"Polygon":var n=[];I(t,(function(t){n.push(t)}));var i,o,s,a,u,l,c,p,h=ge(t,e),f=h.geometry.coordinates,d=0,y=0,g=0,m=n.map((function(t){return[t[0]-f[0],t[1]-f[1]]}));for(i=0;i<n.length-1;i++)a=(o=m[i])[0],l=o[1],u=(s=m[i+1])[0],g+=p=a*(c=s[1])-u*l,d+=(a+u)*p,y+=(l+c)*p;if(0===g)return h;var v=1/(.5*g*6);return r([f[0]+v*d,f[1]+v*y],e);default:var _=Mt(t);return _?me(_,e):ge(t,e)}}function ve(t){var e=[];return"FeatureCollection"===t.type?N(t,(function(t){I(t,(function(n){e.push(r(n,t.properties))}))})):I(t,(function(n){e.push(r(n,t.properties))})),l(e)}function _e(t,e,n){n=n||2;var r,i,o,s,a,u,l,c=e&&e.length,p=c?e[0]*n:t.length,h=be(t,0,p,n,!0),f=[];if(!h)return f;if(c&&(h=function(t,e,n,r){var i,o,s,a,u,l=[];for(i=0,o=e.length;i<o;i++)s=e[i]*r,a=i<o-1?e[i+1]*r:t.length,(u=be(t,s,a,r,!1))===u.next&&(u.steiner=!0),l.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(u));for(l.sort(Se),i=0;i<l.length;i++)!function(t,e){if(e=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n.prev;var u,l=n,c=n.x,p=n.y,h=1/0;for(r=n.next;r!==l;)i>=r.x&&r.x>=c&&i!==r.x&&Ce(o<p?i:s,o,c,p,o<p?s:i,o,r.x,r.y)&&((u=Math.abs(o-r.y)/(i-r.x))<h||u===h&&r.x>n.x)&&Me(r,t)&&(n=r,h=u),r=r.next;return n}(t,e)){var n=Te(e,t);we(n,n.next)}}(l[i],n),n=we(n,n.next);return n}(t,e,h,n)),t.length>80*n){r=o=t[0],i=s=t[1];for(var d=n;d<p;d+=n)a=t[d],u=t[d+1],a<r&&(r=a),u<i&&(i=u),a>o&&(o=a),u>s&&(s=u);l=0!==(l=Math.max(o-r,s-i))?1/l:0}return xe(h,f,n,r,i,l),f}function be(t,e,n,r,i){var o,s;if(i===Ae(t,e,n,r)>0)for(o=e;o<n;o+=r)s=Ne(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=Ne(o,t[o],t[o+1],s);return s&&Ie(s,s.next)&&(je(s),s=s.next),s}function we(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Ie(r,r.next)&&0!==Pe(r.prev,r,r.next))r=r.next;else{if(je(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function xe(t,e,n,r,i,o,s){if(t){!s&&o&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=Ee(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,r,i,o);for(var a,u,l=t;t.prev!==t.next;)if(a=t.prev,u=t.next,o?function(t,e,n,r){var i=t.prev,o=t,s=t.next;if(Pe(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,p=Ee(a,u,e,n,r),h=Ee(l,c,e,n,r),f=t.nextZ;f&&f.z<=h;){if(f!==t.prev&&f!==t.next&&Ce(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Pe(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(f=t.prevZ;f&&f.z>=p;){if(f!==t.prev&&f!==t.next&&Ce(i.x,i.y,o.x,o.y,s.x,s.y,f.x,f.y)&&Pe(f.prev,f,f.next)>=0)return!1;f=f.prevZ}return!0}(t,r,i,o):function(t){var e=t.prev,n=t,r=t.next;if(Pe(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ce(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Pe(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}(t))e.push(a.i/n),e.push(t.i/n),e.push(u.i/n),je(t),t=u.next,l=u.next;else if((t=u)===l){s?1===s?xe(t=function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!Ie(i,o)&&Oe(i,r,r.next,o)&&Me(i,o)&&Me(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),je(r),je(r.next),r=t=o),r=r.next}while(r!==t);return r}(t,e,n),e,n,r,i,o,2):2===s&&function(t,e,n,r,i,o){var s=t;do{for(var a=s.next.next;a!==s.prev;){if(s.i!==a.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Oe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Me(t,e)&&Me(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}(s,a)){var u=Te(s,a);return s=we(s,s.next),u=we(u,u.next),xe(s,e,n,r,i,o),void xe(u,e,n,r,i,o)}a=a.next}s=s.next}while(s!==t)}(t,e,n,r,i,o):xe(we(t),e,n,r,i,o,1);break}}}function Se(t,e){return t.x-e.x}function Ee(t,e,n,r,i){return t=32767*(t-n)*i,e=32767*(e-r)*i,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Ce(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function Pe(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ie(t,e){return t.x===e.x&&t.y===e.y}function Oe(t,e,n,r){return!!(Ie(t,e)&&Ie(n,r)||Ie(t,r)&&Ie(n,e))||Pe(t,e,n)>0!=Pe(t,e,r)>0&&Pe(n,r,t)>0!=Pe(n,r,e)>0}function Me(t,e){return Pe(t.prev,t,t.next)<0?Pe(t,e,t.next)>=0&&Pe(t,t.prev,e)>=0:Pe(t,e,t.prev)<0||Pe(t,t.next,e)<0}function Te(t,e){var n=new Le(t.i,t.x,t.y),r=new Le(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Ne(t,e,n,r){var i=new Le(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function je(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Le(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ae(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}function ke(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=Es(e.vertices,e.holes,2),r=[],i=[];n.forEach((function(t,r){var o=n[r];i.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var s=0;s<i.length;s+=3){var a=i.slice(s,s+3);a.push(i[s]),r.push(o([a]))}return r}function Re(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0;return N(e,(function(e,i){var o=Dt(t,e);o<r&&((n=Ft(e)).properties.featureIndex=i,n.properties.distanceToPoint=o,r=o)})),n}function De(t,e,n,r,i){Fe(t,e,n||0,r||t.length-1,i||function(t,e){return t<e?-1:t>e?1:0})}function Fe(t,e,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,s=e-n+1,a=Math.log(o),u=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*u*(o-u)/o)*(s-o/2<0?-1:1);Fe(t,e,Math.max(n,Math.floor(e-s*u/o+l)),Math.min(r,Math.floor(e+(o-s)*u/o+l)),i)}var c=t[e],p=n,h=r;for(Be(t,n,e),i(t[r],c)>0&&Be(t,n,r);p<h;){for(Be(t,p,h),p++,h--;i(t[p],c)<0;)p++;for(;i(t[h],c)>0;)h--}0===i(t[n],c)?Be(t,n,h):Be(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function Be(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Ge(t,e){if(!(this instanceof Ge))return new Ge(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ue(t,e){qe(t,0,t.children.length,e,t)}function qe(t,e,n,r,i){i||(i=Je(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],ze(i,t.leaf?r(o):o);return i}function ze(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Ve(t,e){return t.minX-e.minX}function Ze(t,e){return t.minY-e.minY}function Xe(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Ye(t){return t.maxX-t.minX+(t.maxY-t.minY)}function We(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function He(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Je(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Qe(t,e,n,r,i){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=r||(De(t,o=e+Math.ceil((n-e)/r/2)*r,e,n,i),s.push(e,o,o,n))}function Ke(t){var e=Ge(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}else t.bbox=t.bbox?t.bbox:tn(t);return Ge.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=$e(t);n.bbox=t,e.push(n)})):N(t,(function(t){t.bbox=t.bbox?t.bbox:tn(t),e.push(t)})),Ge.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=$e(e)).bbox=e}return Ge.prototype.remove.call(this,t)},e.clear=function(){return Ge.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Ge.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Ge.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Ge.prototype.all.call(this)}},e.toJSON=function(){return Ge.prototype.toJSON.call(this)},e.fromJSON=function(t){return Ge.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:tn(t),{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function $e(t){var e=[t[0],t[1]],n=[t[0],t[3]],r=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],r,n,e]]}}}function tn(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function en(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,(function(t){!function(t,e){var n=[],r=t.geometry;switch(r.type){case"Polygon":n=V(r);break;case"LineString":n=[V(r)]}n.forEach((function(n){var r=function(t,e){var n=[];return t.reduce((function(t,r){var i=a([t,r],e);return i.bbox=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return[n<i?n:i,r<o?r:o,n>i?n:i,r>o?r:o]}(t,r),n.push(i),r})),n}(n,t.properties);r.forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),l(e)}function nn(t,n){var r={},i=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=rn(t,n);return o&&i.push(o),l(i)}var s=Ke();return s.load(en(n)),N(en(t),(function(t){N(s.search(t),(function(e){var n=rn(t,e);if(n){var o=V(n).join(",");r[o]||(r[o]=!0,i.push(n))}}))})),l(i)}function rn(t,e){var n=V(t),i=V(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==i.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],u=n[1][1],l=i[0][0],c=i[0][1],p=i[1][0],h=i[1][1],f=(h-c)*(a-o)-(p-l)*(u-s),d=(p-l)*(s-c)-(h-c)*(o-l),y=(a-o)*(s-c)-(u-s)*(o-l);if(0===f)return null;var g=d/f,m=y/f;return g>=0&&g<=1&&m>=0&&m<=1?r([o+g*(a-o),s+g*(u-s)]):null}function on(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var i=t.geometry?t.geometry.type:t.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var o=r([1/0,1/0],{dist:1/0}),s=0;return R(t,(function(t){for(var i=V(t),u=0;u<i.length-1;u++){var l=r(i[u]);l.properties.dist=Dt(e,l,n);var c=r(i[u+1]);c.properties.dist=Dt(e,c,n);var p=Dt(l,c,n),h=Math.max(l.properties.dist,c.properties.dist),f=de(l,c),d=he(e,h,f+90,n),y=he(e,h,f-90,n),g=nn(a([d.geometry.coordinates,y.geometry.coordinates]),a([l.geometry.coordinates,c.geometry.coordinates])),m=null;g.features.length>0&&((m=g.features[0]).properties.dist=Dt(e,m,n),m.properties.location=s+Dt(l,m,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=u,o.properties.location=s),c.properties.dist<o.properties.dist&&((o=c).properties.index=u+1,o.properties.location=s+p),m&&m.properties.dist<o.properties.dist&&((o=m).properties.index=u),s+=p}})),o}function sn(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r,i=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(r=i?an(z(e),z(t)):an(z(t),z(e)))>180?-(360-r):r}function an(t,e){var n=b(t[1]),r=b(e[1]),i=b(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(_(Math.atan2(i,o))+360)%360}function un(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var i=z(t),o=z(e);return o[0]+=o[0]-i[0]>180?-360:i[0]-o[0]>180?360:0,w(function(t,e,n){var r=n=void 0===n?Ro:Number(n),i=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-i,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),l=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+l*l*a*a)*r}(i,o),"meters",r)}function ln(t,e){return pn(t,"mercator",e)}function cn(t,e){return pn(t,"wgs84",e)}function pn(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&S(t[0])?t="mercator"===e?hn(t):fn(t):(!0!==r&&(t=Ft(t)),I(t,(function(t){var n="mercator"===e?hn(t):fn(t);t[0]=n[0],t[1]=n[1]}))),t}function hn(t){var e=Math.PI/180,n=20037508.342789244,r=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return r[0]>n&&(r[0]=n),r[0]<-n&&(r[0]=-n),r[1]>n&&(r[1]=n),r[1]<-n&&(r[1]=-n),r}function fn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function dn(t,n,i){if(i=i||{},!E(i))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=r(t):"Point"===t.type?t=e(t):Y(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=e(n):Y(n,"LineString","line");var o=1/0,s=t.geometry.coordinates;return F(n,(function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],a=function(t,e,n,i){var o=i.mercator,s=!0!==o?Dt(e,t,i):yn(e,t,i),a=v(!0!==o?de(e,t):sn(e,t)),u=v(!0!==o?de(e,n):sn(e,n)),l=Math.abs(a-u);if(l>90)return s;var c=(u+180)%360,p=v(!0!==o?de(n,t):sn(n,t)),h=Math.abs(p-c);return h>180&&(h=Math.abs(h-360)),h>90?!0!==o?Dt(t,n,i):yn(t,n,i):!0!==o?s*Math.sin(b(l)):function(t,e,n,i){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=r(n),a=ln([t[0]+o,t[1]]),u=ln([e[0]+o,e[1]]),l=ln([n[0]+o,n[1]]),c=cn(function(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1],a=n[0],u=n[1],l=o-r,c=s-i,p=((a-r)*l+(u-i)*c)/(l*l+c*c);return[r+p*l,i+p*c]}(a,u,l));return 0!==o&&(c[0]-=o),un(s,c,i)}(e,n,t,i)}(s,e,n,i);o>a&&(o=a)})),o}function yn(t,e,n){var r=n.units,i=0;Math.abs(t[0])>=180&&(i=t[0]>0?-180:180),Math.abs(e[0])>=180&&(i=e[0]>0?-180:180);var o=ln([t[0]+i,t[1]]),s=ln([e[0]+i,e[1]]),a=function(t){return t*t},u=a(o[0]-s[0])+a(o[1]-s[1]);return w(Math.sqrt(u),"meters",r)}function gn(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?l([e(t)]):l([t]):t}(t),i=ye(n),o=!1,s=0;!o&&s<n.features.length;){var a,u=n.features[s].geometry,c=!1;if("Point"===u.type)i.geometry.coordinates[0]===u.coordinates[0]&&i.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var p=!1;for(a=0;!p&&a<u.coordinates.length;)i.geometry.coordinates[0]===u.coordinates[a][0]&&i.geometry.coordinates[1]===u.coordinates[a][1]&&(o=!0,p=!0),a++}else if("LineString"===u.type)for(a=0;!c&&a<u.coordinates.length-1;)mn(i.geometry.coordinates[0],i.geometry.coordinates[1],u.coordinates[a][0],u.coordinates[a][1],u.coordinates[a+1][0],u.coordinates[a+1][1])&&(c=!0,o=!0),a++;else if("MultiLineString"===u.type)for(var h=0;h<u.coordinates.length;){c=!1,a=0;for(var f=u.coordinates[h];!c&&a<f.length-1;)mn(i.geometry.coordinates[0],i.geometry.coordinates[1],f[a][0],f[a][1],f[a+1][0],f[a+1][1])&&(c=!0,o=!0),a++;h++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Tt(i,u)&&(o=!0);s++}if(o)return i;var d=l([]);for(s=0;s<n.features.length;s++)d.features=d.features.concat(ve(n.features[s]).features);return r(Re(i,d).geometry.coordinates)}function mn(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}function vn(t){return k(t,(function(t,e){return t+_n(e)}),0)}function _n(t){var e,n=0;switch(t.type){case"Polygon":return bn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=bn(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=_n(t.geometries[e]);return n}}function bn(t){var e=0;if(t&&t.length>0){e+=Math.abs(wn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(wn(t[n]))}return e}function wn(t){var e,n,r,i,o,s,a=0,u=t.length;if(u>2){for(s=0;s<u;s++)s===u-2?(r=u-2,i=u-1,o=0):s===u-1?(r=u-1,i=0,o=1):(r=s,i=s+1,o=s+2),e=t[r],n=t[i],a+=(xn(t[o][0])-xn(e[0]))*Math.sin(xn(n[1]));a=a*Is*Is/2}return a}function xn(t){return t*Math.PI/180}function Sn(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return B(t,(function(t,n){var r=n.geometry.coordinates;return t+Dt(r[0],r[1],e)}),0)}function En(t,e,n,r){if(r=r||{},!E(r))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var s,u,l,c=0,p=0;p<i.length&&!(e>=c&&p===i.length-1);p++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(i[p]),a(o);u=de(i[p],i[p-1])-180,l=he(i[p],s,u,r),o.push(l.geometry.coordinates)}if(c>=n)return(s=n-c)?(u=de(i[p],i[p-1])-180,l=he(i[p],s,u,r),o.push(l.geometry.coordinates),a(o)):(o.push(i[p]),a(o));if(c>=e&&o.push(i[p]),p===i.length-1)return a(o);c+=Dt(i[p],i[p+1],r)}return a(i[i.length-1])}function Cn(t,e,n){var r=(n=n||{}).ignoreEndVertices;if(!E(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var i=z(t),o=V(e),s=0;s<o.length-1;s++){var a=!1;if(r&&(0===s&&(a="start"),s===o.length-2&&(a="end"),0===s&&s+1===o.length-1&&(a="both")),function(t,e,n,r){var i=n[0],o=n[1],s=t[0],a=t[1],u=e[0],l=e[1],c=n[0]-s,p=n[1]-a,h=u-s,f=l-a;return c*f-p*h==0&&(r?"start"===r?Math.abs(h)>=Math.abs(f)?h>0?s<i&&i<=u:u<=i&&i<s:f>0?a<o&&o<=l:l<=o&&o<a:"end"===r?Math.abs(h)>=Math.abs(f)?h>0?s<=i&&i<u:u<i&&i<=s:f>0?a<=o&&o<l:l<o&&o<=a:"both"===r?Math.abs(h)>=Math.abs(f)?h>0?s<i&&i<u:u<i&&i<s:f>0?a<o&&o<l:l<o&&o<a:void 0:Math.abs(h)>=Math.abs(f)?h>0?s<=i&&i<=u:u<=i&&i<=s:f>0?a<=o&&o<=l:l<=o&&o<=a)}(o[s],o[s+1],i,a))return!0}return!1}function Pn(t,e){var n=Q(t),r=Q(e),i=H(t),o=H(e);switch(n){case"Point":switch(r){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(On(e.coordinates[n],t.coordinates)){r=!0;break}return r}(i,o);case"LineString":return Cn(i,o,{ignoreEndVertices:!0});case"Polygon":return Tt(i,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)On(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(i,o);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!Cn(t.coordinates[r],e))return!1;n||(n=Cn(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(i,o);case"Polygon":return function(t,e){for(var n=!0,r=0;r<t.coordinates.length;r++){var i=Tt(t.coordinates[1],e);if(!i){n=!1;break}i=Tt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!Cn(t.coordinates[n],e))return!1;return!0}(i,o);case"Polygon":return function(t,e){var n=q(e),r=q(t);if(!In(n,r))return!1;for(var i=!1,o=0;o<t.coordinates.length-1;o++){if(!Tt(t.coordinates[o],e))return!1;if(i||(i=Tt(t.coordinates[o],e,{ignoreBoundary:!0})),!i){var s=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[o],t.coordinates[o+1]);i=Tt(s,e,{ignoreBoundary:!0})}}return i}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Polygon":return function(t,e){var n=q(t);if(!In(q(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!Tt(t.coordinates[0][r],e))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function In(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function On(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mn(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var i=n.mask,o=n.properties,s=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Q(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],c=t[2],p=t[3],h=e/Dt([a,u],[c,u],n)*(c-a),f=e/Dt([a,u],[a,p],n)*(p-u),d=c-a,y=p-u,g=Math.floor(d/h),m=(y-Math.floor(y/f)*f)/2,v=a+(d-g*h)/2;v<=c;){for(var _=u+m;_<=p;){var b=r([v,_],o);i?Pn(b,i)&&s.push(b):s.push(b),_+=f}v+=h}return l(s)}function Tn(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.precision,r=e.coordinates,i=e.mutate;if(n=void 0===n||null===n||isNaN(n)?6:n,r=void 0===r||null===r||isNaN(r)?3:r,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof r)throw new Error("<coordinates> must be a number");!1!==i&&void 0!==i||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return I(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,o,r)})),t}function Nn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Nn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function jn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Ln(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Ln(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function An(t,e){var n=[],r=Ke();return R(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=Rn(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),N(kn(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=kn(t,e).features).forEach((function(t){t.bbox||(t.bbox=pe(q(t)))})),r.load(l(n))})),l(n)}function kn(t,e){var n=[],r=V(t)[0],i=V(t)[t.geometry.coordinates.length-1];if(Dn(r,z(e))||Dn(i,z(e)))return l([t]);var o=Ke(),s=en(t);o.load(s);var u=o.search(e);if(!u.features.length)return l([t]);var c=Rn(e,u),p=j(s,(function(t,r,i){var o=V(r)[1],s=z(e);return i===c.id?(t.push(s),n.push(a(t)),Dn(s,o)?[s]:[s,o]):(t.push(o),t)}),[r]);return p.length>1&&n.push(a(p)),l(n)}function Rn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return N(e,(function(e){var i=on(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function Dn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Fn(t,e,n,r,i){if(i=i||{},!E(i))throw new Error("options is invalid");var o=i.steps,s=i.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if("object"!=typeof i)throw new Error("options must be an object");o=o||64;var u=Bn(n),l=Bn(r),c=t.properties;if(u===l)return a(fe(t,e,i).geometry.coordinates[0],c);for(var p=u,h=u<l?l:l+360,f=p,d=[],y=0;f<h;)d.push(he(t,e,f,s).geometry.coordinates),f=p+360*++y/o;return f>h&&d.push(he(t,e,h,s).geometry.coordinates),a(d,c)}function Bn(t){var e=t%360;return e<0&&(e+=360),e}function Gn(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.properties,r=Q(t),i=V(t);if(n=n||t.properties||{},!i.length)throw new Error("polygon must contain coordinates");switch(r){case"Polygon":return Un(i,n);case"MultiPolygon":var o=[];return i.forEach((function(t){o.push(Un(t,n))})),l(o);default:throw new Error("geom "+r+" not supported")}}function Un(t,e){return t.length>1?c(t,e):a(t[0],e)}function qn(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.properties,r=e.autoComplete,i=e.orderCoords;if(!t)throw new Error("lines is required");switch(r=void 0===r||r,i=void 0===i||i,Q(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(V(zn(t,{},r,i)))})),h(o,n)}return zn(t,n,r,i)}function zn(t,e,n,r){e=e||t.properties||{};var i=V(t),s=Q(t);if(!i.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(i=Vn(i)),o([i],e);case"MultiLineString":var u=[],l=0;return i.forEach((function(t){if(n&&(t=Vn(t)),r){var e=function(t){var e=t[0],n=t[1],r=t[2],i=t[3];return Math.abs(e-r)*Math.abs(n-i)}(q(a(t)));e>l?(u.unshift(t),l=e):u.push(t)}else u.push(t)})),o(u,e);default:throw new Error("geometry type "+s+" is not supported")}}function Vn(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],s=i[1];return n===o&&r===s||t.push(e),t}function Zn(t,e,n){var r,i,o,s,a,u=t.length,l=Yn(t[0],e),c=[];for(n||(n=[]),r=1;r<u;r++){for(i=t[r-1],s=a=Yn(o=t[r],e);;){if(!(l|s)){c.push(i),s!==a?(c.push(o),r<u-1&&(n.push(c),c=[])):r===u-1&&c.push(o);break}if(l&s)break;l?l=Yn(i=Xn(i,o,l,e),e):s=Yn(o=Xn(i,o,s,e),e)}l=a}return c.length&&n.push(c),n}function Xn(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function Yn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Wn(t,e){for(var n=[],r=0;r<t.length;r++){var i=Fs.polygon(t[r],e);i.length>0&&(i[0][0]===i[i.length-1][0]&&i[0][1]===i[i.length-1][1]||i.push(i[0]),i.length>=4&&n.push(i))}return n}function Hn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Jn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var r,i;if(Qn(t)||Qn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Hn(t))return!!Hn(e)&&(t=Bs.call(t),e=Bs.call(e),Jn(t,e,n));if(Kn(t)){if(!Kn(e))return!1;if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),r=o.length-1;r>=0;r--)if(o[r]!==s[r])return!1;for(r=o.length-1;r>=0;r--)if(i=o[r],!Jn(t[i],e[i],n))return!1;return typeof t==typeof e}(t,e,n))}function Qn(t){return null===t||void 0===t}function Kn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}function $n(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r,i=n.tolerance||0,o=[],s=Ke();return s.load(en(t)),F(e,(function(t){var e=!1;N(s.search(t),(function(n){if(!1===e){var o=V(t).sort(),s=V(n).sort();Jn(o,s)||(0===i?Cn(o[0],n)&&Cn(o[1],n):on(n,o[0]).properties.dist<=i&&on(n,o[1]).properties.dist<=i)?(e=!0,r=r?tr(r,t):t):(0===i?Cn(s[0],t)&&Cn(s[1],t):on(t,s[0]).properties.dist<=i&&on(t,s[1]).properties.dist<=i)&&(r=r?tr(r,n):n)}})),!1===e&&r&&(o.push(r),r=void 0)})),r&&o.push(r),l(o)}function tr(t,e){var n=V(e),r=V(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return Jn(n[0],i)?s.unshift(n[1]):Jn(n[0],o)?s.push(n[1]):Jn(n[1],i)?s.unshift(n[0]):Jn(n[1],o)&&s.push(n[0]),t}function er(t){var e=t%360;return e<0&&(e+=360),e}function nr(t,e,n,i){if(i=i||{},!E(i))throw new Error("options is invalid");var o=i.units,s=i.properties;if(!t)throw new Error("origin is required");if(void 0===e||null===e)throw new Error("distance is required");if(void 0===n||null===n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=w(e,o,"meters"),u=z(t),l=function(t,e,n,r){r=void 0===r?Ro:Number(r);var i=e/r,o=t[0]*Math.PI/180,s=b(t[1]),a=b(n),u=i*Math.cos(a),l=s+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),p=Math.abs(c)>1e-11?u/c:Math.cos(s),h=i*Math.sin(a)/p;return[(180*(o+h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,a,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r(l,s)}function rr(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=ir(a,u,e),n<=0&&r>0?function(t,e,n){return ir(t,e,n)<0}(e,a,i)||(i=a):n>0&&r<=0&&(function(t,e,n){return ir(t,e,n)>0}(e,a,o)||(o=a)),n=r}return[i,o]}function ir(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function or(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,r,i=V(t),o=0,s=1;s<i.length;)n=r||i[0],o+=((r=i[s])[0]-n[0])*(r[1]+n[1]),s++;return o>0}function sr(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return A(t,(function(t){sr(t,e)})),t;case"LineString":return ar(V(t),e),t;case"Polygon":return ur(V(t),e),t;case"MultiLineString":return V(t).forEach((function(t){ar(t,e)})),t;case"MultiPolygon":return V(t).forEach((function(t){ur(t,e)})),t;case"Point":case"MultiPoint":return t}}function ar(t,e){or(t)===e&&t.reverse()}function ur(t,e){or(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)or(t[n])===e&&t[n].reverse()}function lr(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;W(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return N(t,(function(t){var e=V(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){var e=n[t],r=e.sort((function(t,e){return V(t)[0]-V(e)[0]}));return r})).sort((function(t,n){return e?V(t[0])[1]-V(n[0])[1]:V(n[0])[1]-V(t[0])[1]}))}(t,r),s=[],a=0;a<o.length;a++){for(var u=o[a],l=[],c=0;c<u.length;c++){var p=u[c];p.properties[n]?l.push(p.properties[n]):l.push(0),!0===i&&(p.properties.matrixPosition=[a,c])}s.push(l)}return s}function cr(t,e,n,r){r=r||{};for(var i=Object.keys(Gs),o=0;o<i.length;o++){var s=i[o],a=r[s];a=void 0!==a&&null!==a?a:Gs[s],Us[s]=a}Us.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,c=t[a+1][u],p=t[a+1][u+1],h=t[a][u+1],f=t[a][u];if(!(isNaN(c)||isNaN(p)||isNaN(h)||isNaN(f))){l|=c<e?0:c>s?128:64,l|=p<e?0:p>s?32:16,l|=h<e?0:h>s?8:4;var d=+(l|=f<e?0:f>s?2:1),y=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+p+h+f)/4;y=g>s?2:g<e?0:1,34===l?1===y?l=35:0===y&&(l=136):136===l?1===y?(l=35,y=4):0===y&&(l=34):17===l?1===y?(l=155,y=4):0===y&&(l=153):68===l?1===y?(l=103,y=4):0===y&&(l=102):153===l?1===y&&(l=155):102===l?1===y&&(l=103):152===l?y<2&&(l=156,y=1):137===l?y<2&&(l=139,y=1):98===l?y<2&&(l=99,y=1):38===l?y<2&&(l=39,y=1):18===l?y>0?(l=156,y=4):l=152:33===l?y>0?(l=139,y=4):l=137:72===l?y>0?(l=99,y=4):l=98:132===l&&(y>0?(l=39,y=4):l=38)}if(0!=l&&170!=l){var m,v,_,b,w,x,S,E;m=v=_=b=w=x=S=E=.5;var C=[];1===l?(_=1-pr(e,h,f),E=1-pr(e,c,f),C.push(Ia[l])):169===l?(_=pr(s,f,h),E=pr(s,f,c),C.push(Ia[l])):4===l?(x=1-pr(e,p,h),b=pr(e,f,h),C.push(Ca[l])):166===l?(x=pr(s,h,p),b=1-pr(s,h,f),C.push(Ca[l])):16===l?(w=pr(e,h,p),v=pr(e,c,p),C.push(Ea[l])):154===l?(w=1-pr(s,p,h),v=1-pr(s,p,c),C.push(Ea[l])):64===l?(S=pr(e,f,c),m=1-pr(e,p,c),C.push(Ma[l])):106===l?(S=1-pr(s,c,f),m=pr(s,c,p),C.push(Ma[l])):168===l?(b=pr(s,f,h),_=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),C.push(Pa[l]),C.push(Ia[l])):2===l?(b=1-pr(e,h,f),_=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),C.push(Pa[l]),C.push(Ia[l])):162===l?(w=pr(s,h,p),x=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),C.push(Pa[l]),C.push(Ia[l])):8===l?(w=1-pr(e,p,h),x=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),C.push(Ea[l]),C.push(Ca[l])):138===l?(w=1-pr(e,p,h),x=1-pr(s,p,h),m=1-pr(s,p,c),v=1-pr(e,p,c),C.push(Ea[l]),C.push(Ca[l])):32===l?(w=pr(s,h,p),x=pr(e,h,p),m=pr(e,c,p),v=pr(s,c,p),C.push(Ea[l]),C.push(Ca[l])):42===l?(E=1-pr(s,c,f),S=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p),C.push(Oa[l]),C.push(Ma[l])):128===l&&(E=pr(e,f,c),S=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c),C.push(Oa[l]),C.push(Ma[l])),5===l?(x=1-pr(e,p,h),E=1-pr(e,c,f),C.push(Ca[l])):165===l?(x=pr(s,h,p),E=pr(s,f,c),C.push(Ca[l])):20===l?(b=pr(e,f,h),v=pr(e,c,p),C.push(Pa[l])):150===l?(b=1-pr(s,h,f),v=1-pr(s,p,c),C.push(Pa[l])):80===l?(w=pr(e,h,p),S=pr(e,f,c),C.push(Ea[l])):90===l?(w=1-pr(s,p,h),S=1-pr(s,c,f),C.push(Ea[l])):65===l?(_=1-pr(e,h,f),m=1-pr(e,p,c),C.push(Ia[l])):105===l?(_=pr(s,f,h),m=pr(s,c,p),C.push(Ia[l])):160===l?(w=pr(s,h,p),x=pr(e,h,p),E=pr(e,f,c),S=pr(s,f,c),C.push(Ea[l]),C.push(Ca[l])):10===l?(w=1-pr(e,p,h),x=1-pr(s,p,h),E=1-pr(s,c,f),S=1-pr(e,c,f),C.push(Ea[l]),C.push(Ca[l])):130===l?(b=1-pr(e,h,f),_=1-pr(s,h,f),m=1-pr(s,p,c),v=1-pr(e,p,c),C.push(Pa[l]),C.push(Ia[l])):40===l?(b=pr(s,f,h),_=pr(e,f,h),m=pr(e,c,p),v=pr(s,c,p),C.push(Pa[l]),C.push(Ia[l])):101===l?(x=pr(s,h,p),m=pr(s,c,p),C.push(Ca[l])):69===l?(x=1-pr(e,p,h),m=1-pr(e,p,c),C.push(Ca[l])):149===l?(E=pr(s,f,c),v=1-pr(s,p,c),C.push(Oa[l])):21===l?(E=1-pr(e,c,f),v=pr(e,c,p),C.push(Oa[l])):86===l?(b=1-pr(s,h,f),S=1-pr(s,c,f),C.push(Pa[l])):84===l?(b=pr(e,f,h),S=pr(e,f,c),C.push(Pa[l])):89===l?(w=1-pr(s,p,h),_=pr(s,f,h),C.push(Ia[l])):81===l?(w=pr(e,h,p),_=1-pr(e,h,f),C.push(Ia[l])):96===l?(w=pr(s,h,p),x=pr(e,h,p),S=pr(e,f,c),m=pr(s,c,p),C.push(Ea[l]),C.push(Ca[l])):74===l?(w=1-pr(e,p,h),x=1-pr(s,p,h),S=1-pr(s,c,f),m=1-pr(e,p,c),C.push(Ea[l]),C.push(Ca[l])):24===l?(w=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),v=pr(e,c,p),C.push(Ea[l]),C.push(Ia[l])):146===l?(w=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),v=1-pr(s,p,c),C.push(Ea[l]),C.push(Ia[l])):6===l?(x=1-pr(e,p,h),b=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),C.push(Ca[l]),C.push(Pa[l])):164===l?(x=pr(s,h,p),b=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),C.push(Ca[l]),C.push(Pa[l])):129===l?(_=1-pr(e,h,f),E=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c),C.push(Ia[l]),C.push(Oa[l])):41===l?(_=pr(s,f,h),E=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p),C.push(Ia[l]),C.push(Oa[l])):66===l?(b=1-pr(e,h,f),_=1-pr(s,h,f),S=1-pr(s,c,f),m=1-pr(e,p,c),C.push(Pa[l]),C.push(Ia[l])):104===l?(b=pr(s,f,h),_=pr(e,f,h),S=pr(e,f,c),m=pr(s,c,p),C.push(Ia[l]),C.push(Ta[l])):144===l?(w=pr(e,h,p),E=pr(e,f,c),S=pr(s,f,c),v=1-pr(s,p,c),C.push(Ea[l]),C.push(Ma[l])):26===l?(w=1-pr(s,p,h),E=1-pr(s,c,f),S=1-pr(e,c,f),v=pr(e,c,p),C.push(Ea[l]),C.push(Ma[l])):36===l?(x=pr(s,h,p),b=pr(e,f,h),m=pr(e,c,p),v=pr(s,c,p),C.push(Ca[l]),C.push(Pa[l])):134===l?(x=1-pr(e,p,h),b=1-pr(s,h,f),m=1-pr(s,p,c),v=1-pr(e,p,c),C.push(Ca[l]),C.push(Pa[l])):9===l?(w=1-pr(e,p,h),x=1-pr(s,p,h),_=pr(s,f,h),E=1-pr(e,c,f),C.push(Ea[l]),C.push(Ca[l])):161===l?(w=pr(s,h,p),x=pr(e,h,p),_=1-pr(e,h,f),E=pr(s,f,c),C.push(Ea[l]),C.push(Ca[l])):37===l?(x=pr(s,h,p),E=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p),C.push(Ca[l]),C.push(Oa[l])):133===l?(x=1-pr(e,p,h),E=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c),C.push(Ca[l]),C.push(Oa[l])):148===l?(b=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),v=1-pr(s,p,c),C.push(Pa[l]),C.push(Ma[l])):22===l?(b=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),v=pr(e,c,p),C.push(Pa[l]),C.push(Ma[l])):82===l?(w=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),S=1-pr(s,c,f),C.push(Ea[l]),C.push(Ia[l])):88===l?(w=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),S=pr(e,f,c),C.push(Ea[l]),C.push(Ia[l])):73===l?(w=1-pr(e,p,h),x=1-pr(s,p,h),_=pr(s,f,h),m=1-pr(e,p,c),C.push(Ea[l]),C.push(Ca[l])):97===l?(w=pr(s,h,p),x=pr(e,h,p),_=1-pr(e,h,f),m=pr(s,c,p),C.push(Ea[l]),C.push(Ca[l])):145===l?(w=pr(e,h,p),_=1-pr(e,h,f),E=pr(s,f,c),v=1-pr(s,p,c),C.push(Ea[l]),C.push(Oa[l])):25===l?(w=1-pr(s,p,h),_=pr(s,f,h),E=1-pr(e,c,f),v=pr(e,c,p),C.push(Ea[l]),C.push(Oa[l])):70===l?(x=1-pr(e,p,h),b=1-pr(s,h,f),S=1-pr(s,c,f),m=1-pr(e,p,c),C.push(Ca[l]),C.push(Pa[l])):100===l?(x=pr(s,h,p),b=pr(e,f,h),S=pr(e,f,c),m=pr(s,c,p),C.push(Ca[l]),C.push(Pa[l])):34===l?(0===y?(w=1-pr(e,p,h),x=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)):(w=pr(s,h,p),x=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)),C.push(Ea[l]),C.push(Ca[l]),C.push(Oa[l]),C.push(Ma[l])):35===l?(4===y?(w=1-pr(e,p,h),x=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)):(w=pr(s,h,p),x=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)),C.push(Ea[l]),C.push(Ca[l]),C.push(Ia[l]),C.push(Ma[l])):136===l?(0===y?(w=pr(s,h,p),x=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)):(w=1-pr(e,p,h),x=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)),C.push(Ea[l]),C.push(Ca[l]),C.push(Oa[l]),C.push(Ma[l])):153===l?(0===y?(w=pr(e,h,p),_=1-pr(e,h,f),E=1-pr(e,c,f),v=pr(e,c,p)):(w=1-pr(s,p,h),_=pr(s,f,h),E=pr(s,f,c),v=1-pr(s,p,c)),C.push(Ea[l]),C.push(Ia[l])):102===l?(0===y?(x=1-pr(e,p,h),b=pr(e,f,h),S=pr(e,f,c),m=1-pr(e,p,c)):(x=pr(s,h,p),b=1-pr(s,h,f),S=1-pr(s,c,f),m=pr(s,c,p)),C.push(Ca[l]),C.push(Ma[l])):155===l?(4===y?(w=pr(e,h,p),_=1-pr(e,h,f),E=1-pr(e,c,f),v=pr(e,c,p)):(w=1-pr(s,p,h),_=pr(s,f,h),E=pr(s,f,c),v=1-pr(s,p,c)),C.push(Ea[l]),C.push(Oa[l])):103===l?(4===y?(x=1-pr(e,p,h),b=pr(e,f,h),S=pr(e,f,c),m=1-pr(e,p,c)):(x=pr(s,h,p),b=1-pr(s,h,f),S=1-pr(s,c,f),m=pr(s,c,p)),C.push(Ca[l]),C.push(Pa[l])):152===l?(0===y?(w=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),v=pr(e,c,p)):(w=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),v=1-pr(s,p,c)),C.push(Ea[l]),C.push(Pa[l]),C.push(Ia[l])):156===l?(4===y?(w=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),v=pr(e,c,p)):(w=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),v=1-pr(s,p,c)),C.push(Ea[l]),C.push(Ia[l]),C.push(Ma[l])):137===l?(0===y?(w=pr(s,h,p),x=pr(e,h,p),_=1-pr(e,h,f),E=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)):(w=1-pr(e,p,h),x=1-pr(s,p,h),_=pr(s,f,h),E=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)),C.push(Ea[l]),C.push(Ca[l]),C.push(Ia[l])):139===l?(4===y?(w=pr(s,h,p),x=pr(e,h,p),_=1-pr(e,h,f),E=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)):(w=1-pr(e,p,h),x=1-pr(s,p,h),_=pr(s,f,h),E=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)),C.push(Ea[l]),C.push(Ca[l]),C.push(Oa[l])):98===l?(0===y?(w=1-pr(e,p,h),x=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),S=pr(e,f,c),m=1-pr(e,p,c)):(w=pr(s,h,p),x=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),S=1-pr(s,c,f),m=pr(s,c,p)),C.push(Ea[l]),C.push(Ca[l]),C.push(Ma[l])):99===l?(4===y?(w=1-pr(e,p,h),x=1-pr(s,p,h),b=pr(s,f,h),_=pr(e,f,h),S=pr(e,f,c),m=1-pr(e,p,c)):(w=pr(s,h,p),x=pr(e,h,p),b=1-pr(e,h,f),_=1-pr(s,h,f),S=1-pr(s,c,f),m=pr(s,c,p)),C.push(Ea[l]),C.push(Ca[l]),C.push(Ia[l])):38===l?(0===y?(x=1-pr(e,p,h),b=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)):(x=pr(s,h,p),b=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)),C.push(Ca[l]),C.push(Oa[l]),C.push(Ma[l])):39===l?(4===y?(x=1-pr(e,p,h),b=pr(e,f,h),E=pr(e,f,c),S=pr(s,f,c),m=1-pr(s,p,c),v=1-pr(e,p,c)):(x=pr(s,h,p),b=1-pr(s,h,f),E=1-pr(s,c,f),S=1-pr(e,c,f),m=pr(e,c,p),v=pr(s,c,p)),C.push(Ca[l]),C.push(Pa[l]),C.push(Ma[l])):85===l&&(w=1,x=0,b=1,_=0,E=0,S=1,m=0,v=1),(m<0||m>1||v<0||v>1||w<0||w>1||b<0||b>1||E<0||E>1||S<0||S>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+p+","+h+","+f+" "+y+" "+m+" "+v+" "+w+" "+x+" "+b+" "+_+" "+E+" "+S),o.cells[a][u]={cval:l,cval_real:d,flipped:y,topleft:m,topright:v,righttop:w,rightbottom:x,bottomright:b,bottomleft:_,leftbottom:E,lefttop:S,edges:C}}}}}return o}(t,e,n);return Us.polygons?(Us.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=ja[t.cval](t);"object"==typeof o&&hr(o)?"object"==typeof o[0]&&hr(o[0])?"object"==typeof o[0][0]&&hr(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(l)):(Us.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=t.cells[o][s],u=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&zs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Vs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Vs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Zs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&zs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Vs?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Vs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Zs?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Vs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Zs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Zs?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&qs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Vs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Zs?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Zs?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&qs?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Vs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&qs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Zs?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&qs?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&qs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&zs?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&qs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&zs?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(a),l=null,c=s,p=o;null!==u&&i.push([u.p[0]+c,u.p[1]+p]);do{if(null===(l=function(t,e,n,r){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=Ca[l],s=ea[l],a=na[l],u=ra[l];break;default:i=Ea[l],s=Ks[l],a=$s[l],u=ta[l]}break;case 1:switch(r){case 0:i=Oa[l],s=fa[l],a=da[l],u=ya[l];break;default:i=Ma[l],s=ca[l],a=pa[l],u=ha[l]}break;default:switch(n){case-1:switch(r){case 0:i=Ta[l],s=Xs[l],a=Ys[l],u=Ws[l];break;default:i=Na[l],s=Hs[l],a=Js[l],u=Qs[l]}break;case 1:switch(r){case 0:i=Ia[l],s=ia[l],a=oa[l],u=sa[l];break;default:i=Pa[l],s=aa[l],a=ua[l],u=la[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&zs?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&Vs?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&Vs?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&Zs?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&zs?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&Vs?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&Vs?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&Zs?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&Vs?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&Zs?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&Zs?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&qs?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&Vs?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&Zs?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&Zs?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&qs?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&Vs?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&qs?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&Zs?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&qs?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&qs?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&zs?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&qs?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&zs?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}(t.cells[p][c],u.x,u.y,u.o)))break;if(i.push([l.p[0]+c,l.p[1]+p]),c+=l.x,p+=l.y,u=l,p<0||p>=n||c<0||c>=r||void 0===t.cells[p][c]){c-=l.x,p-=l.y;var h=function(t,e,n,r,i,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,l=n+i,c=[],p=!1;!p;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=r,s=t.cells[l][u],a=s.cval_real,-1===i)if(0===o)if(a&Zs)c.push([u,l]),r=-1,i=0,o=0;else{if(!(a&Vs)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,p=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(a&Zs)){if(a&Vs){c.push([u+s.bottomright,l]),r=0,i=1,o=1,p=!0;break}c.push([u+s.bottomleft,l]),r=0,i=1,o=0,p=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&zs)){if(a&qs){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,p=!0;break}c.push([u+s.topright,l+1]),r=0,i=-1,o=1,p=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(a&qs)){if(a&Zs){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,p=!0;break}c.push([u,l+s.lefttop]),r=1,i=0,o=1,p=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(a&qs)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&Vs)){c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,p=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(a&Vs)){if(a&zs){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,p=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(s=t.cells[l][u],a=s.cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(a&Zs)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,p=!0;break}c.push([u,l])}else{if(!(a&qs)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(a&zs)){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,p=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(a&Vs)){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1,p=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(a&qs)){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,p=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(u+=r,l+=i,u===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o:o}}(t,c,p,l.x,l.y,l.o);if(null===h)break;h.path.forEach((function(t){i.push(t)})),c=h.i,p=h.j,u=h}}while(void 0!==t.cells[p][c]&&t.cells[p][c].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),"function"==typeof Us.successCallback&&Us.successCallback(u),u}function pr(t,e,n){return(t-e)/(n-e)}function hr(t){return t.constructor.toString().indexOf("Array")>-1}function fr(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=ge(t)),!1!==i&&void 0!==i||(t=Ft(t)),I(t,(function(t){var n=sn(r,t)+e,i=un(r,t),o=V(nr(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}function dr(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=Ft(t)),"FeatureCollection"!==t.type||o?yr(t,e,r):(N(t,(function(n,i){t.features[i]=yr(n,e,r)})),t)}function yr(t,e,n){var i="Point"===Q(t);return n=function(t,e){if(void 0!==e&&null!==e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return z(e);var n=t.bbox?t.bbox:q(t),i=n[0],o=n[1],s=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return r([i,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return r([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return r([i,a]);case"ne":case"northeast":case"eastnorth":case"topright":return r([s,a]);case"center":return ye(t);case void 0:case null:case"centroid":return ge(t);default:throw new Error("invalid origin")}}(t,n),1===e||i||I(t,(function(t){var r=un(n,t),i=sn(n,t),o=V(nr(n,r*e,i));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t}function gr(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function mr(t,e){return t[0]*e[1]-e[0]*t[1]}function vr(t,e){return!function(t,e){return 0===mr(gr(t),gr(e))}(t,e)&&function(t,e){var n=t[0],r=gr(t),i=e[0],o=gr(e),s=mr(r,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(mr(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(i,n),o)/s,r))}(t,e)}function _r(t,e,n){var r=[],i=m(e,n),o=V(t),s=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var r=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),i=t[0]+n*(e[1]-t[1])/r,o=e[0]+n*(e[1]-t[1])/r,s=t[1]+n*(t[0]-e[0])/r,a=e[1]+n*(t[0]-e[0])/r;return[[i,s],[o,a]]}(t,o[e+1],i);if(r.push(n),e>0){var a=r[e-1],u=vr(n,a);!1!==u&&(a[1]=u,n[0]=u),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}})),a(s,t.properties)}function br(t,e,n){var r=e[0]-t[0],i=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(r*s-o*i)}function wr(t,e){return e.geometry.coordinates[0].every((function(e){return Tt(r(e),t)}))}function xr(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return r*s-i*o==0&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function Sr(t,e){return nn(e,Gn(t)).features.length>0}function Er(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function Cr(t,e){return t[0]===e[0]&&t[1]===e[1]}function Pr(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),Mr(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function Ir(t,e){return nn(t,Gn(e)).features.length>0}function Or(t,e){for(var n=!1,i=!1,o=t.coordinates[0].length,s=0;s<o&&n&&i;)Tt(r(t.coordinates[0][s]),e)?n=!0:i=!0,s++;return i&&i}function Mr(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function Tr(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function Nr(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function jr(t,e){return Ga(t,e,{strict:!0})}function Lr(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Q(t);if(n!==Q(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new qa({precision:6}).compare(t,e))return!1;var r=0;switch(n){case"MultiPoint":var i=L(t),o=L(e);i.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&r++}))}));break;case"LineString":case"MultiLineString":F(t,(function(t){F(e,(function(e){$n(t,e).features.length&&r++}))}));break;case"Polygon":case"MultiPolygon":F(t,(function(t){F(e,(function(e){nn(t,e).features.length&&r++}))}))}return r>0}function Ar(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}function kr(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Rr(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Dr(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new Fr(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function Fr(t,e,n){this.x=t,this.y=e,this.weight=n}function Br(t){this.content=[],this.scoreFunction=t}function Gr(t){return t[0]}function Ur(t){return t[1]}function qr(){this._=null}function zr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Vr(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Zr(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Xr(t){for(;t.L;)t=t.L;return t}function Yr(t,e,n,r){var i=[null,null],o=uu.push(i)-1;return i.left=t,i.right=e,n&&Hr(i,t,e,n),r&&Hr(i,e,t,r),su[t.index].halfedges.push(o),su[e.index].halfedges.push(o),i}function Wr(t,e,n){var r=[e,n];return r.left=t,r}function Hr(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Jr(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,p=1,h=a[0]-u,f=a[1]-l;if(o=e-u,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<p&&(p=o)}else if(h>0){if(o>p)return;o>c&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(o>p)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<p&&(p=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<p&&(p=o)}else if(f>0){if(o>p)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>p)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<p&&(p=o)}return!(c>0||p<1)||(c>0&&(t[0]=[u+c*h,l+c*f]),p<1&&(t[1]=[u+p*h,l+p*f]),!0)}}}}}function Qr(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,p=l[0],h=l[1],f=c[0],d=c[1],y=(p+f)/2,g=(h+d)/2;if(d===h){if(y<e||y>=r)return;if(p>f){if(u){if(u[1]>=i)return}else u=[y,n];o=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];o=[y,n]}}else if(s=(p-f)/(d-h),a=g-s*y,s<-1||s>1)if(p>f){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(h<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function Kr(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function $r(t,e){return e[+(e.left!==t.site)]}function ti(t,e){return e[+(e.left===t.site)]}function ei(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,c=o[0]-s,p=o[1]-a,h=2*(u*p-l*c);if(!(h>=-hu)){var f=u*u+l*l,d=c*c+p*p,y=(p*f-l*d)/h,g=(u*d-c*f)/h,m=lu.pop()||new function(){zr(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=i,m.x=y+s,m.y=(m.cy=g+a)+Math.sqrt(y*y+g*g),t.circle=m;for(var v=null,_=au._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}au.insert(v,m),v||(iu=m)}}}}function ni(t){var e=t.circle;e&&(e.P||(iu=e.N),au.remove(e),lu.push(e),zr(e),t.circle=null)}function ri(t){var e=cu.pop()||new function(){zr(this),this.edge=this.site=this.circle=null};return e.site=t,e}function ii(t){ni(t),ou.remove(t),cu.push(t),zr(t)}function oi(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];ii(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<pu&&Math.abs(r-u.circle.cy)<pu;)o=u.P,a.unshift(u),ii(u),u=o;a.unshift(u),ni(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<pu&&Math.abs(r-l.circle.cy)<pu;)s=l.N,a.push(l),ii(l),l=s;a.push(l),ni(l);var c,p=a.length;for(c=1;c<p;++c)l=a[c],u=a[c-1],Hr(l.edge,u.site,l.site,i);u=a[0],(l=a[p-1]).edge=Yr(u.site,l.site,null,i),ei(u),ei(l)}function si(t){for(var e,n,r,i,o=t[0],s=t[1],a=ou._;a;)if((r=ai(a,s)-o)>pu)a=a.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return ai(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(a,s))>pu)){r>-pu?(e=a.P,n=a):i>-pu?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){su[t.index]={site:t,halfedges:[]}}(t);var u=ri(t);if(ou.insert(e,u),e||n){if(e===n)return ni(e),n=ri(e.site),ou.insert(u,n),u.edge=n.edge=Yr(e.site,u.site),ei(e),void ei(n);if(n){ni(e),ni(n);var l=e.site,c=l[0],p=l[1],h=t[0]-c,f=t[1]-p,d=n.site,y=d[0]-c,g=d[1]-p,m=2*(h*g-f*y),v=h*h+f*f,_=y*y+g*g,b=[(g*v-f*_)/m+c,(h*_-y*v)/m+p];Hr(n.edge,l,d,b),u.edge=Yr(l,t,null,b),n.edge=Yr(t,d,null,b),ei(e),ei(n)}else u.edge=Yr(e.site,u.site)}}function ai(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-r,p=1/o-1/l,h=c/l;return p?(-h+Math.sqrt(h*h-2*p*(c*c/(-2*l)-u+l/2+i-o/2)))/p+r:(r+a)/2}function ui(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function li(t,e){return e[1]-t[1]||e[0]-t[0]}function ci(t,e){var n,r,i,o=t.sort(li).pop();for(uu=[],su=new Array(t.length),ou=new qr,au=new qr;;)if(i=iu,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(si(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;oi(i.arc)}if(function(){for(var t,e,n,r,i=0,o=su.length;i<o;++i)if((t=su[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=Kr(t,uu[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=uu.length;o--;)Qr(i=uu[o],t,e,n,r)&&Jr(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pu||Math.abs(i[0][1]-i[1][1])>pu)||delete uu[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,c,p,h,f,d,y,g=su.length,m=!0;for(i=0;i<g;++i)if(o=su[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)uu[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)d=(f=ti(o,uu[u[a]]))[0],y=f[1],p=(c=$r(o,uu[u[++a%l]]))[0],h=c[1],(Math.abs(d-p)>pu||Math.abs(y-h)>pu)&&(u.splice(a,0,uu.push(Wr(s,f,Math.abs(d-t)<pu&&r-y>pu?[t,Math.abs(p-t)<pu?h:r]:Math.abs(y-r)<pu&&n-d>pu?[Math.abs(h-r)<pu?p:n,r]:Math.abs(d-n)<pu&&y-e>pu?[n,Math.abs(p-n)<pu?h:e]:Math.abs(y-e)<pu&&d-t>pu?[Math.abs(h-e)<pu?p:t,e]:null))-1),++l);l&&(m=!1)}if(m){var v,_,b,w=1/0;for(i=0,m=null;i<g;++i)(o=su[i])&&(b=(v=(s=o.site)[0]-t)*v+(_=s[1]-e)*_)<w&&(w=b,m=o);if(m){var x=[t,e],S=[t,r],E=[n,r],C=[n,e];m.halfedges.push(uu.push(Wr(s=m.site,x,S))-1,uu.push(Wr(s,S,E))-1,uu.push(Wr(s,E,C))-1,uu.push(Wr(s,C,x))-1)}}for(i=0;i<g;++i)(o=su[i])&&(o.halfedges.length||delete su[i])}(s,a,u,l)}this.edges=uu,this.cells=su,ou=au=uu=su=null}function pi(t){return(t=t.slice()).push(t[0]),o([t])}function hi(t,e,n,r){var i=(r=r||{}).steps||64,s=r.units||"kilometers",a=r.angle||0,u=r.pivot||t,l=r.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!E(r))throw new Error("options must be an object");if(!S(i))throw new Error("steps must be a number");if(!S(a))throw new Error("angle must be a number");var c=z(t);if("degrees"===s)var p=b(a);else e=nr(t,e,90,{units:s}),n=nr(t,n,0,{units:s}),e=z(e)[0]-c[0],n=z(n)[1]-c[1];for(var h=[],f=0;f<i;f+=1){var d=-360*f/i,y=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(fi(d),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(fi(d),2));if(d<-90&&d>=-270&&(y=-y),d<-180&&d>=-360&&(g=-g),"degrees"===s){var m=y*Math.cos(p)+g*Math.sin(p),v=g*Math.cos(p)-y*Math.sin(p);y=m,g=v}h.push([y+c[0],g+c[1]])}return h.push(h[0]),"degrees"===s?o([h],l):fr(o([h],l),a,{pivot:u})}function fi(t){var e=t*Math.PI/180;return Math.tan(e)}function di(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.properties,i=e.weight;if(!t)throw new Error("geojson is required");var o=0,s=0,a=0;return A(t,(function(t,e,n){var r=n[i];if(r=void 0===r||null===r?1:r,!S(r))throw new Error("weight value must be a number for feature index "+e);(r=Number(r))>0&&I(t,(function(t){o+=t[0]*r,s+=t[1]*r,a+=r}))})),r([o/a,s/a],n)}function yi(t,e,n,i){var o=n.properties.tolerance||.001,s=0,a=0,u=0,l=0;if(N(n,(function(e){var n=e.properties.weight,r=void 0===n||null===n?1:n;if(r=Number(r),!S(r))throw new Error("weight value must be a number");if(r>0){l+=1;var i=r*Dt(e,t);0===i&&(i=1);var o=r/i;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,u+=o}})),l<1)throw new Error("no features to measure");var c=s/u,p=a/u;return 1===l||0===i||Math.abs(c-e[0])<o&&Math.abs(p-e[1])<o?r([c,p],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,p]),yi([c,p],t,n,i-1))}function gi(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function mi(t){if(E(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*wi(),180*wi()]}function vi(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.bbox;void 0!==t&&null!==t||(t=1);for(var i=[],o=0;o<t;o++)i.push(r(mi(n)));return l(i)}function _i(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_radial_length;void 0!==t&&null!==t||(t=1),S(r)||(r=10),S(i)||(i=10);for(var s=[],a=0;a<t;a++){var u=[],c=Array.apply(null,new Array(r+1)).map(Math.random);c.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),c.forEach((function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();u.push([e*i*Math.sin(t),e*i*Math.cos(t)])})),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(mi(n))),s.push(o([u]))}return l(s)}function bi(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,i=e.max_length,o=e.max_rotation;void 0!==t&&null!==t||(t=1),(!S(r)||r<2)&&(r=10),S(i)||(i=1e-4),S(o)||(o=Math.PI/8);for(var s=[],u=0;u<t;u++){for(var c=[mi(n)],p=0;p<r-1;p++){var h=(0===p?2*Math.random()*Math.PI:Math.tan((c[p][1]-c[p-1][1])/(c[p][0]-c[p-1][0])))+(Math.random()-.5)*o*2,f=Math.random()*i;c.push([c[p][0]+f*Math.cos(h),c[p][1]+f*Math.sin(h)])}s.push(a(c))}return l(s)}function wi(){return Math.random()-.5}function xi(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("filter is required");var n=[];return N(t,(function(t){Pi(t.properties,e)&&n.push(t)})),l(n)}function Si(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(void 0===e||null===e)throw new Error("property is required");for(var r=Ci(t,e),i=Object.keys(r),o=0;o<i.length;o++){for(var s=i[o],a=r[s],u=[],c=0;c<a.length;c++)u.push(t.features[a[c]]);n(l(u),s,o)}}function Ei(t,e,n,r){var i=r;return Si(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i}function Ci(t,e){var n={};return N(t,(function(t,r){var i=t.properties||{};if(i.hasOwnProperty(e)){var o=i[e];n.hasOwnProperty(o)?n[o].push(r):n[o]=[r]}})),n}function Pi(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!Pi(t,e[r]))return!1;return!0}return Ii(t,e)}function Ii(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}function Oi(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];t.hasOwnProperty(i)&&(n[i]=t[i])}return n}function Mi(){}function Ti(t){this.message=t||""}function Ni(t){this.message=t||""}function ji(){}function Li(t){return null===t?Al:t.color}function Ai(t){return null===t?null:t.parent}function ki(t,e){null!==t&&(t.color=e)}function Ri(t){return null===t?null:t.left}function Di(t){return null===t?null:t.right}function Fi(){this.root_=null,this.size_=0}function Bi(){}function Gi(){this.array_=[],arguments[0]instanceof _l&&this.addAll(arguments[0])}function Ui(){}function qi(t){this.message=t||""}function zi(){this.array_=[]}function Vi(t){switch(t.type){case"Polygon":return vn(t)>1?t:null;case"MultiPolygon":var e=[];if(R(t,(function(t){vn(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function Zi(){this.reset()}function Xi(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function Yi(t){return t>1?Gf:t<-1?-Gf:Math.asin(t)}function Wi(){}function Hi(t,e){t&&ed.hasOwnProperty(t.type)&&ed[t.type](t,e)}function Ji(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Qi(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ji(t[n],e,1);e.polygonEnd()}function Ki(t){return[Yf(t[1],t[0]),Yi(t[2])]}function $i(t){var e=t[0],n=t[1],r=Wf(n);return[r*Wf(e),r*Qf(e),Qf(n)]}function to(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function eo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function no(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function io(t){var e=Kf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function oo(t,e){return[t>Bf?t-qf:t<-Bf?t+qf:t,e]}function so(t,e,n){return(t%=qf)?e||n?rd(uo(t),lo(e,n)):uo(t):e||n?lo(e,n):oo}function ao(t){return function(e,n){return e+=t,[e>Bf?e-qf:e<-Bf?e+qf:e,n]}}function uo(t){var e=ao(t);return e.invert=ao(-t),e}function lo(t,e){function n(t,e){var n=Wf(e),a=Wf(t)*n,u=Qf(t)*n,l=Qf(e),c=l*r+a*i;return[Yf(u*o-c*s,a*r-l*i),Yi(c*o+u*s)]}var r=Wf(t),i=Qf(t),o=Wf(e),s=Qf(e);return n.invert=function(t,e){var n=Wf(e),a=Wf(t)*n,u=Qf(t)*n,l=Qf(e),c=l*o-u*s;return[Yf(u*o+l*s,a*r+c*i),Yi(c*r-a*i)]},n}function co(t,e){(e=$i(e))[0]-=t,io(e);var n=function(t){return t>1?0:t<-1?Bf:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+qf-Ff)%qf}function po(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ho(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function fo(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,l){var c=0,p=0;if(null==i||(c=s(i,a))!==(p=s(o,a))||u(i,o)<0^a>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+a+4)%4)!==p);else l.point(o[0],o[1])}function s(r,i){return Zf(r[0]-t)<Ff?i>0?0:3:Zf(r[0]-n)<Ff?i>0?2:1:Zf(r[1]-e)<Ff?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t,e){i(t,e)&&w.point(t,e)}function l(o,s){var a=i(o,s);if(p&&h.push([o,s]),_)f=o,d=s,y=a,_=!1,a&&(w.lineStart(),w.point(o,s));else if(a&&v)w.point(o,s);else{var u=[g=Math.max(hd,Math.min(pd,g)),m=Math.max(hd,Math.min(pd,m))],l=[o=Math.max(hd,Math.min(pd,o)),s=Math.max(hd,Math.min(pd,s))];sd(u,l,t,e,n,r)?(v||(w.lineStart(),w.point(u[0],u[1])),w.point(l[0],l[1]),a||w.lineEnd(),b=!1):a&&(w.lineStart(),w.point(o,s),b=!1)}g=o,m=s,v=a}var c,p,h,f,d,y,g,m,v,_,b,w=s,x=od(),S={point:u,lineStart:function(){S.point=l,p&&p.push(h=[]),_=!0,v=!1,g=m=NaN},lineEnd:function(){c&&(l(f,d),y&&v&&x.rejoin(),c.push(x.result())),S.point=u,v&&w.lineEnd()},polygonStart:function(){w=x,c=[],p=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=p.length;n<i;++n)for(var o,s,a=p[n],u=1,l=a.length,c=a[0],h=c[0],f=c[1];u<l;++u)o=h,s=f,h=(c=a[u])[0],f=c[1],s<=r?f>r&&(h-o)*(r-s)>(f-s)*(t-o)&&++e:f<=r&&(h-o)*(r-s)<(f-s)*(t-o)&&--e;return e}(),n=b&&e,i=(c=cd(c)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&ud(c,a,e,o,s),s.polygonEnd()),w=s,c=p=h=null}};return S}}function yo(t){return t.length>1}function go(t,e){return((t=t.x)[0]<0?t[1]-Gf-Ff:Gf-t[1])-((e=e.x)[0]<0?e[1]-Gf-Ff:Gf-e[1])}function mo(t){return function(e){var n=new vo;for(var r in t)n[r]=t[r];return n.stream=e,n}}function vo(){}function _o(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),nd(n,t.stream(_d));var s=_d.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}function bo(t){return function(t){function e(t){return t=l(t[0]*Vf,t[1]*Vf),[t[0]*y+s,a-t[1]*y]}function n(t,e){return t=o(t,e),[t[0]*y+s,a-t[1]*y]}function r(){l=rd(u=so(b,w,x),o);var t=o(v,_);return s=g-t[0]*y,a=m+t[1]*y,i()}function i(){return f=d=null,e}var o,s,a,u,l,c,p,h,f,d,y=150,g=480,m=250,v=0,_=0,b=0,w=0,x=0,S=null,E=wd,C=null,P=dd,I=.5,O=Cd(n,I);return e.stream=function(t){return f&&d===t?f:f=Pd(E(u,O(P(d=t))))},e.clipAngle=function(t){return arguments.length?(E=+t?xd(S=t*Vf,6*Vf):(S=null,wd),i()):S*zf},e.clipExtent=function(t){return arguments.length?(P=null==t?(C=c=p=h=null,dd):fo(C=+t[0][0],c=+t[0][1],p=+t[1][0],h=+t[1][1]),i()):null==C?null:[[C,c],[p,h]]},e.scale=function(t){return arguments.length?(y=+t,r()):y},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],r()):[g,m]},e.center=function(t){return arguments.length?(v=t[0]%360*Vf,_=t[1]%360*Vf,r()):[v*zf,_*zf]},e.rotate=function(t){return arguments.length?(b=t[0]%360*Vf,w=t[1]%360*Vf,x=t.length>2?t[2]%360*Vf:0,r()):[b*zf,w*zf,x*zf]},e.precision=function(t){return arguments.length?(O=Cd(n,I=t*t),i()):Kf(I)},e.fitExtent=function(t,n){return _o(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return _o(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-s)/y,(a-t[1])/y))&&[t[0]*zf,t[1]*zf]},r()}}((function(){return t}))()}function wo(t,e){return[t,Jf($f((Gf+e)/2))]}function xo(t,e){return[Jf($f((Gf+e)/2)),-t]}function So(t,n,r,i){var o=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var a=[];return A(t,(function(t){var e=So(t,n,r,i);e&&a.push(e)})),l(a)}var u,c=q(t),p=c[1]>50&&c[3]>50;u=p?{type:s.type,coordinates:Co(s.coordinates,Io(s))}:ln(s);var h,f=(new Sc).read(u),d=y(g(n,r),"meters"),m=dh.bufferOp(f,d);if(m=(new Ec).write(m),!Eo(m.coordinates))return(h=p?{type:m.type,coordinates:Po(m.coordinates,Io(s))}:cn(m)).geometry?h:e(h,o)}function Eo(t){return Array.isArray(t[0])?Eo(t[0]):isNaN(t[0])}function Co(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return Co(t,e)}))}function Po(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return Po(t,e)}))}function Io(t){var e=ye(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return Id().center(e).rotate(n).scale(Ro)}function Oo(){for(var t=new Sc,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=kf.union(e,t.read(JSON.stringify(arguments[n].geometry)));return e=(new Ec).write(e),{type:"Feature",geometry:e,properties:arguments[0].properties}}function Mo(t,n){var r=H(t),i=H(n);if(te(Tn(i,{precision:4})).coordinates[0].length<4)return null;if(te(Tn(r,{precision:4})).coordinates[0].length<4)return null;var o=new Sc,s=o.read(Tn(r)),a=o.read(Tn(i)),u=Pf.intersection(s,a);return u.isEmpty()?null:e((new Ec).write(u))}function To(t,e){return function(t,e,n){var r,i;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,o){var s=n(e,t);s>=0&&(void 0===i||s<i)&&(i=s,r=o)})),r}(t,e,(function(t,e){return t-e}))}function No(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.properties||{},i=n.triangles,s=n.mask;if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(s&&-1===["Polygon","MultiPolygon"].indexOf(Q(s)))throw new Error("options.mask must be a (Multi)Polygon");var a=t[0],u=t[1],c=t[2],p=t[3],h=(u+p)/2,f=(a+c)/2,d=2*e/Dt([a,h],[c,h],n)*(c-a),y=2*e/Dt([f,u],[f,p],n)*(p-u),g=d/2,m=2*g,v=Math.sqrt(3)/2*y,_=c-a,b=p-u,w=.75*m,x=v,C=(_-m)/(m-g/2),P=Math.floor(C),I=(P*w-g/2-_)/2-g/2+w/2,O=Math.floor((b-v)/v),M=(b-O*v)/2,T=O*v-b>v/2;T&&(M-=v/4);for(var N=[],j=[],L=0;L<6;L++){var A=2*Math.PI/6*L;N.push(Math.cos(A)),j.push(Math.sin(A))}for(var k=[],R=0;R<=P;R++)for(var D=0;D<=O;D++){var F=R%2==1;if((0!==D||!F)&&(0!==D||!T)){var B=R*w+a-I,G=D*x+u+M;if(F&&(G-=v/2),!0===i)(function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*i[u],t[1]+n*s[u]]),l.push([t[0]+e*i[(u+1)%6],t[1]+n*s[(u+1)%6]]),l.push(t),a.push(o([l],r))}return a})([B,G],d/2,y/2,r,N,j).forEach((function(t){s?Mo(s,t)&&k.push(t):k.push(t)}));else{var U=function(t,e,n,r,i,s){for(var a=[],u=0;u<6;u++){var l=t[0]+e*i[u],c=t[1]+n*s[u];a.push([l,c])}return a.push(a[0].slice()),o([a],r)}([B,G],d/2,y/2,r,N,j);s?Mo(s,U)&&k.push(U):k.push(U)}}}return l(k)}function jo(t){if(t.features.length<=1)return t;var e=function(t){var e=Xo(),n=[];return R(t,(function(t,e){var r=q(t);n.push({minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],r={};return R(t,(function(t,i){if(r[i])return!0;for(e.remove({index:i},Lo),r[i]=!0;;){var o=q(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map((function(t){return r[t.index]=!0,e.remove({index:t.index},Lo),t.geojson}));a.push(t),t=Oo.apply(this,a)}if(0===s.length)break}n.push(t)})),l(n)}function Lo(t,e){return t.index===e.index}function Ao(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.properties,i=n.mask,s=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Q(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],u=t[1],c=t[2],p=t[3],h=e/Dt([a,u],[c,u],n)*(c-a),f=e/Dt([a,u],[a,p],n)*(p-u),d=c-a,y=p-u,g=Math.floor(d/h),m=Math.floor(y/f),v=(y-m*f)/2,_=a+(d-g*h)/2,b=0;b<g;b++){for(var w=u+v,x=0;x<m;x++){var C=o([[[_,w],[_,w+f],[_+h,w+f],[_+h,w],[_,w]]],r);i?Mo(i,C)&&s.push(C):s.push(C),w+=f}_+=h}return l(s)}function ko(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.properties,i=n.mask,s=[];if(null===e||void 0===e)throw new Error("cellSide is required");if(!S(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(i&&-1===["Polygon","MultiPolygon"].indexOf(Q(i)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/Dt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Dt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,p=t[0];p<=t[2];){for(var h=0,f=t[1];f<=t[3];){var d=null,y=null;c%2==0&&h%2==0?(d=o([[[p,f],[p,f+u],[p+a,f],[p,f]]],r),y=o([[[p,f+u],[p+a,f+u],[p+a,f],[p,f+u]]],r)):c%2==0&&h%2==1?(d=o([[[p,f],[p+a,f+u],[p+a,f],[p,f]]],r),y=o([[[p,f],[p,f+u],[p+a,f+u],[p,f]]],r)):h%2==0&&c%2==1?(d=o([[[p,f],[p,f+u],[p+a,f+u],[p,f]]],r),y=o([[[p,f],[p+a,f+u],[p+a,f],[p,f]]],r)):h%2==1&&c%2==1&&(d=o([[[p,f],[p,f+u],[p+a,f],[p,f]]],r),y=o([[[p,f+u],[p+a,f+u],[p+a,f],[p,f+u]]],r)),i?(Mo(i,d)&&s.push(d),Mo(i,y)&&s.push(y)):(s.push(d),s.push(y)),f+=u,h++}c++,p+=a}return l(s)}var Ro=6371008.8,Do={meters:Ro,metres:Ro,millimeters:1e3*Ro,millimetres:1e3*Ro,centimeters:100*Ro,centimetres:100*Ro,kilometers:Ro/1e3,kilometres:Ro/1e3,miles:Ro/1609.344,nauticalmiles:Ro/1852,inches:39.37*Ro,yards:Ro/1.0936,feet:3.28084*Ro,radians:1,degrees:Ro/111325},Fo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/Ro,degrees:1/111325},Bo={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Go=Object.freeze({earthRadius:Ro,factors:Do,unitsFactors:Fo,areaFactors:Bo,feature:e,geometry:n,point:r,points:i,polygon:o,polygons:s,lineString:a,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:p,multiPolygon:h,geometryCollection:f,round:d,radiansToLength:y,lengthToRadians:g,lengthToDegrees:m,bearingToAzimuth:v,radiansToDegrees:_,degreesToRadians:b,convertLength:w,convertArea:x,isNumber:S,isObject:E,validateBBox:C,validateId:P,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Uo=Object.freeze({coordEach:I,coordReduce:O,propEach:M,propReduce:T,featureEach:N,featureReduce:j,coordAll:L,geomEach:A,geomReduce:k,flattenEach:R,flattenReduce:D,segmentEach:F,segmentReduce:B,lineEach:G,lineReduce:U}),qo=Object.freeze({getCoord:z,getCoords:V,containsNumber:Z,geojsonType:X,featureOf:Y,collectionOf:W,getGeom:H,getGeomType:J,getType:Q}),zo={successCallback:null,verbose:!1},Vo={},Zo=it,Xo=st;st.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!yt(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],yt(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):dt(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!yt(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],s=e.leaf?n(o):o,yt(t,s)){if(e.leaf||dt(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=gt([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!dt(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:ct,compareMinY:pt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=gt(t.slice(e,n+1)),at(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=gt([])).leaf=!1,i.height=r;var a,u,l,c,p=Math.ceil(o/s),h=p*Math.ceil(Math.sqrt(s));for(mt(t,e,n,h,this.compareMinX),a=e;a<=n;a+=h)for(mt(t,a,l=Math.min(a+h-1,n),p,this.compareMinY),u=a;u<=l;u+=p)c=Math.min(u+p-1,l),i.children.push(this._build(t,u,c,r-1));return at(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,p;r.push(e),!e.leaf&&r.length-1!==n;){for(c=p=1/0,i=0,o=e.children.length;i<o;i++)u=ht(s=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<p?(p=l,c=u<c?u:c,a=s):l===p&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),lt(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=gt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,at(n,this.toBBox),at(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=gt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,at(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=ut(t,0,r,this.toBBox),o=ut(t,r,n,this.toBBox)),a=ht(i)+ht(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:ct,i=t.leaf?this.compareMinY:pt;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=ut(t,0,e,s),u=ut(t,n-e,n,s),l=ft(a)+ft(u);for(i=e;i<n-e;i++)o=t.children[i],lt(a,t.leaf?s(o):o),l+=ft(a);for(i=n-e-1;i>=e;i--)o=t.children[i],lt(u,t.leaf?s(o):o),l+=ft(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)lt(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():at(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Yo=function(t,e,n){var r=t*e,i=Wo*t,o=i-(i-t),s=t-o,a=Wo*e,u=a-(a-e),l=e-u,c=s*l-(r-o*u-s*u-o*l);return n?(n[0]=c,n[1]=r,n):[c,r]},Wo=+(Math.pow(2,27)+1),Ho=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],e[0]);var i,o,s=n+r,a=new Array(s),u=0,l=0,c=0,p=Math.abs,h=t[l],f=p(h),d=e[c],y=p(d);f<y?(o=h,(l+=1)<n&&(f=p(h=t[l]))):(o=d,(c+=1)<r&&(y=p(d=e[c]))),l<n&&f<y||c>=r?(i=h,(l+=1)<n&&(f=p(h=t[l]))):(i=d,(c+=1)<r&&(y=p(d=e[c])));for(var g,m,v=i+o,_=v-i,b=o-_,w=b,x=v;l<n&&c<r;)f<y?(i=h,(l+=1)<n&&(f=p(h=t[l]))):(i=d,(c+=1)<r&&(y=p(d=e[c]))),(b=(o=w)-(_=(v=i+o)-i))&&(a[u++]=b),w=x-((g=x+v)-(m=g-x))+(v-m),x=g;for(;l<n;)(b=(o=w)-(_=(v=(i=h)+o)-i))&&(a[u++]=b),w=x-((g=x+v)-(m=g-x))+(v-m),x=g,(l+=1)<n&&(h=t[l]);for(;c<r;)(b=(o=w)-(_=(v=(i=d)+o)-i))&&(a[u++]=b),w=x-((g=x+v)-(m=g-x))+(v-m),x=g,(c+=1)<r&&(d=e[c]);return w&&(a[u++]=w),x&&(a[u++]=x),u||(a[u++]=0),a.length=u,a},Jo=function(t,e,n){var r=t+e,i=r-t,o=e-i,s=t-(r-i);return n?(n[0]=s+o,n[1]=r,n):[s+o,r]},Qo=function(t,e){var n=t.length;if(1===n){var r=Yo(t[0],e);return r[0]?r:[r[1]]}var i=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Yo(t[0],e,o),o[0]&&(i[a++]=o[0]);for(var u=1;u<n;++u){Yo(t[u],e,s);var l=o[1];Jo(l,s[0],o),o[0]&&(i[a++]=o[0]);var c=s[1],p=o[1],h=c+p,f=p-(h-c);o[1]=h,f&&(i[a++]=f)}return o[1]&&(i[a++]=o[1]),0===a&&(i[a++]=0),i.length=a,i},Ko=function(t,e){var n=0|t.length,r=0|e.length;if(1===n&&1===r)return function(t,e){var n=t+e,r=n-t,i=t-(n-r)+(e-r);return i?[i,n]:[n]}(t[0],-e[0]);var i,o,s=n+r,a=new Array(s),u=0,l=0,c=0,p=Math.abs,h=t[l],f=p(h),d=-e[c],y=p(d);f<y?(o=h,(l+=1)<n&&(f=p(h=t[l]))):(o=d,(c+=1)<r&&(y=p(d=-e[c]))),l<n&&f<y||c>=r?(i=h,(l+=1)<n&&(f=p(h=t[l]))):(i=d,(c+=1)<r&&(y=p(d=-e[c])));for(var g,m,v=i+o,_=v-i,b=o-_,w=b,x=v;l<n&&c<r;)f<y?(i=h,(l+=1)<n&&(f=p(h=t[l]))):(i=d,(c+=1)<r&&(y=p(d=-e[c]))),(b=(o=w)-(_=(v=i+o)-i))&&(a[u++]=b),w=x-((g=x+v)-(m=g-x))+(v-m),x=g;for(;l<n;)(b=(o=w)-(_=(v=(i=h)+o)-i))&&(a[u++]=b),w=x-((g=x+v)-(m=g-x))+(v-m),x=g,(l+=1)<n&&(h=t[l]);for(;c<r;)(b=(o=w)-(_=(v=(i=d)+o)-i))&&(a[u++]=b),w=x-((g=x+v)-(m=g-x))+(v-m),x=g,(c+=1)<r&&(d=-e[c]);return w&&(a[u++]=w),x&&(a[u++]=x),u||(a[u++]=0),a.length=u,a},$o=vt((function(t){function e(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(i[s++]=t[r][o]);return n}function n(t){return 1&t?"-":""}function r(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",r(t.slice(0,e)),",",r(t.slice(e)),")"].join("")}function i(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],s=0;s<t.length;++s)o.push(["scale(",r(i(e(t,s))),",",n(s),t[0][s],")"].join(""));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}(t),a=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,i(e(s,u))):o.push.apply(o,i(e(s,u))),a.push("m"+u);var l=r(n),c=r(o),p="orientation"+t+"Exact",h=["function ",p,"(",a.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",p].join("");return new Function("sum","prod","scale","sub",h)(Ho,Yo,Qo,Ko)}var s=5,a=o(3),u=o(4),l=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=i-o;if(i>0){if(o<=0)return s;r=i+o}else{if(!(i<0))return s;if(o>=0)return s;r=-(i+o)}var u=33306690738754716e-32*r;return s>=u||s<=-u?s:a(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],o=e[0]-r[0],s=n[0]-r[0],a=t[1]-r[1],l=e[1]-r[1],c=n[1]-r[1],p=t[2]-r[2],h=e[2]-r[2],f=n[2]-r[2],d=o*c,y=s*l,g=s*a,m=i*c,v=i*l,_=o*a,b=p*(d-y)+h*(g-m)+f*(v-_),w=7771561172376103e-31*((Math.abs(d)+Math.abs(y))*Math.abs(p)+(Math.abs(g)+Math.abs(m))*Math.abs(h)+(Math.abs(v)+Math.abs(_))*Math.abs(f));return b>w||-b>w?b:u(t,e,n,r)}];!function(){for(;l.length<=s;)l.push(o(l.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=l[t.length];return e||(e=l[t.length]=o(t.length)),e.apply(void 0,t)}].concat(l)),r=0;r<=s;++r)t.exports[r]=l[r]}()})),ts=function(t){var e=t.length;if(e<3){for(var n=new Array(e),r=0;r<e;++r)n[r]=r;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var i=new Array(e);for(r=0;r<e;++r)i[r]=r;i.sort((function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]}));var o=[i[0],i[1]],s=[i[0],i[1]];for(r=2;r<e;++r){for(var a=i[r],u=t[a],l=o.length;l>1&&es(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(a),l=s.length;l>1&&es(t[s[l-2]],t[s[l-1]],u)>=0;)l-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var c=0,p=(r=0,o.length);r<p;++r)n[c++]=o[r];for(var h=s.length-2;h>0;--h)n[c++]=s[h];return n},es=$o[3],ns=_t,rs=_t;_t.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,r=e[t];t>0;){var i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r},_down:function(t){for(var e=this.data,n=this.compare,r=this.length>>1,i=e[t];t<r;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,i)>=0)break;e[t]=a,t=o}e[t]=i}},ns.default=rs;var is=function(t,e){for(var n=t[0],r=t[1],i=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],u=e[o][1],l=e[s][0],c=e[s][1];u>r!=c>r&&n<(l-a)*(r-u)/(c-u)+a&&(i=!i)}return i},os=$o[3],ss=bt,as=bt;ss.default=as;var us=function(t){return t},ls=function(t){if(null==t)return us;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*r+o,c[1]=(n+=t[1])*i+s;u<l;)c[u]=t[u],++u;return c}},cs=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},ps=function(t,e){function n(t,e){for(var n in t){var i=t[n];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){r[t<0?~t:t]=1})),s.push(i)}}var r={},i={},o={},s=[],a=-1;return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,r,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1],e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=u,r=i[u]){delete i[r.start];var l=r===n?n:n.concat(r);i[l.start=n.start]=o[l.end=r.end]=l}else i[n.start]=o[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(e),n.start=a,r=o[a]){delete o[r.end];var c=r===n?n:r.concat(n);i[c.start=r.start]=o[c.end=n.end]=c}else i[n.start]=o[n.end]=n;else i[(n=[e]).start=a]=o[n.end=u]=n})),n(o,i),n(i,o),e.forEach((function(t){r[t<0?~t:t]||s.push([t])})),s},hs=function(t){return zt(t,Vt.apply(this,arguments))},fs=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;return{set:function(r,o){for(var l=e(r)&u,c=s[l],p=0;c!=i;){if(n(c,r))return a[l]=o;if(++p>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o},maybeSet:function(r,o){for(var l=e(r)&u,c=s[l],p=0;c!=i;){if(n(c,r))return a[l];if(++p>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o},get:function(r,o){for(var l=e(r)&u,c=s[l],p=0;c!=i;){if(n(c,r))return a[l];if(++p>=t)break;c=s[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}}},ds=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ys=new ArrayBuffer(16),gs=new Float64Array(ys),ms=new Uint32Array(ys),vs=function(t){gs[0]=t[0],gs[1]=t[1];var e=ms[0]^ms[1];return 2147483647&(e<<5^e>>7^ms[2]^ms[3])},_s=function(t){function e(t,e,n,r){if(h[n]!==t){h[n]=t;var i=f[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++g,y[n]=1)}else f[n]=e,d[n]=r}}function n(t){return vs(u[t])}function r(t,e){return ds(u[t],u[e])}var i,o,s,a,u=t.coordinates,l=t.lines,c=t.rings,p=function(){for(var t=fs(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),h=new Int32Array(u.length),f=new Int32Array(u.length),d=new Int32Array(u.length),y=new Int8Array(u.length),g=0;for(i=0,o=u.length;i<o;++i)h[i]=f[i]=d[i]=-1;for(i=0,o=l.length;i<o;++i){var m=l[i],v=m[0],_=m[1];for(s=p[v],a=p[++v],++g,y[s]=1;++v<=_;)e(i,s,s=a,a=p[v]);++g,y[a]=1}for(i=0,o=u.length;i<o;++i)h[i]=-1;for(i=0,o=c.length;i<o;++i){var b=c[i],w=b[0]+1,x=b[1];for(e(i,p[x-1],s=p[w-1],a=p[w]);++w<=x;)e(i,s,s=a,a=p[w])}h=f=d=null;var S,E=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;return{add:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=r,!0},has:function(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,vs,ds);for(i=0,o=u.length;i<o;++i)y[S=p[i]]&&E.add(u[S]);return E},bs=function(t){var e,n,r,i=_s(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],c=u[1];++l<c;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var p=a[n],h=p[0],f=h,d=p[1],y=i.has(o[h]);++f<d;)i.has(o[f])&&(y?(e={0:f,1:p[1]},p[1]=f,p=p.next=e):(function(t,e,n,r){Zt(t,e,n),Zt(t,e,e+r),Zt(t,e+r,n)}(o,h,d,d-f),o[d]=o[h],y=!0,f=h));return t},ws=function(t){function e(t){var e,n,r,i,o,s,a,u;if(r=f.get(e=l[t[0]]))for(a=0,u=r.length;a<u;++a)if(i=r[a],function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,++r)if(!ds(l[n],l[r]))return!1;return!0}(i,t))return t[0]=i[0],void(t[1]=i[1]);if(o=f.get(n=l[t[1]]))for(a=0,u=o.length;a<u;++a)if(s=o[a],function(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!ds(l[n],l[o]))return!1;return!0}(s,t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):f.set(e,[t]),o?o.push(t):f.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],r=e[0],o=t[1]-n;if(o!==e[1]-r)return!1;for(var s=i(t),a=i(e),u=0;u<o;++u)if(!ds(l[n+(u+s)%o],l[r+(u+a)%o]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],o=t[1],s=e[1],a=o-n;if(a!==s-r)return!1;for(var u=i(t),c=a-i(e),p=0;p<a;++p)if(!ds(l[n+(p+u)%a],l[s-(p+c)%a]))return!1;return!0}function i(t){for(var e=t[0],n=t[1],r=e,i=r,o=l[r];++r<n;){var s=l[r];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(i=r,o=s)}return i-e}var o,s,a,u,l=t.coordinates,c=t.lines,p=t.rings,h=c.length+p.length;for(delete t.lines,delete t.rings,a=0,u=c.length;a<u;++a)for(o=c[a];o=o.next;)++h;for(a=0,u=p.length;a<u;++a)for(s=p[a];s=s.next;)++h;var f=fs(2*h*1.4,vs,ds),d=t.arcs=[];for(a=0,u=c.length;a<u;++a){o=c[a];do{e(o)}while(o=o.next)}for(a=0,u=p.length;a<u;++a)if((s=p[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,u;if(o=f.get(e=l[t[0]]))for(a=0,u=o.length;a<u;++a){if(s=o[a],n(s,t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=f.get(e=l[t[0]+i(t)]))for(a=0,u=o.length;a<u;++a){if(s=o[a],n(s,t))return t[0]=s[0],void(t[1]=s[1]);if(r(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):f.set(e,[t]),d.push(t)}(s);return t},xs=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,s=1/0,a=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var c in t)e(t[c]);return a>=o&&u>=s?[o,s,a,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Xt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-l)*f),Math.round((t[1]-c)*d)]}function i(t,e){for(var n,r,i,o,s,a=-1,u=0,p=t.length,h=new Array(p);++a<p;)n=t[a],o=Math.round((n[0]-l)*f),s=Math.round((n[1]-c)*d),o===r&&s===i||(h[u++]=[r=o,i=s]);for(h.length=u;u<e;)u=h.push([h[0][0],h[0][1]]);return h}function o(t){return i(t,2)}function s(t){return i(t,4)}function a(t){return t.map(s)}function u(t){null!=t&&y.hasOwnProperty(t.type)&&y[t.type](t)}var l=e[0],c=e[1],p=e[2],h=e[3],f=p-l?(n-1)/(p-l):1,d=h-c?(n-1)/(h-c):1,y={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var g in t)u(t[g]);return{scale:[1/f,1/d],translate:[l,c]}}(t,o,e),a=ws(bs(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function i(t){return t.map(r)}var o=-1,s=[],a=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:s,rings:a,objects:t}}(t))),u=a.coordinates,l=fs(1.4*a.arcs.length,Ht,Jt);t=a.objects,a.bbox=o,a.arcs=a.arcs.map((function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)})),delete a.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var p in t)n(t[p]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],p=l[1];++s<u;)r=(l=o[s])[0],i=l[1],r===c&&i===p||(o[a++]=[r-c,i-p],c=r,p=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},Ss=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],r=this.centers[e+1];var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};Ss.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},Ss.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},Ss.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};var Es=_e,Cs=_e;_e.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(Ae(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(Ae(t,l,c,n))}var p=0;for(a=0;a<r.length;a+=3){var h=r[a]*n,f=r[a+1]*n,d=r[a+2]*n;p+=Math.abs((t[h]-t[d])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[d+1]-t[h+1]))}return 0===s&&0===p?0:Math.abs((p-s)/s)},_e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},Es.default=Cs,Ge.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!He(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],He(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):We(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!He(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],s=e.leaf?n(o):o,He(t,s)){if(e.leaf||We(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Je([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(i=function(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}(t,s.children,e)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!We(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Ve,compareMinY:Ze,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return i=Je(t.slice(e,n+1)),Ue(i,this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=Je([])).leaf=!1,i.height=r;var a,u,l,c,p=Math.ceil(o/s),h=p*Math.ceil(Math.sqrt(s));for(Qe(t,e,n,h,this.compareMinX),a=e;a<=n;a+=h)for(Qe(t,a,l=Math.min(a+h-1,n),p,this.compareMinY),u=a;u<=l;u+=p)c=Math.min(u+p-1,l),i.children.push(this._build(t,u,c,r-1));return Ue(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,p;r.push(e),!e.leaf&&r.length-1!==n;){for(c=p=1/0,i=0,o=e.children.length;i<o;i++)u=Xe(s=e.children[i]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-u)<p?(p=l,c=u<c?u:c,a=s):l===p&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),ze(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=Je(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Ue(n,this.toBBox),Ue(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=Je([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ue(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,a,u,l,c;for(u=l=1/0,r=e;r<=n-e;r++)s=function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,o-r)}(i=qe(t,0,r,this.toBBox),o=qe(t,r,n,this.toBBox)),a=Xe(i)+Xe(o),s<u?(u=s,c=r,l=a<l?a:l):s===u&&a<l&&(l=a,c=r);return c},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:Ve,i=t.leaf?this.compareMinY:Ze;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,a=qe(t,0,e,s),u=qe(t,n-e,n,s),l=Ye(a)+Ye(u);for(i=e;i<n-e;i++)o=t.children[i],ze(a,t.leaf?s(o):o),l+=Ye(a);for(i=n-e-1;i>=e;i--)o=t.children[i],ze(u,t.leaf?s(o):o),l+=Ye(u);return l},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)ze(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ue(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Ps=Object.freeze({toMercator:ln,toWgs84:cn}),Is=6378137,Os=function(t,e,n){function r(t,n,r,i){var u,l,c=o[t][n],p=o[t][n+1],h=o[r][i],f=o[r][i+1],d=function(t,e,n,r){if(Nn(t,n)||Nn(t,r)||Nn(e,n)||Nn(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],c=r[0],p=r[1],h=(i-s)*(l-p)-(o-a)*(u-c);return 0===h?null:[((i*a-o*s)*(u-c)-(i-s)*(u*p-l*c))/h,((i*a-o*s)*(l-p)-(o-a)*(u*p-l*c))/h]}(c,p,h,f);if(null!==d&&(u=p[0]!==c[0]?(d[0]-c[0])/(p[0]-c[0]):(d[1]-c[1])/(p[1]-c[1]),l=f[0]!==h[0]?(d[0]-h[0])/(f[0]-h[0]):(d[1]-h[1])/(f[1]-h[1]),!(u>=1||u<=0||l>=1||l<=0))){var y=d,g=!a[y];g&&(a[y]=!0),e?s.push(e(d,t,n,c,p,u,r,i,h,f,l,g)):s.push(d)}}function i(t,e){var n,r,i,s,a=o[t][e],u=o[t][e+1];return a[0]<u[0]?(n=a[0],r=u[0]):(n=u[0],r=a[0]),a[1]<u[1]?(i=a[1],s=u[1]):(i=u[1],s=a[1]),{minX:n,minY:i,maxX:r,maxY:s,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length-1;c++)u.push(i(l,c));var p=Xo();p.load(u)}for(var h=0;h<o.length;h++)for(var f=0;f<o[h].length-1;f++)if(n)p.search(i(h,f)).forEach((function(t){var e=t.ring,n=t.edge;r(h,f,e,n)}));else for(var d=0;d<o.length;d++)for(var y=0;y<o[d].length-1;y++)r(h,f,d,y);return e||(s={type:"Feature",geometry:{type:"MultiPoint",coordinates:s}}),s},Ms=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&Tt(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&vn(d.features[r])<1/0&&(n=r);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,r(t,e)}}function r(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var i=e+d.features[n].properties.winding;d.features[n].properties.netWinding=i,r(n,i)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var i=t.geometry.coordinates.length,s=[],a=0;a<i;a++){var u=t.geometry.coordinates[a];Ln(u[0],u[u.length-1])||u.push(u[0]),s.push.apply(s,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(e.hasOwnProperty(t[r])){n=0;break}e[t[r]]=1}return n}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=s.length,p=Os(t,(function(t,e,n,r,i,o,s,a,u,l,c,p){return[t,e,n,r,i,o,s,a,u,l,c,p]})),h=p.length;if(0==h){var f=[];for(a=0;a<i;a++)f.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(jn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var r=1;else r=-1;return r}(t.geometry.coordinates[a])}));var d=l(f);return e(),n(),d}var y=[],g=[];for(a=0;a<i;a++){y.push([]);for(var m=0;m<t.geometry.coordinates[a].length-1;m++)y[a].push([new Ts(t.geometry.coordinates[a][(m+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,m],[a,(m+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),g.push(new Ns(t.geometry.coordinates[a][m],[a,(m-1).modulo(t.geometry.coordinates[a].length-1)],[a,m],void 0,void 0,!1,!0))}for(a=0;a<h;a++)y[p[a][1]][p[a][2]].push(new Ts(p[a][0],p[a][5],[p[a][1],p[a][2]],[p[a][6],p[a][7]],void 0)),p[a][11]&&g.push(new Ns(p[a][0],[p[a][1],p[a][2]],[p[a][6],p[a][7]],void 0,void 0,!0,!0));var v=g.length;for(a=0;a<y.length;a++)for(m=0;m<y[a].length;m++)y[a][m].sort((function(t,e){return t.param<e.param?-1:1}));var _=[];for(a=0;a<v;a++)_.push({minX:g[a].coord[0],minY:g[a].coord[1],maxX:g[a].coord[0],maxY:g[a].coord[1],index:a});var b=Xo();for(b.load(_),a=0;a<y.length;a++)for(m=0;m<y[a].length;m++)for(var w=0;w<y[a][m].length;w++){S=w==y[a][m].length-1?y[a][(m+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:y[a][m][w+1].coord;var x=b.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0];y[a][m][w].nxtIsectAlongEdgeIn=x.index}for(a=0;a<y.length;a++)for(m=0;m<y[a].length;m++)for(w=0;w<y[a][m].length;w++){var S=y[a][m][w].coord,E=(x=b.search({minX:S[0],minY:S[1],maxX:S[0],maxY:S[1]})[0]).index;E<c?g[E].nxtIsectAlongRingAndEdge2=y[a][m][w].nxtIsectAlongEdgeIn:Ln(g[E].ringAndEdge1,y[a][m][w].ringAndEdgeIn)?g[E].nxtIsectAlongRingAndEdge1=y[a][m][w].nxtIsectAlongEdgeIn:g[E].nxtIsectAlongRingAndEdge2=y[a][m][w].nxtIsectAlongEdgeIn}var C=[];for(a=0,m=0;m<i;m++){var P=a;for(w=0;w<t.geometry.coordinates[m].length-1;w++)g[a].coord[0]<g[P].coord[0]&&(P=a),a++;var I=g[P].nxtIsectAlongRingAndEdge2;for(w=0;w<g.length;w++)if(g[w].nxtIsectAlongRingAndEdge1==P||g[w].nxtIsectAlongRingAndEdge2==P){var O=w;break}var M=jn([g[O].coord,g[P].coord,g[I].coord],!0)?1:-1;C.push({isect:P,parent:-1,winding:M})}for(C.sort((function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1})),f=[];C.length>0;){var T=C.pop(),N=T.isect,j=T.parent,L=T.winding,A=f.length,k=[g[N].coord],R=N;if(g[N].ringAndEdge1Walkable)var D=g[N].ringAndEdge1,F=g[N].nxtIsectAlongRingAndEdge1;else D=g[N].ringAndEdge2,F=g[N].nxtIsectAlongRingAndEdge2;for(;!Ln(g[N].coord,g[F].coord);){k.push(g[F].coord);var B=void 0;for(a=0;a<C.length;a++)if(C[a].isect==F){B=a;break}if(void 0!=B&&C.splice(B,1),Ln(D,g[F].ringAndEdge1)){if(D=g[F].ringAndEdge2,g[F].ringAndEdge2Walkable=!1,g[F].ringAndEdge1Walkable){var G={isect:F};jn([g[R].coord,g[F].coord,g[g[F].nxtIsectAlongRingAndEdge2].coord],1==L)?(G.parent=j,G.winding=-L):(G.parent=A,G.winding=L),C.push(G)}R=F,F=g[F].nxtIsectAlongRingAndEdge2}else D=g[F].ringAndEdge1,g[F].ringAndEdge1Walkable=!1,g[F].ringAndEdge2Walkable&&(G={isect:F},jn([g[R].coord,g[F].coord,g[g[F].nxtIsectAlongRingAndEdge1].coord],1==L)?(G.parent=j,G.winding=-L):(G.parent=A,G.winding=L),C.push(G)),R=F,F=g[F].nxtIsectAlongRingAndEdge1}k.push(g[F].coord),f.push(o([k],{index:A,parent:j,winding:L,netWinding:void 0}))}return d=l(f),e(),n(),d},Ts=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},Ns=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var js=Math.PI/180,Ls=180/Math.PI,As=function(t,e){this.lon=t,this.lat=e,this.x=js*t,this.y=js*e};As.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},As.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new As(e,t)};var ks=function(){this.coords=[],this.length=0};ks.prototype.move_to=function(t){this.length++,this.coords.push(t)};var Rs=function(t){this.properties=t||{},this.geometries=[]};Rs.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},Rs.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var Ds=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new As(t.x,t.y),this.end=new As(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};Ds.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=Ls*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[Ls*Math.atan2(i,r),s]},Ds.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var a=!1,u=0,l=e&&e.offset?e.offset:10,c=180-l,p=-180+l,h=360-l,f=1;f<n.length;++f){var d=n[f-1][0],y=n[f][0],g=Math.abs(y-d);g>h&&(y>c&&d<p||d>c&&y<p)?a=!0:g>u&&(u=g)}var m=[];if(a&&u<l){var v=[];m.push(v);for(var _=0;_<n.length;++_){var b=parseFloat(n[_][0]);if(_>0&&Math.abs(b-n[_-1][0])>h){var w=parseFloat(n[_-1][0]),x=parseFloat(n[_-1][1]),S=parseFloat(n[_][0]),E=parseFloat(n[_][1]);if(w>-180&&w<p&&180===S&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<p){v.push([-180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(w>c&&w<180&&-180===S&&_+1<n.length&&n[_-1][0]>c&&n[_-1][0]<180){v.push([180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(w<p&&S>c){var C=w;w=S,S=C;var P=x;x=E,E=P}if(w>c&&S<p&&(S+=360),w<=180&&S>=180&&w<S){var I=(180-w)/(S-w),O=I*E+(1-I)*x;v.push([n[_-1][0]>c?180:-180,O]),(v=[]).push([n[_-1][0]>c?-180:180,O]),m.push(v)}else v=[],m.push(v);v.push([b,n[_][1]])}else v.push([n[_][0],n[_][1]])}}else{var M=[];m.push(M);for(var T=0;T<n.length;++T)M.push([n[T][0],n[T][1]])}for(var N=new Rs(this.properties),j=0;j<m.length;++j){var L=new ks;N.geometries.push(L);for(var A=m[j],k=0;k<A.length;++k)L.move_to(A[k])}return N};var Fs=Zn;Zn.polyline=Zn,Zn.polygon=function(t,e){var n,r,i,o,s,a,u;for(r=1;r<=8;r*=2){for(n=[],o=!(Yn(i=t[t.length-1],e)&r),s=0;s<t.length;s++)(u=!(Yn(a=t[s],e)&r))!==o&&n.push(Xn(i,a,r,e)),u&&n.push(a),i=a,o=u;if(!(t=n).length)break}return n};var Bs=Array.prototype.slice,Gs={successCallback:null,verbose:!1,polygons:!1},Us={},qs=64,zs=16,Vs=4,Zs=1,Xs=[],Ys=[],Ws=[],Hs=[],Js=[],Qs=[],Ks=[],$s=[],ta=[],ea=[],na=[],ra=[],ia=[],oa=[],sa=[],aa=[],ua=[],la=[],ca=[],pa=[],ha=[],fa=[],da=[],ya=[];Ks[85]=ea[85]=-1,$s[85]=na[85]=0,ta[85]=ra[85]=1,ca[85]=fa[85]=1,pa[85]=da[85]=0,ha[85]=ya[85]=1,Xs[85]=Hs[85]=0,Ys[85]=Js[85]=-1,Ws[85]=sa[85]=0,aa[85]=ia[85]=0,ua[85]=oa[85]=1,Qs[85]=la[85]=1,fa[1]=fa[169]=0,da[1]=da[169]=-1,ya[1]=ya[169]=0,ia[1]=ia[169]=-1,oa[1]=oa[169]=0,sa[1]=sa[169]=0,ea[4]=ea[166]=0,na[4]=na[166]=-1,ra[4]=ra[166]=1,aa[4]=aa[166]=1,ua[4]=ua[166]=0,la[4]=la[166]=0,Ks[16]=Ks[154]=0,$s[16]=$s[154]=1,ta[16]=ta[154]=1,Hs[16]=Hs[154]=1,Js[16]=Js[154]=0,Qs[16]=Qs[154]=1,ca[64]=ca[106]=0,pa[64]=pa[106]=1,ha[64]=ha[106]=0,Xs[64]=Xs[106]=-1,Ys[64]=Ys[106]=0,Ws[64]=Ws[106]=1,ca[2]=ca[168]=0,pa[2]=pa[168]=-1,ha[2]=ha[168]=1,fa[2]=fa[168]=0,da[2]=da[168]=-1,ya[2]=ya[168]=0,ia[2]=ia[168]=-1,oa[2]=oa[168]=0,sa[2]=sa[168]=0,aa[2]=aa[168]=-1,ua[2]=ua[168]=0,la[2]=la[168]=1,Ks[8]=Ks[162]=0,$s[8]=$s[162]=-1,ta[8]=ta[162]=0,ea[8]=ea[162]=0,na[8]=na[162]=-1,ra[8]=ra[162]=1,ia[8]=ia[162]=1,oa[8]=oa[162]=0,sa[8]=sa[162]=1,aa[8]=aa[162]=1,ua[8]=ua[162]=0,la[8]=la[162]=0,Ks[32]=Ks[138]=0,$s[32]=$s[138]=1,ta[32]=ta[138]=1,ea[32]=ea[138]=0,na[32]=na[138]=1,ra[32]=ra[138]=0,Xs[32]=Xs[138]=1,Ys[32]=Ys[138]=0,Ws[32]=Ws[138]=0,Hs[32]=Hs[138]=1,Js[32]=Js[138]=0,Qs[32]=Qs[138]=1,fa[128]=fa[42]=0,da[128]=da[42]=1,ya[128]=ya[42]=1,ca[128]=ca[42]=0,pa[128]=pa[42]=1,ha[128]=ha[42]=0,Xs[128]=Xs[42]=-1,Ys[128]=Ys[42]=0,Ws[128]=Ws[42]=1,Hs[128]=Hs[42]=-1,Js[128]=Js[42]=0,Qs[128]=Qs[42]=0,ea[5]=ea[165]=-1,na[5]=na[165]=0,ra[5]=ra[165]=0,fa[5]=fa[165]=1,da[5]=da[165]=0,ya[5]=ya[165]=0,aa[20]=aa[150]=0,ua[20]=ua[150]=1,la[20]=la[150]=1,Hs[20]=Hs[150]=0,Js[20]=Js[150]=-1,Qs[20]=Qs[150]=1,Ks[80]=Ks[90]=-1,$s[80]=$s[90]=0,ta[80]=ta[90]=1,ca[80]=ca[90]=1,pa[80]=pa[90]=0,ha[80]=ha[90]=1,ia[65]=ia[105]=0,oa[65]=oa[105]=1,sa[65]=sa[105]=0,Xs[65]=Xs[105]=0,Ys[65]=Ys[105]=-1,Ws[65]=Ws[105]=0,Ks[160]=Ks[10]=-1,$s[160]=$s[10]=0,ta[160]=ta[10]=1,ea[160]=ea[10]=-1,na[160]=na[10]=0,ra[160]=ra[10]=0,fa[160]=fa[10]=1,da[160]=da[10]=0,ya[160]=ya[10]=0,ca[160]=ca[10]=1,pa[160]=pa[10]=0,ha[160]=ha[10]=1,aa[130]=aa[40]=0,ua[130]=ua[40]=1,la[130]=la[40]=1,ia[130]=ia[40]=0,oa[130]=oa[40]=1,sa[130]=sa[40]=0,Xs[130]=Xs[40]=0,Ys[130]=Ys[40]=-1,Ws[130]=Ws[40]=0,Hs[130]=Hs[40]=0,Js[130]=Js[40]=-1,Qs[130]=Qs[40]=1,ea[37]=ea[133]=0,na[37]=na[133]=1,ra[37]=ra[133]=1,fa[37]=fa[133]=0,da[37]=da[133]=1,ya[37]=ya[133]=0,Xs[37]=Xs[133]=-1,Ys[37]=Ys[133]=0,Ws[37]=Ws[133]=0,Hs[37]=Hs[133]=1,Js[37]=Js[133]=0,Qs[37]=Qs[133]=0,aa[148]=aa[22]=-1,ua[148]=ua[22]=0,la[148]=la[22]=0,fa[148]=fa[22]=0,da[148]=da[22]=-1,ya[148]=ya[22]=1,ca[148]=ca[22]=0,pa[148]=pa[22]=1,ha[148]=ha[22]=1,Hs[148]=Hs[22]=-1,Js[148]=Js[22]=0,Qs[148]=Qs[22]=1,Ks[82]=Ks[88]=0,$s[82]=$s[88]=-1,ta[82]=ta[88]=1,aa[82]=aa[88]=1,ua[82]=ua[88]=0,la[82]=la[88]=1,ia[82]=ia[88]=-1,oa[82]=oa[88]=0,sa[82]=sa[88]=1,ca[82]=ca[88]=0,pa[82]=pa[88]=-1,ha[82]=ha[88]=0,Ks[73]=Ks[97]=0,$s[73]=$s[97]=1,ta[73]=ta[97]=0,ea[73]=ea[97]=0,na[73]=na[97]=-1,ra[73]=ra[97]=0,ia[73]=ia[97]=1,oa[73]=oa[97]=0,sa[73]=sa[97]=0,Xs[73]=Xs[97]=1,Ys[73]=Ys[97]=0,Ws[73]=Ws[97]=1,Ks[145]=Ks[25]=0,$s[145]=$s[25]=-1,ta[145]=ta[25]=0,ia[145]=ia[25]=1,oa[145]=oa[25]=0,sa[145]=sa[25]=1,fa[145]=fa[25]=0,da[145]=da[25]=1,ya[145]=ya[25]=1,Hs[145]=Hs[25]=-1,Js[145]=Js[25]=0,Qs[145]=Qs[25]=0,ea[70]=ea[100]=0,na[70]=na[100]=1,ra[70]=ra[100]=0,aa[70]=aa[100]=-1,ua[70]=ua[100]=0,la[70]=la[100]=1,ca[70]=ca[100]=0,pa[70]=pa[100]=-1,ha[70]=ha[100]=1,Xs[70]=Xs[100]=1,Ys[70]=Ys[100]=0,Ws[70]=Ws[100]=0,ea[101]=ea[69]=0,na[101]=na[69]=1,ra[101]=ra[69]=0,Xs[101]=Xs[69]=1,Ys[101]=Ys[69]=0,Ws[101]=Ws[69]=0,fa[149]=fa[21]=0,da[149]=da[21]=1,ya[149]=ya[21]=1,Hs[149]=Hs[21]=-1,Js[149]=Js[21]=0,Qs[149]=Qs[21]=0,aa[86]=aa[84]=-1,ua[86]=ua[84]=0,la[86]=la[84]=1,ca[86]=ca[84]=0,pa[86]=pa[84]=-1,ha[86]=ha[84]=1,Ks[89]=Ks[81]=0,$s[89]=$s[81]=-1,ta[89]=ta[81]=0,ia[89]=ia[81]=1,oa[89]=oa[81]=0,sa[89]=sa[81]=1,Ks[96]=Ks[74]=0,$s[96]=$s[74]=1,ta[96]=ta[74]=0,ea[96]=ea[74]=-1,na[96]=na[74]=0,ra[96]=ra[74]=1,ca[96]=ca[74]=1,pa[96]=pa[74]=0,ha[96]=ha[74]=0,Xs[96]=Xs[74]=1,Ys[96]=Ys[74]=0,Ws[96]=Ws[74]=1,Ks[24]=Ks[146]=0,$s[24]=$s[146]=-1,ta[24]=ta[146]=1,aa[24]=aa[146]=1,ua[24]=ua[146]=0,la[24]=la[146]=1,ia[24]=ia[146]=0,oa[24]=oa[146]=1,sa[24]=sa[146]=1,Hs[24]=Hs[146]=0,Js[24]=Js[146]=-1,Qs[24]=Qs[146]=0,ea[6]=ea[164]=-1,na[6]=na[164]=0,ra[6]=ra[164]=1,aa[6]=aa[164]=-1,ua[6]=ua[164]=0,la[6]=la[164]=0,fa[6]=fa[164]=0,da[6]=da[164]=-1,ya[6]=ya[164]=1,ca[6]=ca[164]=1,pa[6]=pa[164]=0,ha[6]=ha[164]=0,ia[129]=ia[41]=0,oa[129]=oa[41]=1,sa[129]=sa[41]=1,fa[129]=fa[41]=0,da[129]=da[41]=1,ya[129]=ya[41]=0,Xs[129]=Xs[41]=-1,Ys[129]=Ys[41]=0,Ws[129]=Ws[41]=0,Hs[129]=Hs[41]=0,Js[129]=Js[41]=-1,Qs[129]=Qs[41]=0,aa[66]=aa[104]=0,ua[66]=ua[104]=1,la[66]=la[104]=0,ia[66]=ia[104]=-1,oa[66]=oa[104]=0,sa[66]=sa[104]=1,ca[66]=ca[104]=0,pa[66]=pa[104]=-1,ha[66]=ha[104]=0,Xs[66]=Xs[104]=0,Ys[66]=Ys[104]=-1,Ws[66]=Ws[104]=1,Ks[144]=Ks[26]=-1,$s[144]=$s[26]=0,ta[144]=ta[26]=0,fa[144]=fa[26]=1,da[144]=da[26]=0,ya[144]=ya[26]=1,ca[144]=ca[26]=0,pa[144]=pa[26]=1,ha[144]=ha[26]=1,Hs[144]=Hs[26]=-1,Js[144]=Js[26]=0,Qs[144]=Qs[26]=1,ea[36]=ea[134]=0,na[36]=na[134]=1,ra[36]=ra[134]=1,aa[36]=aa[134]=0,ua[36]=ua[134]=1,la[36]=la[134]=0,Xs[36]=Xs[134]=0,Ys[36]=Ys[134]=-1,Ws[36]=Ws[134]=1,Hs[36]=Hs[134]=1,Js[36]=Js[134]=0,Qs[36]=Qs[134]=0,Ks[9]=Ks[161]=-1,$s[9]=$s[161]=0,ta[9]=ta[161]=0,ea[9]=ea[161]=0,na[9]=na[161]=-1,ra[9]=ra[161]=0,ia[9]=ia[161]=1,oa[9]=oa[161]=0,sa[9]=sa[161]=0,fa[9]=fa[161]=1,da[9]=da[161]=0,ya[9]=ya[161]=1,Ks[136]=0,$s[136]=1,ta[136]=1,ea[136]=0,na[136]=1,ra[136]=0,aa[136]=-1,ua[136]=0,la[136]=1,ia[136]=-1,oa[136]=0,sa[136]=0,fa[136]=0,da[136]=-1,ya[136]=0,ca[136]=0,pa[136]=-1,ha[136]=1,Xs[136]=1,Ys[136]=0,Ws[136]=0,Hs[136]=1,Js[136]=0,Qs[136]=1,Ks[34]=0,$s[34]=-1,ta[34]=0,ea[34]=0,na[34]=-1,ra[34]=1,aa[34]=1,ua[34]=0,la[34]=0,ia[34]=1,oa[34]=0,sa[34]=1,fa[34]=0,da[34]=1,ya[34]=1,ca[34]=0,pa[34]=1,ha[34]=0,Xs[34]=-1,Ys[34]=0,Ws[34]=1,Hs[34]=-1,Js[34]=0,Qs[34]=0,Ks[35]=0,$s[35]=1,ta[35]=1,ea[35]=0,na[35]=-1,ra[35]=1,aa[35]=1,ua[35]=0,la[35]=0,ia[35]=-1,oa[35]=0,sa[35]=0,fa[35]=0,da[35]=-1,ya[35]=0,ca[35]=0,pa[35]=1,ha[35]=0,Xs[35]=-1,Ys[35]=0,Ws[35]=1,Hs[35]=1,Js[35]=0,Qs[35]=1,Ks[153]=0,$s[153]=1,ta[153]=1,ia[153]=-1,oa[153]=0,sa[153]=0,fa[153]=0,da[153]=-1,ya[153]=0,Hs[153]=1,Js[153]=0,Qs[153]=1,ea[102]=0,na[102]=-1,ra[102]=1,aa[102]=1,ua[102]=0,la[102]=0,ca[102]=0,pa[102]=1,ha[102]=0,Xs[102]=-1,Ys[102]=0,Ws[102]=1,Ks[155]=0,$s[155]=-1,ta[155]=0,ia[155]=1,oa[155]=0,sa[155]=1,fa[155]=0,da[155]=1,ya[155]=1,Hs[155]=-1,Js[155]=0,Qs[155]=0,ea[103]=0,na[103]=1,ra[103]=0,aa[103]=-1,ua[103]=0,la[103]=1,ca[103]=0,pa[103]=-1,ha[103]=1,Xs[103]=1,Ys[103]=0,Ws[103]=0,Ks[152]=0,$s[152]=1,ta[152]=1,aa[152]=-1,ua[152]=0,la[152]=1,ia[152]=-1,oa[152]=0,sa[152]=0,fa[152]=0,da[152]=-1,ya[152]=0,ca[152]=0,pa[152]=-1,ha[152]=1,Hs[152]=1,Js[152]=0,Qs[152]=1,Ks[156]=0,$s[156]=-1,ta[156]=1,aa[156]=1,ua[156]=0,la[156]=1,ia[156]=-1,oa[156]=0,sa[156]=0,fa[156]=0,da[156]=-1,ya[156]=0,ca[156]=0,pa[156]=1,ha[156]=1,Hs[156]=-1,Js[156]=0,Qs[156]=1,Ks[137]=0,$s[137]=1,ta[137]=1,ea[137]=0,na[137]=1,ra[137]=0,ia[137]=-1,oa[137]=0,sa[137]=0,fa[137]=0,da[137]=-1,ya[137]=0,Xs[137]=1,Ys[137]=0,Ws[137]=0,Hs[137]=1,Js[137]=0,Qs[137]=1,Ks[139]=0,$s[139]=1,ta[139]=1,ea[139]=0,na[139]=-1,ra[139]=0,ia[139]=1,oa[139]=0,sa[139]=0,fa[139]=0,da[139]=1,ya[139]=0,Xs[139]=-1,Ys[139]=0,Ws[139]=0,Hs[139]=1,Js[139]=0,Qs[139]=1,Ks[98]=0,$s[98]=-1,ta[98]=0,ea[98]=0,na[98]=-1,ra[98]=1,aa[98]=1,ua[98]=0,la[98]=0,ia[98]=1,oa[98]=0,sa[98]=1,ca[98]=0,pa[98]=1,ha[98]=0,Xs[98]=-1,Ys[98]=0,Ws[98]=1,Ks[99]=0,$s[99]=1,ta[99]=0,ea[99]=0,na[99]=-1,ra[99]=1,aa[99]=1,ua[99]=0,la[99]=0,ia[99]=-1,oa[99]=0,sa[99]=1,ca[99]=0,pa[99]=-1,ha[99]=0,Xs[99]=1,Ys[99]=0,Ws[99]=1,ea[38]=0,na[38]=-1,ra[38]=1,aa[38]=1,ua[38]=0,la[38]=0,fa[38]=0,da[38]=1,ya[38]=1,ca[38]=0,pa[38]=1,ha[38]=0,Xs[38]=-1,Ys[38]=0,Ws[38]=1,Hs[38]=-1,Js[38]=0,Qs[38]=0,ea[39]=0,na[39]=1,ra[39]=1,aa[39]=-1,ua[39]=0,la[39]=0,fa[39]=0,da[39]=-1,ya[39]=1,ca[39]=0,pa[39]=1,ha[39]=0,Xs[39]=-1,Ys[39]=0,Ws[39]=1,Hs[39]=1,Js[39]=0,Qs[39]=0;var ga=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ma=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},va=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},_a=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},ba=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},wa=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},xa=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},Sa=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Ea=[],Ca=[],Pa=[],Ia=[],Oa=[],Ma=[],Ta=[],Na=[];Ia[1]=Oa[1]=18,Ia[169]=Oa[169]=18,Pa[4]=Ca[4]=12,Pa[166]=Ca[166]=12,Ea[16]=Na[16]=4,Ea[154]=Na[154]=4,Ma[64]=Ta[64]=22,Ma[106]=Ta[106]=22,Pa[2]=Ma[2]=17,Ia[2]=Oa[2]=18,Pa[168]=Ma[168]=17,Ia[168]=Oa[168]=18,Ea[8]=Ia[8]=9,Ca[8]=Pa[8]=12,Ea[162]=Ia[162]=9,Ca[162]=Pa[162]=12,Ea[32]=Na[32]=4,Ca[32]=Ta[32]=1,Ea[138]=Na[138]=4,Ca[138]=Ta[138]=1,Oa[128]=Na[128]=21,Ma[128]=Ta[128]=22,Oa[42]=Na[42]=21,Ma[42]=Ta[42]=22,Ca[5]=Oa[5]=14,Ca[165]=Oa[165]=14,Pa[20]=Na[20]=6,Pa[150]=Na[150]=6,Ea[80]=Ma[80]=11,Ea[90]=Ma[90]=11,Ia[65]=Ta[65]=3,Ia[105]=Ta[105]=3,Ea[160]=Ma[160]=11,Ca[160]=Oa[160]=14,Ea[10]=Ma[10]=11,Ca[10]=Oa[10]=14,Pa[130]=Na[130]=6,Ia[130]=Ta[130]=3,Pa[40]=Na[40]=6,Ia[40]=Ta[40]=3,Ca[101]=Ta[101]=1,Ca[69]=Ta[69]=1,Oa[149]=Na[149]=21,Oa[21]=Na[21]=21,Pa[86]=Ma[86]=17,Pa[84]=Ma[84]=17,Ea[89]=Ia[89]=9,Ea[81]=Ia[81]=9,Ea[96]=Ta[96]=0,Ca[96]=Ma[96]=15,Ea[74]=Ta[74]=0,Ca[74]=Ma[74]=15,Ea[24]=Pa[24]=8,Ia[24]=Na[24]=7,Ea[146]=Pa[146]=8,Ia[146]=Na[146]=7,Ca[6]=Ma[6]=15,Pa[6]=Oa[6]=16,Ca[164]=Ma[164]=15,Pa[164]=Oa[164]=16,Ia[129]=Na[129]=7,Oa[129]=Ta[129]=20,Ia[41]=Na[41]=7,Oa[41]=Ta[41]=20,Pa[66]=Ta[66]=2,Ia[66]=Ma[66]=19,Pa[104]=Ta[104]=2,Ia[104]=Ma[104]=19,Ea[144]=Oa[144]=10,Ma[144]=Na[144]=23,Ea[26]=Oa[26]=10,Ma[26]=Na[26]=23,Ca[36]=Na[36]=5,Pa[36]=Ta[36]=2,Ca[134]=Na[134]=5,Pa[134]=Ta[134]=2,Ea[9]=Oa[9]=10,Ca[9]=Ia[9]=13,Ea[161]=Oa[161]=10,Ca[161]=Ia[161]=13,Ca[37]=Na[37]=5,Oa[37]=Ta[37]=20,Ca[133]=Na[133]=5,Oa[133]=Ta[133]=20,Pa[148]=Oa[148]=16,Ma[148]=Na[148]=23,Pa[22]=Oa[22]=16,Ma[22]=Na[22]=23,Ea[82]=Pa[82]=8,Ia[82]=Ma[82]=19,Ea[88]=Pa[88]=8,Ia[88]=Ma[88]=19,Ea[73]=Ta[73]=0,Ca[73]=Ia[73]=13,Ea[97]=Ta[97]=0,Ca[97]=Ia[97]=13,Ea[145]=Ia[145]=9,Oa[145]=Na[145]=21,Ea[25]=Ia[25]=9,Oa[25]=Na[25]=21,Ca[70]=Ta[70]=1,Pa[70]=Ma[70]=17,Ca[100]=Ta[100]=1,Pa[100]=Ma[100]=17,Ea[34]=Ia[34]=9,Ca[34]=Pa[34]=12,Oa[34]=Na[34]=21,Ma[34]=Ta[34]=22,Ea[136]=Na[136]=4,Ca[136]=Ta[136]=1,Pa[136]=Ma[136]=17,Ia[136]=Oa[136]=18,Ea[35]=Na[35]=4,Ca[35]=Pa[35]=12,Ia[35]=Oa[35]=18,Ma[35]=Ta[35]=22,Ea[153]=Na[153]=4,Ia[153]=Oa[153]=18,Ca[102]=Pa[102]=12,Ma[102]=Ta[102]=22,Ea[155]=Ia[155]=9,Oa[155]=Na[155]=23,Ca[103]=Ta[103]=1,Pa[103]=Ma[103]=17,Ea[152]=Na[152]=4,Pa[152]=Ma[152]=17,Ia[152]=Oa[152]=18,Ea[156]=Pa[156]=8,Ia[156]=Oa[156]=18,Ma[156]=Na[156]=23,Ea[137]=Na[137]=4,Ca[137]=Ta[137]=1,Ia[137]=Oa[137]=18,Ea[139]=Na[139]=4,Ca[139]=Ia[139]=13,Oa[139]=Ta[139]=20,Ea[98]=Ia[98]=9,Ca[98]=Pa[98]=12,Ma[98]=Ta[98]=22,Ea[99]=Ta[99]=0,Ca[99]=Pa[99]=12,Ia[99]=Ma[99]=19,Ca[38]=Pa[38]=12,Oa[38]=Na[38]=21,Ma[38]=Ta[38]=22,Ca[39]=Na[39]=5,Pa[39]=Oa[39]=16,Ma[39]=Ta[39]=22;var ja=[];ja[1]=ja[169]=ga,ja[4]=ja[166]=ma,ja[16]=ja[154]=va,ja[64]=ja[106]=_a,ja[168]=ja[2]=ba,ja[162]=ja[8]=wa,ja[138]=ja[32]=xa,ja[42]=ja[128]=Sa,ja[5]=ja[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ja[20]=ja[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ja[80]=ja[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ja[65]=ja[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ja[160]=ja[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ja[130]=ja[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ja[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ja[101]=ja[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ja[149]=ja[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ja[86]=ja[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ja[89]=ja[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ja[96]=ja[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ja[24]=ja[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ja[6]=ja[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ja[129]=ja[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ja[66]=ja[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ja[144]=ja[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ja[36]=ja[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ja[9]=ja[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ja[37]=ja[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ja[148]=ja[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ja[82]=ja[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ja[73]=ja[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ja[145]=ja[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ja[70]=ja[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ja[34]=function(t){return[Sa(t),wa(t)]},ja[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ja[136]=function(t){return[xa(t),ba(t)]},ja[153]=function(t){return[va(t),ga(t)]},ja[102]=function(t){return[ma(t),_a(t)]},ja[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ja[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ja[152]=function(t){return[va(t),ba(t)]},ja[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ja[137]=function(t){return[xa(t),ga(t)]},ja[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ja[98]=function(t){return[wa(t),_a(t)]},ja[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ja[38]=function(t){return[ma(t),Sa(t)]},ja[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var La=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};La.buildId=function(t){return t.join(",")},La.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},La.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},La.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},La.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var r=e.to,i=n.to;if(r.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(r.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return-1;if(r.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return r.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=br(t.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},La.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},La.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},La.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var Aa=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};Aa.prototype.getSymetric=function(){return this.symetric||(this.symetric=new Aa(this.to,this.from),this.symetric.symetric=this),this.symetric},Aa.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},Aa.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},Aa.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},Aa.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},Aa.prototype.compareTo=function(t){return br(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var ka=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},Ra={length:{configurable:!0}};ka.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},ka.prototype.get=function(t){return this.edges[t]},Ra.length.get=function(){return this.edges.length},ka.prototype.forEach=function(t){this.edges.forEach(t)},ka.prototype.map=function(t){return this.edges.map(t)},ka.prototype.some=function(t){return this.edges.some(t)},ka.prototype.isValid=function(){return!0},ka.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,i=br(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},ka.prototype.toMultiPoint=function(){return p(this.edges.map((function(t){return t.from.coordinates})))},ka.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},ka.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ce(this.toPolygon())},ka.findEdgeRingContaining=function(t,e){var n,i,o=t.getEnvelope();return e.forEach((function(e){var s=e.getEnvelope();if(i&&(n=i.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),r=t.geometry.coordinates.map((function(t){return t[1]})),i=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,i)&&Math.max(null,r)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,i)&&Math.min(null,r)===Math.min(null,o)}(s,o)&&wr(s,o)){var a=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));a&&e.inside(r(a))&&(i&&!wr(n,s)||(i=e))}})),i},ka.prototype.inside=function(t){return Tt(t,this.toPolygon())},Object.defineProperties(ka.prototype,Ra);var Da=function(){this.edges=[],this.nodes={}};Da.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new Da;return R(t,(function(t){Y(t,"LineString","Graph::fromGeoJson"),O(t,(function(t,n){if(t){var r=e.getNode(t),i=e.getNode(n);e.addEdge(r,i)}return n}))})),e},Da.prototype.getNode=function(t){var e=La.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new La(t)),n},Da.prototype.addEdge=function(t,e){var n=new Aa(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},Da.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},Da.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},Da.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},Da.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},Da.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},Da.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},Da.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},Da.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},Da.prototype._findEdgeRing=function(t){var e=t,n=new ka;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},Da.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},Da.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var Fa=vt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),Ba=(Fa.shim,vt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=i?n:r).supported=n,e.unsupported=r}))),Ga=(Ba.supported,Ba.unsupported,vt((function(t){function e(t){return null===t||void 0===t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&"function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0])}var r=Array.prototype.slice,i=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(Ba(t))return!!Ba(o)&&(t=r.call(t),o=r.call(o),i(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var l=Fa(t),c=Fa(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),a=l.length-1;a>=0;a--)if(l[a]!=c[a])return!1;for(a=l.length-1;a>=0;a--)if(u=l[a],!i(t[u],o[u],s))return!1;return typeof t==typeof o}(t,o,s))}}))),Ua=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:jr};Ua.prototype.compare=function(t,e){if(t.type!==e.type||!Nr(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=Tr(t),i=Tr(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},Ua.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Ua.prototype.compareLine=function(t,e,n,r){if(!Nr(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},Ua.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},Ua.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},Ua.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},Ua.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Ua.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Ua.prototype.removePseudo=function(t){return t};var qa=Ua,za=vt((function(t){function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Va=vt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,u=0;u<c;u++)s[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<c;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)})),Za=vt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Xa=vt((function(t){function e(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}if(t.exports)var n=Za;e.prototype.run=function(t,e,r,i){this._init(t,e,r,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ya=vt((function(t){t.exports&&(t.exports={DBSCAN:za,KMEANS:Va,OPTICS:Xa,PriorityQueue:Za})})),Wa=(Ya.DBSCAN,Ya.KMEANS,Ya.OPTICS,Ya.PriorityQueue,function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i}),Ha=Wa,Ja=function(t,e,n){var r=Math.abs(t-e);return n?r:r*r},Qa=Wa,Ka=function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},$a=function(t,e){var n=t[0].length?Ha:Ja,r=[],i=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*i)];for(o&&s.join("_"),r.push(s);r.length<e;){for(var a=[],u=r.length,l=0,c=[],p=0;p<i;p++){for(var h=1/0,f=0;f<u;f++){var d=n(t[p],r[f]);d<=h&&(h=d)}a[p]=h}for(var y=0;y<i;y++)l+=a[y];for(var g=0;g<i;g++)c[g]={i:g,v:t[g],pr:a[g]/l,cs:0};c.sort((function(t,e){return t.pr-e.pr})),c[0].cs=c[0].pr;for(var m=1;m<i;m++)c[m].cs=c[m-1].cs+c[m].pr;for(var v=Math.random(),_=0;_<i-1&&c[_++].cs<v;);r.push(c[_-1].v)}return r},tu=1e4,eu=function(t,e,n,r){var i=[],o=[],s=[],a=[],u=!1,l=r||tu,c=t.length,p=t[0].length,h=p>0,f=[];if(n)i="kmrand"==n?Ka(t,e):"kmpp"==n?$a(t,e):n;else for(var d={};i.length<e;){var y=Math.floor(Math.random()*c);d[y]||(d[y]=!0,i.push(t[y]))}do{Ar(e,0,f);for(var g=0;g<c;g++){for(var m=1/0,v=0,_=0;_<e;_++)(a=h?Qa(t[g],i[_]):Math.abs(t[g]-i[_]))<=m&&(m=a,v=_);s[g]=v,f[v]++}for(var b=[],w=(o=[],0);w<e;w++)b[w]=h?Ar(p,0,b[w]):0,o[w]=i[w];if(h){for(var x=0;x<e;x++)i[x]=[];for(var S=0;S<c;S++)for(var E=b[s[S]],C=t[S],P=0;P<p;P++)E[P]+=C[P];u=!0;for(var I=0;I<e;I++){for(var O=i[I],M=b[I],T=o[I],N=f[I],j=0;j<p;j++)O[j]=M[j]/N||0;if(u)for(var L=0;L<p;L++)if(T[L]!=O[L]){u=!1;break}}}else{for(var A=0;A<c;A++)b[s[A]]+=t[A];for(var k=0;k<e;k++)i[k]=b[k]/f[k]||0;u=!0;for(var R=0;R<e;R++)if(o[R]!=i[R]){u=!1;break}}u=u||--l<=0}while(!u);return{it:tu-l,k:e,idxs:s,centroids:i}},nu={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||nu.heuristics.manhattan,o=r.closest||!1,s=new Br((function(t){return t.f})),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return Rr(u);u.closed=!0;for(var l=t.neighbors(u),c=0,p=l.length;c<p;++c){var h=l[c];if(!h.closed&&!h.isWall()){var f=u.g+h.getCost(u),d=h.visited;(!d||f<h.g)&&(h.visited=!0,h.parent=u,h.h=h.h||i(h,n),h.g=f,h.f=h.g+h.h,t.markDirty(h),o&&(h.h<a.h||h.h===a.h&&h.g<a.g)&&(a=h),d?s.rescoreElement(h):s.push(h))}}}return o?Rr(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Dr.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)nu.cleanNode(this.nodes[t])},Dr.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)nu.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Dr.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Dr.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},Dr.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},Fr.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Fr.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Fr.prototype.isWall=function(){return 0===this.weight},Br.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<r&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var ru=function(t){return function(){return t}};qr.prototype={constructor:qr,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Xr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Vr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Zr(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Zr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?Xr(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Vr(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Zr(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Vr(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Zr(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Vr(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Zr(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var iu,ou,su,au,uu,lu=[],cu=[],pu=1e-6,hu=1e-12;ci.prototype={constructor:ci,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return $r(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a=n.site,u=-1,l=e[i[o-1]],c=l.left===a?l.right:l.left;++u<o;)s=c,c=(l=e[i[u]]).left===a?l.right:l.left,s&&c&&r<s.index&&r<c.index&&ui(a,s,c)<0&&t.push([a.data,s.data,c.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],p=u*u+l*l;p<c&&(c=p,s=a.index)}}))}while(null!==s);return o._found=r,null==n||c<=n*n?i.site:null}};var fu=function(){function t(t){return new ci(t.map((function(r,i){var o=[Math.round(e(r,i,t)/pu)*pu,Math.round(n(r,i,t)/pu)*pu];return o.index=i,o.data=r,o})),r)}var e=Gr,n=Ur,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ru(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ru(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},du=Object.freeze({randomPosition:mi,randomPoint:vi,randomPolygon:_i,randomLineString:bi}),yu=Object.freeze({getCluster:xi,clusterEach:Si,clusterReduce:Ei,createBins:Ci,applyFilter:Pi,propertiesContainsFilter:Ii,filterProperties:Oi});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(void 0===this||null===this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var gu=function(){};gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu},gu.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var mu=function(){},vu=function(){},_u={MAX_VALUE:{configurable:!0}};vu.isNaN=function(t){return Number.isNaN(t)},vu.doubleToLongBits=function(t){return t},vu.longBitsToDouble=function(t){return t},vu.isInfinite=function(t){return!Number.isFinite(t)},_u.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(vu,_u);var bu=function(){},wu=function(){},xu=function(){},Su=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Eu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Su.prototype.setOrdinate=function(t,e){switch(t){case Su.X:this.x=e;break;case Su.Y:this.y=e;break;case Su.Z:this.z=e;break;default:throw new mu("Invalid ordinate index: "+t)}},Su.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!gu.equalsWithTolerance(this.x,e.x,n)&&!!gu.equalsWithTolerance(this.y,e.y,n)}},Su.prototype.getOrdinate=function(t){switch(t){case Su.X:return this.x;case Su.Y:return this.y;case Su.Z:return this.z}throw new mu("Invalid ordinate index: "+t)},Su.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||vu.isNaN(this.z))&&vu.isNaN(t.z)},Su.prototype.equals=function(t){return t instanceof Su&&this.equals2D(t)},Su.prototype.equalInZ=function(t,e){return gu.equalsWithTolerance(this.z,t.z,e)},Su.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},Su.prototype.clone=function(){},Su.prototype.copy=function(){return new Su(this)},Su.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Su.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},Su.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},Su.prototype.hashCode=function(){var t=17;return t=37*t+Su.hashCode(this.x),37*t+Su.hashCode(this.y)},Su.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},Su.prototype.interfaces_=function(){return[bu,wu,Mi]},Su.prototype.getClass=function(){return Su},Su.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=vu.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},Eu.DimensionalComparator.get=function(){return Cu},Eu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},Eu.NULL_ORDINATE.get=function(){return vu.NaN},Eu.X.get=function(){return 0},Eu.Y.get=function(){return 1},Eu.Z.get=function(){return 2},Object.defineProperties(Su,Eu);var Cu=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new mu("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};Cu.prototype.compare=function(t,e){var n=t,r=e,i=Cu.compare(n.x,r.x);if(0!==i)return i;var o=Cu.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:Cu.compare(n.z,r.z)},Cu.prototype.interfaces_=function(){return[xu]},Cu.prototype.getClass=function(){return Cu},Cu.compare=function(t,e){return t<e?-1:t>e?1:vu.isNaN(t)?vu.isNaN(e)?0:-1:vu.isNaN(e)?1:0};var Pu=function(){};Pu.prototype.create=function(){},Pu.prototype.interfaces_=function(){return[]},Pu.prototype.getClass=function(){return Pu};var Iu=function(){},Ou={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Iu.toLocationSymbol=function(t){switch(t){case Iu.EXTERIOR:return"e";case Iu.BOUNDARY:return"b";case Iu.INTERIOR:return"i";case Iu.NONE:return"-"}throw new mu("Unknown location value: "+t)},Ou.INTERIOR.get=function(){return 0},Ou.BOUNDARY.get=function(){return 1},Ou.EXTERIOR.get=function(){return 2},Ou.NONE.get=function(){return-1},Object.defineProperties(Iu,Ou);var Mu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},Tu=function(){},Nu={LOG_10:{configurable:!0}};Tu.prototype.interfaces_=function(){return[]},Tu.prototype.getClass=function(){return Tu},Tu.log10=function(t){var e=Math.log(t);return vu.isInfinite(e)||vu.isNaN(e)?e:e/Tu.LOG_10},Tu.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},Tu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},Tu.wrap=function(t,e){return t<0?e- -t%e:t%e},Tu.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=t;return e>r&&(r=e),n>r&&(r=n),r}if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=i;return o>u&&(u=o),s>u&&(u=s),a>u&&(u=a),u}},Tu.average=function(t,e){return(t+e)/2},Nu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Tu,Nu);var ju=function(t){this.str=t};ju.prototype.append=function(t){this.str+=t},ju.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},ju.prototype.toString=function(t){return this.str};var Lu=function(t){this.value=t};Lu.prototype.intValue=function(){return this.value},Lu.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},Lu.isNaN=function(t){return Number.isNaN(t)};var Au=function(){};Au.isWhitespace=function(t){return t<=32&&t>=0||127===t},Au.toUpperCase=function(t){return t.toUpperCase()};var ku=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}},Ru={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};ku.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},ku.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=ku.magnitude(n._hi),i=ku.TEN.pow(r);(n=n.divide(i)).gt(ku.TEN)?(n=n.divide(ku.TEN),r+=1):n.lt(ku.ONE)&&(n=n.multiply(ku.TEN),r-=1);for(var o=r+1,s=new ju,a=ku.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,p=0;l>9?(c=!0,p="9"):p="0"+l,s.append(p),n=n.subtract(ku.valueOf(l)).multiply(ku.TEN),c&&n.selfAdd(ku.TEN);var h=!0,f=ku.magnitude(n._hi);if(f<0&&Math.abs(f)>=a-u&&(h=!1),!h)break}return e[0]=r,s.toString()},ku.prototype.sqr=function(){return this.multiply(this)},ku.prototype.doubleValue=function(){return this._hi+this._lo},ku.prototype.subtract=function(){if(arguments[0]instanceof ku){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},ku.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},ku.prototype.isZero=function(){return 0===this._hi&&0===this._lo},ku.prototype.selfSubtract=function(){if(arguments[0]instanceof ku){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},ku.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},ku.prototype.min=function(t){return this.le(t)?this:t},ku.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof ku){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null,c=null,p=null;return u=this._hi/n,l=ku.SPLIT*u,i=l-u,p=ku.SPLIT*n,i=l-i,o=u-i,s=p-n,c=u*n,s=p-s,a=n-s,p=i*s-c+i*a+o*s+o*a,l=(this._hi-c-p+this._lo-u*r)/n,p=u+l,this._hi=p,this._lo=u-p+l,this}},ku.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},ku.prototype.divide=function(){if(arguments[0]instanceof ku){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=ku.SPLIT*o)-(e=s-o)),u=e*(r=(u=ku.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi,new ku(u=o+s,o-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return vu.isNaN(l)?ku.createNaN():ku.copy(this).selfDivide(l,0)}},ku.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},ku.prototype.pow=function(t){if(0===t)return ku.valueOf(1);var e=new ku(this),n=ku.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},ku.prototype.ceil=function(){if(this.isNaN())return ku.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new ku(t,e)},ku.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},ku.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},ku.prototype.setValue=function(){if(arguments[0]instanceof ku){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},ku.prototype.max=function(t){return this.ge(t)?this:t},ku.prototype.sqrt=function(){if(this.isZero())return ku.valueOf(0);if(this.isNegative())return ku.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=ku.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},ku.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof ku){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return i=this._hi+e,s=i-this._hi,o=i-s,o=e-s+(this._hi-o),a=o+this._lo,n=i+a,r=a+(i-n),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,p=null,h=null,f=null,d=null,y=null,g=null;f=this._hi+u,p=this._lo+l,d=f-(y=f-this._hi),h=p-(g=p-this._lo);var m=(c=f+(y=(d=u-y+(this._hi-d))+p))+(y=(h=l-g+(this._lo-h))+(y+(f-c))),v=y+(c-m);return this._hi=m,this._lo=v,this}},ku.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof ku){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null;i=(u=ku.SPLIT*this._hi)-this._hi,l=ku.SPLIT*n,i=u-i,o=this._hi-i,s=l-n;var c=(u=this._hi*n)+(l=i*(s=l-s)-u+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),p=l+(i=u-c);return this._hi=c,this._lo=p,this}},ku.prototype.selfSqr=function(){return this.selfMultiply(this)},ku.prototype.floor=function(){if(this.isNaN())return ku.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new ku(t,e)},ku.prototype.negate=function(){return this.isNaN()?this:new ku(-this._hi,-this._lo)},ku.prototype.clone=function(){},ku.prototype.multiply=function(){if(arguments[0]instanceof ku){var t=arguments[0];return t.isNaN()?ku.createNaN():ku.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return vu.isNaN(e)?ku.createNaN():ku.copy(this).selfMultiply(e,0)}},ku.prototype.isNaN=function(){return vu.isNaN(this._hi)},ku.prototype.intValue=function(){return Math.trunc(this._hi)},ku.prototype.toString=function(){var t=ku.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},ku.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+ku.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+ku.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},ku.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,i=null,o=null,s=null,a=null;e=(i=1/this._hi)-(t=(o=ku.SPLIT*i)-(t=o-i)),n=(a=ku.SPLIT*this._hi)-this._hi;var u=i+(o=(1-(s=i*this._hi)-(a=t*(n=a-n)-s+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new ku(u,i-u+o)},ku.prototype.toSciNotation=function(){if(this.isZero())return ku.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=ku.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},ku.prototype.abs=function(){return this.isNaN()?ku.NaN:this.isNegative()?this.negate():new ku(this)},ku.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},ku.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},ku.prototype.add=function(){if(arguments[0]instanceof ku){var t=arguments[0];return ku.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return ku.copy(this).selfAdd(e)}},ku.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof ku){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},ku.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},ku.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},ku.prototype.trunc=function(){return this.isNaN()?ku.NaN:this.isPositive()?this.floor():this.ceil()},ku.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},ku.prototype.interfaces_=function(){return[Mi,bu,wu]},ku.prototype.getClass=function(){return ku},ku.sqr=function(t){return ku.valueOf(t).selfMultiply(t)},ku.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return ku.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new ku(e)}},ku.sqrt=function(t){return ku.valueOf(t).sqrt()},ku.parse=function(t){for(var e=0,n=t.length;Au.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new ku,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,Au.isDigit(l)){var c=l-"0";o.selfMultiply(ku.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var p=t.substring(e);try{u=Lu.parseInt(p)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+p+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var h=o,f=s-a-u;if(0===f)h=o;else if(f>0){var d=ku.TEN.pow(f);h=o.divide(d)}else if(f<0){var y=ku.TEN.pow(-f);h=o.multiply(y)}return r?h.negate():h},ku.createNaN=function(){return new ku(vu.NaN,vu.NaN)},ku.copy=function(t){return new ku(t)},ku.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},ku.stringOfChar=function(t,e){for(var n=new ju,r=0;r<e;r++)n.append(t);return n.toString()},Ru.PI.get=function(){return new ku(3.141592653589793,12246467991473532e-32)},Ru.TWO_PI.get=function(){return new ku(6.283185307179586,24492935982947064e-32)},Ru.PI_2.get=function(){return new ku(1.5707963267948966,6123233995736766e-32)},Ru.E.get=function(){return new ku(2.718281828459045,14456468917292502e-32)},Ru.NaN.get=function(){return new ku(vu.NaN,vu.NaN)},Ru.EPS.get=function(){return 123259516440783e-46},Ru.SPLIT.get=function(){return 134217729},Ru.MAX_PRINT_DIGITS.get=function(){return 32},Ru.TEN.get=function(){return ku.valueOf(10)},Ru.ONE.get=function(){return ku.valueOf(1)},Ru.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Ru.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(ku,Ru);var Du=function(){},Fu={DP_SAFE_EPSILON:{configurable:!0}};Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du},Du.orientationIndex=function(t,e,n){var r=Du.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=ku.valueOf(e.x).selfAdd(-t.x),o=ku.valueOf(e.y).selfAdd(-t.y),s=ku.valueOf(n.x).selfAdd(-e.x),a=ku.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},Du.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},Du.intersection=function(t,e,n,r){var i=ku.valueOf(r.y).selfSubtract(n.y).selfMultiply(ku.valueOf(e.x).selfSubtract(t.x)),o=ku.valueOf(r.x).selfSubtract(n.x).selfMultiply(ku.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=ku.valueOf(r.x).selfSubtract(n.x).selfMultiply(ku.valueOf(t.y).selfSubtract(n.y)),u=ku.valueOf(r.y).selfSubtract(n.y).selfMultiply(ku.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=ku.valueOf(t.x).selfAdd(ku.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),p=ku.valueOf(e.x).selfSubtract(t.x).selfMultiply(ku.valueOf(t.y).selfSubtract(n.y)),h=ku.valueOf(e.y).selfSubtract(t.y).selfMultiply(ku.valueOf(t.x).selfSubtract(n.x)),f=p.subtract(h).selfDivide(s).doubleValue(),d=ku.valueOf(n.y).selfAdd(ku.valueOf(r.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new Su(c,d)},Du.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return Du.signum(s);r=i+o}else{if(!(i<0))return Du.signum(s);if(o>=0)return Du.signum(s);r=-i-o}var a=Du.DP_SAFE_EPSILON*r;return s>=a||-s>=a?Du.signum(s):2},Du.signum=function(t){return t>0?1:t<0?-1:0},Fu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Du,Fu);var Bu=function(){},Gu={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Gu.X.get=function(){return 0},Gu.Y.get=function(){return 1},Gu.Z.get=function(){return 2},Gu.M.get=function(){return 3},Bu.prototype.setOrdinate=function(t,e,n){},Bu.prototype.size=function(){},Bu.prototype.getOrdinate=function(t,e){},Bu.prototype.getCoordinate=function(){},Bu.prototype.getCoordinateCopy=function(t){},Bu.prototype.getDimension=function(){},Bu.prototype.getX=function(t){},Bu.prototype.clone=function(){},Bu.prototype.expandEnvelope=function(t){},Bu.prototype.copy=function(){},Bu.prototype.getY=function(t){},Bu.prototype.toCoordinateArray=function(){},Bu.prototype.interfaces_=function(){return[wu]},Bu.prototype.getClass=function(){return Bu},Object.defineProperties(Bu,Gu);var Uu=function(){},qu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Uu),zu=function(){};zu.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},zu.getProperty=function(t){return{"line.separator":"\n"}[t]};var Vu=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof Su&&arguments[1]instanceof Su){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var p=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3],y=p.y-h.y,g=h.x-p.x,m=p.x*h.y-h.x*p.y,v=f.y-d.y,_=d.x-f.x,b=f.x*d.y-d.x*f.y;this.x=g*b-_*m,this.y=v*m-y*b,this.w=y*_-v*g}};Vu.prototype.getY=function(){var t=this.y/this.w;if(vu.isNaN(t)||vu.isInfinite(t))throw new qu;return t},Vu.prototype.getX=function(){var t=this.x/this.w;if(vu.isNaN(t)||vu.isInfinite(t))throw new qu;return t},Vu.prototype.getCoordinate=function(){var t=new Su;return t.x=this.getX(),t.y=this.getY(),t},Vu.prototype.interfaces_=function(){return[]},Vu.prototype.getClass=function(){return Vu},Vu.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-a*o,p=(o*l-u*s)/c,h=(a*s-i*l)/c;if(vu.isNaN(p)||vu.isInfinite(p)||vu.isNaN(h)||vu.isInfinite(h))throw new qu;return new Su(p,h)};var Zu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof Su){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},Xu={serialVersionUID:{configurable:!0}};Zu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Zu.prototype.equals=function(t){if(!(t instanceof Zu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Zu.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Zu;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Zu(e,r,n,i)},Zu.prototype.isNull=function(){return this._maxx<this._minx},Zu.prototype.getMaxX=function(){return this._maxx},Zu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof Su){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Zu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Zu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Zu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Su){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Zu.prototype.getMinY=function(){return this._miny},Zu.prototype.getMinX=function(){return this._minx},Zu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof Su){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Zu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Zu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Zu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Zu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Zu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Zu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Zu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Zu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Zu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Zu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Zu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Zu){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Su){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Zu.prototype.centre=function(){return this.isNull()?null:new Su((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Zu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof Su){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Zu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Zu.prototype.getMaxY=function(){return this._maxy},Zu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Zu.prototype.hashCode=function(){var t=17;return t=37*t+Su.hashCode(this._minx),t=37*t+Su.hashCode(this._maxx),t=37*t+Su.hashCode(this._miny),37*t+Su.hashCode(this._maxy)},Zu.prototype.interfaces_=function(){return[bu,Mi]},Zu.prototype.getClass=function(){return Zu},Zu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u)&&!(c<a)&&(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),!(l>u)&&!(c<a))}},Xu.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Zu,Xu);var Yu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Wu=function(t){this.geometryFactory=t||new mc};Wu.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=Yu.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Yu.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Ju[n]&&(e=Ju[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Wu.prototype.write=function(t){return this.extractGeometry(t)},Wu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Hu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Hu[e].apply(this,[t])+")"};var Hu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Hu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Hu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Hu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(Hu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Hu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Hu.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+Hu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+Hu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Ju={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Yu.spaces);return this.geometryFactory.createPoint(new Su(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Yu.trimParens,"$1"),r.push(Ju.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Yu.spaces),r.push(new Su(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(Yu.spaces),r.push(new Su(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Yu.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Yu.trimParens,"$1"),r.push(Ju.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(Yu.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(Yu.trimParens,"$1"),n=Ju.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Yu.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(Yu.trimParens,"$1"),r.push(Ju.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Qu=function(t){this.parser=new Wu(t)};Qu.prototype.write=function(t){return this.parser.write(t)},Qu.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Ku=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),$u=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ku),tl=function(){};tl.prototype.interfaces_=function(){return[]},tl.prototype.getClass=function(){return tl},tl.shouldNeverReachHere=function(){if(0===arguments.length)tl.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new $u("Should never reach here"+(null!==t?": "+t:""))}},tl.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],tl.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new $u:new $u(e)},tl.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],tl.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new $u("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var el=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Su,this._intPt[1]=new Su,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},nl={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};el.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},el.prototype.getTopologySummary=function(){var t=new ju;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},el.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},el.prototype.getIntersectionNum=function(){return this._result},el.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},el.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},el.prototype.setPrecisionModel=function(t){this._precisionModel=t},el.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},el.prototype.getIntersection=function(t){return this._intPt[t]},el.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},el.prototype.hasIntersection=function(){return this._result!==el.NO_INTERSECTION},el.prototype.getEdgeDistance=function(t,e){return el.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},el.prototype.isCollinear=function(){return this._result===el.COLLINEAR_INTERSECTION},el.prototype.toString=function(){return Qu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Qu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},el.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},el.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},el.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},el.prototype.interfaces_=function(){return[]},el.prototype.getClass=function(){return el},el.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return tl.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},el.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return tl.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},nl.DONT_INTERSECT.get=function(){return 0},nl.DO_INTERSECT.get=function(){return 1},nl.COLLINEAR.get=function(){return 2},nl.NO_INTERSECTION.get=function(){return 0},nl.POINT_INTERSECTION.get=function(){return 1},nl.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(el,nl);var rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Zu(this._inputLines[0][0],this._inputLines[0][1]),n=new Zu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Zu.intersects(n,r,e)&&0===sl.orientationIndex(n,r,e)&&0===sl.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=Vu.intersection(t,n,r,i)}catch(s){if(!(s instanceof qu))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new Su(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=Du.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);zu.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&zu.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new Su(t),o=new Su(e),s=new Su(n),a=new Su(r),u=new Su;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Zu.intersects(e,n,r),s=Zu.intersects(e,n,i),a=Zu.intersects(r,i,e),u=Zu.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,p=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,f=((o>l?o:l)+(a<p?a:p))/2,d=((s>c?s:c)+(u<h?u:h))/2;i.x=f,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Zu.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=sl.orientationIndex(e,n,r),s=sl.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=sl.orientationIndex(r,i,e),u=sl.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new Su(r):0===s?this._intPt[0]=new Su(i):0===a?this._intPt[0]=new Su(e):0===u&&(this._intPt[0]=new Su(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=sl.distancePointLine(t,n,r),s=sl.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=sl.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=sl.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(el),il=function(){};il.prototype.interfaces_=function(){return[]},il.prototype.getClass=function(){return il},il.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return il.signOfDet2x2(r,i,o,s)},il.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if(s=Math.floor(n/t),n-=s*t,(r-=s*e)<0)return-i;if(r>e)return i;if(t>n+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if(s=Math.floor(t/n),t-=s*n,(e-=s*r)<0)return i;if(e>r)return-i;if(n>t+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var ol=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};ol.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=il.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},ol.prototype.isPointInPolygon=function(){return this.getLocation()!==Iu.EXTERIOR},ol.prototype.getLocation=function(){return this._isPointOnSegment?Iu.BOUNDARY:this._crossingCount%2==1?Iu.INTERIOR:Iu.EXTERIOR},ol.prototype.isOnSegment=function(){return this._isPointOnSegment},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.locatePointInRing=function(){if(arguments[0]instanceof Su&&Mu(arguments[1],Bu)){for(var t=arguments[0],e=arguments[1],n=new ol(t),r=new Su,i=new Su,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof Su&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],u=new ol(s),l=1;l<a.length;l++){var c=a[l],p=a[l-1];if(u.countSegment(c,p),u.isOnSegment())return u.getLocation()}return u.getLocation()}};var sl=function(){},al={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl},sl.orientationIndex=function(t,e,n){return Du.orientationIndex(t,e,n)},sl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(Mu(arguments[0],Bu)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new Su,l=new Su,c=new Su;s.getCoordinate(0,l),s.getCoordinate(1,c);var p=l.x;c.x-=p;for(var h=0,f=1;f<a-1;f++)u.y=l.y,l.x=c.x,l.y=c.y,s.getCoordinate(f+1,c),c.x-=p,h+=l.x*(u.y-c.y);return h/2}},sl.distanceLineLine=function(t,e,n,r){if(t.equals(e))return sl.distancePointLine(t,n,r);if(n.equals(r))return sl.distancePointLine(r,t,e);var i=!1;if(Zu.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?Tu.min(sl.distancePointLine(t,n,r),sl.distancePointLine(e,n,r),sl.distancePointLine(n,t,e),sl.distancePointLine(r,t,e)):0},sl.isPointInRing=function(t,e){return sl.locatePointInRing(t,e)!==Iu.EXTERIOR},sl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new Su;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=a,o=u}return n},sl.isCCW=function(t){var e=t.length-1;if(e<3)throw new mu("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=sl.computeOrientation(u,n,l),p=!1;return p=0===c?u.x>l.x:c>0,p},sl.locatePointInRing=function(t,e){return ol.locatePointInRing(t,e)},sl.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},sl.computeOrientation=function(t,e,n){return sl.orientationIndex(t,e,n)},sl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new mu("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=sl.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},sl.isOnLine=function(t,e){for(var n=new rl,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},al.CLOCKWISE.get=function(){return-1},al.RIGHT.get=function(){return sl.CLOCKWISE},al.COUNTERCLOCKWISE.get=function(){return 1},al.LEFT.get=function(){return sl.COUNTERCLOCKWISE},al.COLLINEAR.get=function(){return 0},al.STRAIGHT.get=function(){return sl.COLLINEAR},Object.defineProperties(sl,al);var ul=function(){};ul.prototype.filter=function(t){},ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul};var ll=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},cl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ll.prototype.isGeometryCollection=function(){return this.getSortIndex()===ll.SORTINDEX_GEOMETRYCOLLECTION},ll.prototype.getFactory=function(){return this._factory},ll.prototype.getGeometryN=function(t){return this},ll.prototype.getArea=function(){return 0},ll.prototype.isRectangle=function(){return!1},ll.prototype.equals=function(){if(arguments[0]instanceof ll){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ll))return!1;var n=e;return this.equalsExact(n)}},ll.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ll.prototype.geometryChanged=function(){this.apply(ll.geometryChangedFilter)},ll.prototype.geometryChangedAction=function(){this._envelope=null},ll.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ll.prototype.getLength=function(){return 0},ll.prototype.getNumGeometries=function(){return 1},ll.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ll.prototype.getUserData=function(){return this._userData},ll.prototype.getSRID=function(){return this._SRID},ll.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ll.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ll.SORTINDEX_GEOMETRYCOLLECTION)throw new mu("This method does not support GeometryCollection arguments")},ll.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ll.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ll.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ll.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Zu(this._envelope)},ll.prototype.setSRID=function(t){this._SRID=t},ll.prototype.setUserData=function(t){this._userData=t},ll.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},ll.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ll.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ll.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ll.SORTINDEX_MULTIPOINT||this.getSortIndex()===ll.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ll.SORTINDEX_MULTIPOLYGON},ll.prototype.interfaces_=function(){return[wu,bu,Mi]},ll.prototype.getClass=function(){return ll},ll.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ll.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},cl.serialVersionUID.get=function(){return 0x799ea46522854c00},cl.SORTINDEX_POINT.get=function(){return 0},cl.SORTINDEX_MULTIPOINT.get=function(){return 1},cl.SORTINDEX_LINESTRING.get=function(){return 2},cl.SORTINDEX_LINEARRING.get=function(){return 3},cl.SORTINDEX_MULTILINESTRING.get=function(){return 4},cl.SORTINDEX_POLYGON.get=function(){return 5},cl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},cl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},cl.geometryChangedFilter.get=function(){return pl},Object.defineProperties(ll,cl);var pl=function(){};pl.interfaces_=function(){return[ul]},pl.filter=function(t){t.geometryChangedAction()};var hl=function(){};hl.prototype.filter=function(t){},hl.prototype.interfaces_=function(){return[]},hl.prototype.getClass=function(){return hl};var fl=function(){},dl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};fl.prototype.isInBoundary=function(t){},fl.prototype.interfaces_=function(){return[]},fl.prototype.getClass=function(){return fl},dl.Mod2BoundaryNodeRule.get=function(){return yl},dl.EndPointBoundaryNodeRule.get=function(){return gl},dl.MultiValentEndPointBoundaryNodeRule.get=function(){return ml},dl.MonoValentEndPointBoundaryNodeRule.get=function(){return vl},dl.MOD2_BOUNDARY_RULE.get=function(){return new yl},dl.ENDPOINT_BOUNDARY_RULE.get=function(){return new gl},dl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ml},dl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vl},dl.OGC_SFS_BOUNDARY_RULE.get=function(){return fl.MOD2_BOUNDARY_RULE},Object.defineProperties(fl,dl);var yl=function(){};yl.prototype.isInBoundary=function(t){return t%2==1},yl.prototype.interfaces_=function(){return[fl]},yl.prototype.getClass=function(){return yl};var gl=function(){};gl.prototype.isInBoundary=function(t){return t>0},gl.prototype.interfaces_=function(){return[fl]},gl.prototype.getClass=function(){return gl};var ml=function(){};ml.prototype.isInBoundary=function(t){return t>1},ml.prototype.interfaces_=function(){return[fl]},ml.prototype.getClass=function(){return ml};var vl=function(){};vl.prototype.isInBoundary=function(t){return 1===t},vl.prototype.interfaces_=function(){return[fl]},vl.prototype.getClass=function(){return vl};var _l=function(){};_l.prototype.add=function(){},_l.prototype.addAll=function(){},_l.prototype.isEmpty=function(){},_l.prototype.iterator=function(){},_l.prototype.size=function(){},_l.prototype.toArray=function(){},_l.prototype.remove=function(){};var bl=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),wl=function(){};wl.prototype.hasNext=function(){},wl.prototype.next=function(){},wl.prototype.remove=function(){};var xl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(_l);(Ti.prototype=new Error).name="NoSuchElementException";var Sl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof _l&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,_l]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new El(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new bl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(xl),El=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new Ti;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(wl),Cl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=!1,i=e.iterator();i.hasNext();)this.add(i.next(),n),r=!0;return r}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof Su&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<a.length;l++)this.add(a[l],u);else for(var c=a.length-1;c>=0;c--)this.add(a[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof Su){var p=arguments[0],h=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(p>0&&this.get(p-1).equals2D(h))return null;if(p<f&&this.get(p).equals2D(h))return null}}t.prototype.add.call(this,p,h)}}else if(4===arguments.length){var d=arguments[0],y=arguments[1],g=arguments[2],m=arguments[3],v=1;g>m&&(v=-1);for(var _=g;_!==m;_+=v)this.add(d[_],y);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new Su(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Sl),Pl=function(){},Il={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Il.ForwardComparator.get=function(){return Ol},Il.BidirectionalComparator.get=function(){return Ml},Il.coordArrayType.get=function(){return new Array(0).fill(null)},Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl},Pl.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},Pl.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Pl.indexOf(r,e)<0)return r}return null},Pl.scroll=function(t,e){var n=Pl.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);zu.arraycopy(t,n,r,0,t.length-n),zu.arraycopy(t,0,r,t.length-n,n),zu.arraycopy(r,0,t,0,t.length)},Pl.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Pl.intersection=function(t,e){for(var n=new Cl,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Pl.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Pl.removeRepeatedPoints=function(t){return Pl.hasRepeatedPoints(t)?new Cl(t,!1).toCoordinateArray():t},Pl.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Pl.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Pl.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new Su(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new Su(r[i+u])},Pl.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Pl.envelope=function(t){for(var e=new Zu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Pl.toCoordinateArray=function(t){return t.toArray(Pl.coordArrayType)},Pl.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Pl.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Pl.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Pl.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Pl.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Pl.extract=function(t,e,n){e=Tu.clamp(e,0,t.length);var r=(n=Tu.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Pl,Il);var Ol=function(){};Ol.prototype.compare=function(t,e){return Pl.compare(t,e)},Ol.prototype.interfaces_=function(){return[xu]},Ol.prototype.getClass=function(){return Ol};var Ml=function(){};Ml.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Pl.compare(n,r);return Pl.isEqualReversed(n,r)?0:i},Ml.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Pl.increasingDirection(n),o=Pl.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0},Ml.prototype.interfaces_=function(){return[xu]},Ml.prototype.getClass=function(){return Ml};var Tl=function(){};Tl.prototype.get=function(){},Tl.prototype.put=function(){},Tl.prototype.size=function(){},Tl.prototype.values=function(){},Tl.prototype.entrySet=function(){};var Nl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tl);(Ni.prototype=new Error).name="OperationNotSupported",(ji.prototype=new _l).contains=function(){};var jl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof _l&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new Ll(this)},e}(ji),Ll=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new Ti;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Ni},e}(wl),Al=0;(Fi.prototype=new Nl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Fi.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Al,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:Al,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Fi.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Ai(t)===Ri(Ai(Ai(t)))){var e=Di(Ai(Ai(t)));1===Li(e)?(ki(Ai(t),Al),ki(e,Al),ki(Ai(Ai(t)),1),t=Ai(Ai(t))):(t===Di(Ai(t))&&(t=Ai(t),this.rotateLeft(t)),ki(Ai(t),Al),ki(Ai(Ai(t)),1),this.rotateRight(Ai(Ai(t))))}else{var n=Ri(Ai(Ai(t)));1===Li(n)?(ki(Ai(t),Al),ki(n,Al),ki(Ai(Ai(t)),1),t=Ai(Ai(t))):(t===Ri(Ai(t))&&(t=Ai(t),this.rotateRight(t)),ki(Ai(t),Al),ki(Ai(Ai(t)),1),this.rotateLeft(Ai(Ai(t))))}this.root_.color=Al},Fi.prototype.values=function(){var t=new Sl,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Fi.successor(e));)t.add(e.value);return t},Fi.prototype.entrySet=function(){var t=new jl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Fi.successor(e));)t.add(e);return t},Fi.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Fi.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Fi.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Fi.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},Fi.prototype.size=function(){return this.size_};var kl=function(){};kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},Bi.prototype=new ji,(Gi.prototype=new Bi).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Gi.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Gi.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Gi.prototype.remove=function(t){throw new Ni},Gi.prototype.size=function(){return this.array_.length},Gi.prototype.isEmpty=function(){return 0===this.array_.length},Gi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Gi.prototype.iterator=function(){return new Rl(this)};var Rl=function(t){this.treeSet_=t,this.position_=0};Rl.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new Ti;return this.treeSet_.array_[this.position_++]},Rl.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Rl.prototype.remove=function(){throw new Ni};var Dl=function(){};Dl.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Dl.asList=function(t){for(var e=new Sl,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Fl=function(){},Bl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Bl.P.get=function(){return 0},Bl.L.get=function(){return 1},Bl.A.get=function(){return 2},Bl.FALSE.get=function(){return-1},Bl.TRUE.get=function(){return-2},Bl.DONTCARE.get=function(){return-3},Bl.SYM_FALSE.get=function(){return"F"},Bl.SYM_TRUE.get=function(){return"T"},Bl.SYM_DONTCARE.get=function(){return"*"},Bl.SYM_P.get=function(){return"0"},Bl.SYM_L.get=function(){return"1"},Bl.SYM_A.get=function(){return"2"},Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl},Fl.toDimensionSymbol=function(t){switch(t){case Fl.FALSE:return Fl.SYM_FALSE;case Fl.TRUE:return Fl.SYM_TRUE;case Fl.DONTCARE:return Fl.SYM_DONTCARE;case Fl.P:return Fl.SYM_P;case Fl.L:return Fl.SYM_L;case Fl.A:return Fl.SYM_A}throw new mu("Unknown dimension value: "+t)},Fl.toDimensionValue=function(t){switch(Au.toUpperCase(t)){case Fl.SYM_FALSE:return Fl.FALSE;case Fl.SYM_TRUE:return Fl.TRUE;case Fl.SYM_DONTCARE:return Fl.DONTCARE;case Fl.SYM_P:return Fl.P;case Fl.SYM_L:return Fl.L;case Fl.SYM_A:return Fl.A}throw new mu("Unknown dimension symbol: "+t)},Object.defineProperties(Fl,Bl);var Gl=function(){};Gl.prototype.filter=function(t){},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var Ul=function(){};Ul.prototype.filter=function(t,e){},Ul.prototype.isDone=function(){},Ul.prototype.isGeometryChanged=function(){},Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul};var ql=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new mu("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Zu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Dl.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Fl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Fl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Gi(Dl.asList(this._geometries)),n=new Gi(Dl.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o=r,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;u<s&&u<a;){var l=this.getGeometryN(u),c=o.getGeometryN(u),p=l.compareToSameClass(c,i);if(0!==p)return p;u++}return u<s?1:u<a?-1:0}},e.prototype.apply=function(){if(Mu(arguments[0],hl))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(Mu(arguments[0],Ul)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(Mu(arguments[0],Gl)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(Mu(arguments[0],ul)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),tl.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ll),zl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ll.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Fl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Vl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[kl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(ql),Vl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=fl.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Vl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Vl.prototype.getBoundary=function(){return this._geom instanceof Hl?this.boundaryLineString(this._geom):this._geom instanceof zl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Vl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Vl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Vl.prototype.computeBoundaryCoordinates=function(t){var e=new Sl;this._endpointMap=new Fi;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Pl.toCoordinateArray(e)},Vl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Zl,this._endpointMap.put(t,e)),e.count++},Vl.prototype.interfaces_=function(){return[]},Vl.prototype.getClass=function(){return Vl},Vl.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Vl(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Vl(e,n).getBoundary()}};var Zl=function(){this.count=null};Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var Xl=function(){},Yl={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Xl.prototype.interfaces_=function(){return[]},Xl.prototype.getClass=function(){return Xl},Xl.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Xl.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new function(){}(new function(){}(Xl.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+Xl.NEWLINE}catch(t){if(!(t instanceof Ui))throw t;tl.shouldNeverReachHere()}return o}},Xl.split=function(t,e){for(var n=e.length,r=new Sl,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Xl.toString=function(){if(1===arguments.length){var t=arguments[0];return Xl.SIMPLE_ORDINATE_FORMAT.format(t)}},Xl.spaces=function(t){return Xl.chars(" ",t)},Yl.NEWLINE.get=function(){return zu.getProperty("line.separator")},Yl.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Xl,Yl);var Wl=function(){};Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl},Wl.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Wl.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,Bu.X)===t.getOrdinate(e-1,Bu.X)&&t.getOrdinate(0,Bu.Y)===t.getOrdinate(e-1,Bu.Y)},Wl.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(t.getOrdinate(i,o)!==e.getOrdinate(i,o)&&(!vu.isNaN(s)||!vu.isNaN(a)))return!1}return!0},Wl.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Wl.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Wl.copy(e,i-1,r,o,1);return r},Wl.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Wl.swap(t,r,e-r)},Wl.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Wl.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Wl.copyCoord(t,e+o,n,r+o)},Wl.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new ju;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Xl.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Wl.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Wl.createClosedRing(t,e,4):e.getOrdinate(0,Bu.X)===e.getOrdinate(n-1,Bu.X)&&e.getOrdinate(0,Bu.Y)===e.getOrdinate(n-1,Bu.Y)?e:Wl.createClosedRing(t,e,n+1)},Wl.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Wl.copy(e,0,r,0,i);for(var o=i;o<n;o++)Wl.copy(e,0,r,o,1);return r};var Hl=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Zu:this._points.expandEnvelope(new Zu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wl.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Fl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return sl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Wl.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(Mu(arguments[0],hl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(Mu(arguments[0],Ul)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(Mu(arguments[0],Gl)||Mu(arguments[0],ul))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Vl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new mu("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[kl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ll),Jl=function(){};Jl.prototype.interfaces_=function(){return[]},Jl.prototype.getClass=function(){return Jl};var Ql=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Zu;var t=new Zu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Fl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(Mu(arguments[0],hl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Mu(arguments[0],Ul)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(Mu(arguments[0],Gl)||Mu(arguments[0],ul))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),tl.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Jl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ll),Kl=function(){};Kl.prototype.interfaces_=function(){return[]},Kl.prototype.getClass=function(){return Kl};var $l=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new mu("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new mu("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(sl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(sl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o===(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Dl.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);zu.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Pl.minCoordinate(e.getCoordinates());Pl.scroll(r,i),zu.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],sl.isCCW(e.getCoordinates())===n&&Pl.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[0],i=arguments[1],o=r,s=this._shell,a=o._shell,u=s.compareToSameClass(a,i);if(0!==u)return u;for(var l=this.getNumInteriorRing(),c=o.getNumInteriorRing(),p=0;p<l&&p<c;){var h=this.getInteriorRingN(p),f=o.getInteriorRingN(p),d=h.compareToSameClass(f,i);if(0!==d)return d;p++}return p<l?1:p<c?-1:0}},e.prototype.apply=function(t){if(Mu(t,hl)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(Mu(t,Ul)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(Mu(t,Gl))t.filter(this);else if(Mu(t,ul)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Kl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ll),tc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ll.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Fl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Jl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(ql),ec=function(t){function e(e,n){e instanceof Su&&n instanceof mc&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ll.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Fl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Wl.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new mu("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new mu("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Hl),nc=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ll.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Sl,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Kl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(ql),rc=function(t){this._factory=t||null,this._isUserDataCopied=!1},ic={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rc.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},rc.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},rc.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof ql?this.editGeometryCollection(t,e):t instanceof $l?this.editPolygon(t,e):t instanceof Ql||t instanceof Hl?e.edit(t,this._factory):(tl.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},rc.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Sl,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===tc?this._factory.createMultiPoint(r.toArray([])):n.getClass()===zl?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nc?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rc.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Sl,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},rc.GeometryEditorOperation=function(){},ic.NoOpGeometryOperation.get=function(){return oc},ic.CoordinateOperation.get=function(){return sc},ic.CoordinateSequenceOperation.get=function(){return ac},Object.defineProperties(rc,ic);var oc=function(){};oc.prototype.edit=function(t,e){return t},oc.prototype.interfaces_=function(){return[rc.GeometryEditorOperation]},oc.prototype.getClass=function(){return oc};var sc=function(){};sc.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ec?e.createLinearRing(n):t instanceof Hl?e.createLineString(n):t instanceof Ql?n.length>0?e.createPoint(n[0]):e.createPoint():t},sc.prototype.interfaces_=function(){return[rc.GeometryEditorOperation]},sc.prototype.getClass=function(){return sc};var ac=function(){};ac.prototype.edit=function(t,e){return t instanceof ec?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Hl?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Ql?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ac.prototype.interfaces_=function(){return[rc.GeometryEditorOperation]},ac.prototype.getClass=function(){return ac};var uc=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new Su}else if(Mu(arguments[0],Bu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new Su}},lc={serialVersionUID:{configurable:!0}};uc.prototype.setOrdinate=function(t,e,n){switch(e){case Bu.X:this._coordinates[t].x=n;break;case Bu.Y:this._coordinates[t].y=n;break;case Bu.Z:this._coordinates[t].z=n;break;default:throw new mu("invalid ordinateIndex")}},uc.prototype.size=function(){return this._coordinates.length},uc.prototype.getOrdinate=function(t,e){switch(e){case Bu.X:return this._coordinates[t].x;case Bu.Y:return this._coordinates[t].y;case Bu.Z:return this._coordinates[t].z}return vu.NaN},uc.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},uc.prototype.getCoordinateCopy=function(t){return new Su(this._coordinates[t])},uc.prototype.getDimension=function(){return this._dimension},uc.prototype.getX=function(t){return this._coordinates[t].x},uc.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new uc(t,this._dimension)},uc.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},uc.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new uc(t,this._dimension)},uc.prototype.toString=function(){if(this._coordinates.length>0){var t=new ju(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},uc.prototype.getY=function(t){return this._coordinates[t].y},uc.prototype.toCoordinateArray=function(){return this._coordinates},uc.prototype.interfaces_=function(){return[Bu,Mi]},uc.prototype.getClass=function(){return uc},lc.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(uc,lc);var cc=function(){},pc={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};cc.prototype.readResolve=function(){return cc.instance()},cc.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new uc(t)}if(Mu(arguments[0],Bu)){var e=arguments[0];return new uc(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return r>3&&(r=3),r<2?new uc(n):new uc(n,r)}},cc.prototype.interfaces_=function(){return[Pu,Mi]},cc.prototype.getClass=function(){return cc},cc.instance=function(){return cc.instanceObject},pc.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},pc.instanceObject.get=function(){return new cc},Object.defineProperties(cc,pc);var hc=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Sl,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new jl;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Tl),fc=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof yc){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},dc={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};fc.prototype.equals=function(t){if(!(t instanceof fc))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},fc.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new Lu(n).compareTo(new Lu(r))},fc.prototype.getScale=function(){return this._scale},fc.prototype.isFloating=function(){return this._modelType===fc.FLOATING||this._modelType===fc.FLOATING_SINGLE},fc.prototype.getType=function(){return this._modelType},fc.prototype.toString=function(){var t="UNKNOWN";return this._modelType===fc.FLOATING?t="Floating":this._modelType===fc.FLOATING_SINGLE?t="Floating-Single":this._modelType===fc.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},fc.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return vu.isNaN(t)||this._modelType===fc.FLOATING_SINGLE?t:this._modelType===fc.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Su){var e=arguments[0];if(this._modelType===fc.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},fc.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===fc.FLOATING?t=16:this._modelType===fc.FLOATING_SINGLE?t=6:this._modelType===fc.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},fc.prototype.setScale=function(t){this._scale=Math.abs(t)},fc.prototype.interfaces_=function(){return[Mi,bu]},fc.prototype.getClass=function(){return fc},fc.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},dc.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},dc.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(fc,dc);var yc=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},gc={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yc.prototype.readResolve=function(){return yc.nameToTypeMap.get(this._name)},yc.prototype.toString=function(){return this._name},yc.prototype.interfaces_=function(){return[Mi]},yc.prototype.getClass=function(){return yc},gc.serialVersionUID.get=function(){return-552860263173159e4},gc.nameToTypeMap.get=function(){return new hc},Object.defineProperties(yc,gc),fc.Type=yc,fc.FIXED=new yc("FIXED"),fc.FLOATING=new yc("FLOATING"),fc.FLOATING_SINGLE=new yc("FLOATING SINGLE");var mc=function t(){this._precisionModel=new fc,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?Mu(arguments[0],Pu)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof fc&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},vc={serialVersionUID:{configurable:!0}};mc.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Su(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Su(t.getMinX(),t.getMinY()),new Su(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Su(t.getMinX(),t.getMinY()),new Su(t.getMinX(),t.getMaxY()),new Su(t.getMaxX(),t.getMaxY()),new Su(t.getMaxX(),t.getMinY()),new Su(t.getMinX(),t.getMinY())]),null)},mc.prototype.createLineString=function(t){return t?t instanceof Array?new Hl(this.getCoordinateSequenceFactory().create(t),this):Mu(t,Bu)?new Hl(t,this):void 0:new Hl(this.getCoordinateSequenceFactory().create([]),this)},mc.prototype.createMultiLineString=function(){if(0===arguments.length)return new zl(null,this);if(1===arguments.length){var t=arguments[0];return new zl(t,this)}},mc.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(mc.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $l)return this.createMultiPolygon(mc.toPolygonArray(t));if(a instanceof Hl)return this.createMultiLineString(mc.toLineStringArray(t));if(a instanceof Ql)return this.createMultiPoint(mc.toPointArray(t));tl.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},mc.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},mc.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Su){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Mu(arguments[0],Bu)){var e=arguments[0];return new Ql(e,this)}}},mc.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},mc.prototype.createPolygon=function(){if(0===arguments.length)return new $l(null,null,this);if(1===arguments.length){if(Mu(arguments[0],Bu)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ec){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return new $l(r,i,this)}},mc.prototype.getSRID=function(){return this._SRID},mc.prototype.createGeometryCollection=function(){if(0===arguments.length)return new ql(null,this);if(1===arguments.length){var t=arguments[0];return new ql(t,this)}},mc.prototype.createGeometry=function(t){return new rc(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},mc.prototype.getPrecisionModel=function(){return this._precisionModel},mc.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Mu(arguments[0],Bu)){var e=arguments[0];return new ec(e,this)}}},mc.prototype.createMultiPolygon=function(){if(0===arguments.length)return new nc(null,this);if(1===arguments.length){var t=arguments[0];return new nc(t,this)}},mc.prototype.createMultiPoint=function(){if(0===arguments.length)return new tc(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new tc(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Mu(arguments[0],Bu)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var r=new Array(n.size()).fill(null),i=0;i<n.size();i++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Wl.copy(n,i,o,0,1),r[i]=this.createPoint(o)}return this.createMultiPoint(r)}}},mc.prototype.interfaces_=function(){return[Mi]},mc.prototype.getClass=function(){return mc},mc.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.getDefaultCoordinateSequenceFactory=function(){return cc.instance()},mc.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},mc.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},vc.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(mc,vc);var _c=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],bc=function(t){this.geometryFactory=t||new mc};bc.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!wc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==_c.indexOf(n)?wc[n].apply(this,[e.coordinates]):"GeometryCollection"===n?wc[n].apply(this,[e.geometries]):wc[n].apply(this,[e])},bc.prototype.write=function(t){var e=t.getGeometryType();if(!xc[e])throw new Error("Geometry is not supported");return xc[e].apply(this,[t])};var wc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!wc[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=wc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new Su(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new Su(t[0],t[1]),new Su(t[2],t[1]),new Su(t[2],t[3]),new Su(t[0],t[3]),new Su(t[0],t[1])])},Point:function(t){var e=new Su(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(wc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=wc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(wc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=wc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=wc.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(wc.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},xc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:xc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xc.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(xc.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xc.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=xc.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=xc.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(xc[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Sc=function(t){this.geometryFactory=t||new mc,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new bc(this.geometryFactory)};Sc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===fc.FIXED&&this.reducePrecision(e),e},Sc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Ec=function(){this.parser=new bc(this.geometryFactory)};Ec.prototype.write=function(t){return this.parser.write(t)};var Cc=function(){},Pc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc},Cc.opposite=function(t){return t===Cc.LEFT?Cc.RIGHT:t===Cc.RIGHT?Cc.LEFT:t},Pc.ON.get=function(){return 0},Pc.LEFT.get=function(){return 1},Pc.RIGHT.get=function(){return 2},Object.defineProperties(Cc,Pc),(qi.prototype=new Error).name="EmptyStackException",(zi.prototype=new xl).add=function(t){return this.array_.push(t),!0},zi.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},zi.prototype.push=function(t){return this.array_.push(t),t},zi.prototype.pop=function(t){if(0===this.array_.length)throw new qi;return this.array_.pop()},zi.prototype.peek=function(){if(0===this.array_.length)throw new qi;return this.array_[this.array_.length-1]},zi.prototype.empty=function(){return 0===this.array_.length},zi.prototype.isEmpty=function(){return this.empty()},zi.prototype.search=function(t){return this.array_.indexOf(t)},zi.prototype.size=function(){return this.array_.length},zi.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ic=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ic.prototype.getCoordinate=function(){return this._minCoord},Ic.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ic.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();tl.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=sl.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===sl.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===sl.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ic.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Cc.LEFT;return n[e].y<n[e+1].y&&(r=Cc.RIGHT),r},Ic.prototype.getEdge=function(){return this._orientedDe},Ic.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ic.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ic.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}tl.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Cc.LEFT&&(this._orientedDe=this._minDe.getSym())},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Oc=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new Su(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Ku),Mc=function(){this.array_=[]};Mc.prototype.addLast=function(t){this.array_.push(t)},Mc.prototype.removeFirst=function(){return this.array_.shift()},Mc.prototype.isEmpty=function(){return 0===this.array_.length};var Tc=function(){this._finder=null,this._dirEdgeList=new Sl,this._nodes=new Sl,this._rightMostCoord=null,this._env=null,this._finder=new Ic};Tc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Tc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Tc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Oc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Tc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Cc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Tc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Tc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Cc.RIGHT)>=1&&e.getDepth(Cc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Tc.prototype.computeDepths=function(t){var e=new jl,n=new Mc,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Tc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Tc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Zu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Tc.prototype.addReachable=function(t){var e=new zi;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Tc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Cc.LEFT,t.getDepth(Cc.RIGHT)),e.setDepth(Cc.RIGHT,t.getDepth(Cc.LEFT))},Tc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Tc.prototype.getNodes=function(){return this._nodes},Tc.prototype.getDirectedEdges=function(){return this._dirEdgeList},Tc.prototype.interfaces_=function(){return[bu]},Tc.prototype.getClass=function(){return Tc};var Nc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Cc.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Cc.ON]=o,this.location[Cc.LEFT]=s,this.location[Cc.RIGHT]=a}};Nc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Nc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==Iu.NONE)return!1;return!0},Nc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===Iu.NONE&&(this.location[e]=t)},Nc.prototype.isLine=function(){return 1===this.location.length},Nc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Cc.ON]=this.location[Cc.ON],e[Cc.LEFT]=Iu.NONE,e[Cc.RIGHT]=Iu.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===Iu.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Nc.prototype.getLocations=function(){return this.location},Nc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Cc.LEFT];this.location[Cc.LEFT]=this.location[Cc.RIGHT],this.location[Cc.RIGHT]=t},Nc.prototype.toString=function(){var t=new ju;return this.location.length>1&&t.append(Iu.toLocationSymbol(this.location[Cc.LEFT])),t.append(Iu.toLocationSymbol(this.location[Cc.ON])),this.location.length>1&&t.append(Iu.toLocationSymbol(this.location[Cc.RIGHT])),t.toString()},Nc.prototype.setLocations=function(t,e,n){this.location[Cc.ON]=t,this.location[Cc.LEFT]=e,this.location[Cc.RIGHT]=n},Nc.prototype.get=function(t){return t<this.location.length?this.location[t]:Iu.NONE},Nc.prototype.isArea=function(){return this.location.length>1},Nc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===Iu.NONE)return!0;return!1},Nc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Cc.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Nc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(Iu.NONE)},Nc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Nc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Nc.prototype.interfaces_=function(){return[]},Nc.prototype.getClass=function(){return Nc};var jc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Nc(e),this.elt[1]=new Nc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Nc(n.elt[0]),this.elt[1]=new Nc(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Nc(Iu.NONE),this.elt[1]=new Nc(Iu.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Nc(o,s,a),this.elt[1]=new Nc(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],p=arguments[3];this.elt[0]=new Nc(Iu.NONE,Iu.NONE,Iu.NONE),this.elt[1]=new Nc(Iu.NONE,Iu.NONE,Iu.NONE),this.elt[u].setLocations(l,c,p)}};jc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},jc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},jc.prototype.isNull=function(t){return this.elt[t].isNull()},jc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},jc.prototype.isLine=function(t){return this.elt[t].isLine()},jc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Nc(t.elt[e]):this.elt[e].merge(t.elt[e])},jc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},jc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Cc.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},jc.prototype.toString=function(){var t=new ju;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},jc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},jc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},jc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Cc.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},jc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},jc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},jc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Nc(this.elt[t].location[0]))},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc},jc.toLineLabel=function(t){for(var e=new jc(Iu.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Lc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Sl,this._pts=new Sl,this._label=new jc(Iu.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Sl,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Lc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=sl.isCCW(this._ring.getCoordinates())},Lc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Lc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Oc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Oc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();tl.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Lc.prototype.getLinearRing=function(){return this._ring},Lc.prototype.getCoordinate=function(t){return this._pts.get(t)},Lc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Lc.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Lc.prototype.isHole=function(){return this._isHole},Lc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Lc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!sl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Lc.prototype.addHole=function(t){this._holes.add(t)},Lc.prototype.isShell=function(){return null===this._shell},Lc.prototype.getLabel=function(){return this._label},Lc.prototype.getEdges=function(){return this._edges},Lc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Lc.prototype.getShell=function(){return this._shell},Lc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=e.getLocation(n,Cc.RIGHT);if(r===Iu.NONE)return null;if(this._label.getLocation(n)===Iu.NONE)return this._label.setLocation(n,r),null}},Lc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Lc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc};var Ac=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lc),kc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Sl,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Ac(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Lc),Rc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Rc.prototype.setVisited=function(t){this._isVisited=t},Rc.prototype.setInResult=function(t){this._isInResult=t},Rc.prototype.isCovered=function(){return this._isCovered},Rc.prototype.isCoveredSet=function(){return this._isCoveredSet},Rc.prototype.setLabel=function(t){this._label=t},Rc.prototype.getLabel=function(){return this._label},Rc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Rc.prototype.updateIM=function(t){tl.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Rc.prototype.isInResult=function(){return this._isInResult},Rc.prototype.isVisited=function(){return this._isVisited},Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc};var Dc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new jc(0,Iu.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=Iu.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==Iu.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new jc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof jc)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===Iu.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=Iu.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case Iu.BOUNDARY:n=Iu.INTERIOR;break;case Iu.INTERIOR:default:n=Iu.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Rc),Fc=function(){this.nodeMap=new Fi,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Fc.prototype.find=function(t){return this.nodeMap.get(t)},Fc.prototype.addNode=function(){if(arguments[0]instanceof Su){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Dc){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Fc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Fc.prototype.iterator=function(){return this.nodeMap.values().iterator()},Fc.prototype.values=function(){return this.nodeMap.values()},Fc.prototype.getBoundaryNodes=function(t){for(var e=new Sl,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===Iu.BOUNDARY&&e.add(r)}return e},Fc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc};var Bc=function(){},Gc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Bc.prototype.interfaces_=function(){return[]},Bc.prototype.getClass=function(){return Bc},Bc.isNorthern=function(t){return t===Bc.NE||t===Bc.NW},Bc.isOpposite=function(t,e){return t!==e&&2===(t-e+4)%4},Bc.commonHalfPlane=function(t,e){if(t===e)return t;if(2===(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},Bc.isInHalfPlane=function(t,e){return e===Bc.SE?t===Bc.SE||t===Bc.SW:t===e||t===e+1},Bc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new mu("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Bc.NE:Bc.SE:e>=0?Bc.NW:Bc.SW}if(arguments[0]instanceof Su&&arguments[1]instanceof Su){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new mu("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Bc.NE:Bc.SE:r.y>=n.y?Bc.NW:Bc.SW}},Gc.NE.get=function(){return 0},Gc.NW.get=function(){return 1},Gc.SW.get=function(){return 2},Gc.SE.get=function(){return 3},Object.defineProperties(Bc,Gc);var Uc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};Uc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:sl.computeOrientation(t._p0,t._p1,this._p1)},Uc.prototype.getDy=function(){return this._dy},Uc.prototype.getCoordinate=function(){return this._p0},Uc.prototype.setNode=function(t){this._node=t},Uc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Uc.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Uc.prototype.getDirectedCoordinate=function(){return this._p1},Uc.prototype.getDx=function(){return this._dx},Uc.prototype.getLabel=function(){return this._label},Uc.prototype.getEdge=function(){return this._edge},Uc.prototype.getQuadrant=function(){return this._quadrant},Uc.prototype.getNode=function(){return this._node},Uc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Uc.prototype.computeLabel=function(t){},Uc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=Bc.quadrant(this._dx,this._dy),tl.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Uc.prototype.interfaces_=function(){return[bu]},Uc.prototype.getClass=function(){return Uc};var qc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new jc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Oc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Cc.LEFT)===Iu.INTERIOR&&this._label.getLocation(e,Cc.RIGHT)===Iu.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Cc.LEFT]+"/"+this._depth[Cc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,Iu.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,Iu.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Cc.LEFT&&(r=-1);var i=Cc.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===Iu.EXTERIOR&&e===Iu.INTERIOR?1:t===Iu.INTERIOR&&e===Iu.EXTERIOR?-1:0},e}(Uc),zc=function(){};zc.prototype.createNode=function(t){return new Dc(t,null)},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc};var Vc=function(){if(this._edges=new Sl,this._nodes=null,this._edgeEndList=new Sl,0===arguments.length)this._nodes=new Fc(new zc);else if(1===arguments.length){var t=arguments[0];this._nodes=new Fc(t)}};Vc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Vc.prototype.find=function(t){return this._nodes.find(t)},Vc.prototype.addNode=function(){if(arguments[0]instanceof Dc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof Su){var e=arguments[0];return this._nodes.addNode(e)}},Vc.prototype.getNodeIterator=function(){return this._nodes.iterator()},Vc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Vc.prototype.debugPrintln=function(t){zu.out.println(t)},Vc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===Iu.BOUNDARY},Vc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Vc.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&sl.computeOrientation(t,e,r)===sl.COLLINEAR&&Bc.quadrant(t,e)===Bc.quadrant(n,r)},Vc.prototype.getEdgeEnds=function(){return this._edgeEndList},Vc.prototype.debugPrint=function(t){zu.out.print(t)},Vc.prototype.getEdgeIterator=function(){return this._edges.iterator()},Vc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Vc.prototype.insertEdge=function(t){this._edges.add(t)},Vc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Vc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new qc(n,!0),i=new qc(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Vc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Vc.prototype.getNodes=function(){return this._nodes.values()},Vc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc},Vc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Zc=function(){this._geometryFactory=null,this._shellList=new Sl;var t=arguments[0];this._geometryFactory=t};Zc.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Zc.prototype.computePolygons=function(t){for(var e=new Sl,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Zc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Oc("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Zc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Sl,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Zc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Zc.prototype.buildMaximalEdgeRings=function(t){for(var e=new Sl,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new kc(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Zc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Zc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Zc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var p=!1;c.contains(r)&&sl.isPointInRing(i,l.getCoordinates())&&(p=!0),p&&(null===o||s.contains(c))&&(o=u)}return o},Zc.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return tl.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Zc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Vc.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new Sl,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Xc=function(){};Xc.prototype.getBounds=function(){},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Yc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Yc.prototype.getItem=function(){return this._item},Yc.prototype.getBounds=function(){return this._bounds},Yc.prototype.interfaces_=function(){return[Xc,Mi]},Yc.prototype.getClass=function(){return Yc};var Wc=function(){this._size=null,this._items=null,this._size=0,this._items=new Sl,this._items.add(null)};Wc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Wc.prototype.size=function(){return this._size},Wc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Wc.prototype.clear=function(){this._size=0,this._items.clear()},Wc.prototype.isEmpty=function(){return 0===this._size},Wc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Wc.prototype.interfaces_=function(){return[]},Wc.prototype.getClass=function(){return Wc};var Hc=function(){};Hc.prototype.visitItem=function(t){},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var Jc=function(){};Jc.prototype.insert=function(t,e){},Jc.prototype.remove=function(t,e){},Jc.prototype.query=function(){},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var Qc=function(){if(this._childBoundables=new Sl,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Kc={serialVersionUID:{configurable:!0}};Qc.prototype.getLevel=function(){return this._level},Qc.prototype.size=function(){return this._childBoundables.size()},Qc.prototype.getChildBoundables=function(){return this._childBoundables},Qc.prototype.addChildBoundable=function(t){tl.isTrue(null===this._bounds),this._childBoundables.add(t)},Qc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Qc.prototype.interfaces_=function(){return[Xc,Mi]},Qc.prototype.getClass=function(){return Qc},Kc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Qc,Kc);var $c=function(){};$c.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$c.min=function(t){return $c.sort(t),t.get(0)},$c.sort=function(t,e){var n=t.toArray();e?Dl.sort(n,e):Dl.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},$c.singletonList=function(t){var e=new Sl;return e.add(t),e};var tp=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tp.prototype.expandToQueue=function(t,e){var n=tp.isComposite(this._boundable1),r=tp.isComposite(this._boundable2);if(n&&r)return tp.area(this._boundable1)>tp.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new mu("neither boundable is composite")},tp.prototype.isLeaves=function(){return!(tp.isComposite(this._boundable1)||tp.isComposite(this._boundable2))},tp.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tp.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new tp(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tp.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tp.prototype.getDistance=function(){return this._distance},tp.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tp.prototype.interfaces_=function(){return[bu]},tp.prototype.getClass=function(){return tp},tp.area=function(t){return t.getBounds().getArea()},tp.isComposite=function(t){return t instanceof Qc};var ep=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Sl,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];tl.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},np={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};ep.prototype.getNodeCapacity=function(){return this._nodeCapacity},ep.prototype.lastNode=function(t){return t.get(t.size()-1)},ep.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Qc?t+=this.size(n):n instanceof Yc&&(t+=1)}return t}},ep.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Yc&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},ep.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Sl:t}if(1===arguments.length){for(var e=arguments[0],n=new Sl,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Qc){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Yc?n.add(i.getItem()):tl.shouldNeverReachHere()}return n.size()<=0?null:n}},ep.prototype.insert=function(t,e){tl.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Yc(t,e))},ep.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Sl;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(tl.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Qc?this.boundablesAtLevel(n,s,i):(tl.isTrue(s instanceof Yc),-1===n&&i.add(s))}return null}},ep.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Sl;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(Mu(arguments[2],Hc)&&arguments[0]instanceof Object&&arguments[1]instanceof Qc)for(var i=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Qc?this.query(i,l,s):l instanceof Yc?s.visitItem(l.getItem()):tl.shouldNeverReachHere())}else if(Mu(arguments[2],xl)&&arguments[0]instanceof Object&&arguments[1]instanceof Qc)for(var c=arguments[0],p=arguments[1],h=arguments[2],f=p.getChildBoundables(),d=0;d<f.size();d++){var y=f.get(d);this.getIntersectsOp().intersects(y.getBounds(),c)&&(y instanceof Qc?this.query(c,y,h):y instanceof Yc?h.add(y.getItem()):tl.shouldNeverReachHere())}},ep.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},ep.prototype.getRoot=function(){return this.build(),this._root},ep.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Qc&&(o=this.remove(n,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},ep.prototype.createHigherLevels=function(t,e){tl.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},ep.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Qc){var r=this.depth(n);r>t&&(t=r)}}return t+1}},ep.prototype.createParentBoundables=function(t,e){tl.isTrue(!t.isEmpty());var n=new Sl;n.add(this.createNode(e));var r=new Sl(t);$c.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},ep.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},ep.prototype.interfaces_=function(){return[Mi]},ep.prototype.getClass=function(){return ep},ep.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},np.IntersectsOp.get=function(){return rp},np.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},np.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(ep,np);var rp=function(){},ip=function(){};ip.prototype.distance=function(t,e){},ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip};var op=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){tl.isTrue(t.length>0);for(var n=new Sl,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},e.prototype.createNode=function(t){return new sp(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new Sl;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(Mu(arguments[2],Hc)&&arguments[0]instanceof Object&&arguments[1]instanceof Qc){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(Mu(arguments[2],xl)&&arguments[0]instanceof Object&&arguments[1]instanceof Qc){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){tl.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Sl(t);$c.sort(i,e.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(Mu(arguments[0],ip)){var t=arguments[0],n=new tp(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof tp){var r=arguments[0];return this.nearestNeighbour(r,vu.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&Mu(arguments[1],ip)){var i=arguments[0],o=arguments[1],s=new tp(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tp&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=null,c=new Wc;for(c.add(a);!c.isEmpty()&&u>0;){var p=c.poll(),h=p.getDistance();if(h>=u)break;p.isLeaves()?(u=h,l=p):p.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var f=arguments[0],d=arguments[1],y=arguments[2],g=new Yc(f,d),m=new tp(this.getRoot(),g,y);return this.nearestNeighbour(m)[0]}},e.prototype.interfaces_=function(){return[Jc,Mi]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return sp},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[xu]},compare:function(n,r){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(r.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[xu]},compare:function(n,r){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(r.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(ep),sp=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Zu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Qc),ap=function(){};ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap},ap.relativeSign=function(t,e){return t<e?-1:t>e?1:0},ap.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=ap.relativeSign(e.x,n.x),i=ap.relativeSign(e.y,n.y);switch(t){case 0:return ap.compareValue(r,i);case 1:return ap.compareValue(i,r);case 2:return ap.compareValue(i,-r);case 3:return ap.compareValue(-r,i);case 4:return ap.compareValue(-r,-i);case 5:return ap.compareValue(-i,-r);case 6:return ap.compareValue(-i,r);case 7:return ap.compareValue(r,-i)}return tl.shouldNeverReachHere("invalid octant value"),0},ap.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var up=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new Su(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};up.prototype.getCoordinate=function(){return this.coord},up.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},up.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:ap.compare(this._segmentOctant,this.coord,e.coord)},up.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},up.prototype.isInterior=function(){return this._isInterior},up.prototype.interfaces_=function(){return[bu]},up.prototype.getClass=function(){return up};var lp=function(){this._nodeMap=new Fi,this._edge=null;var t=arguments[0];this._edge=t};lp.prototype.getSplitCoordinates=function(){var t=new Cl;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},lp.prototype.addCollapsedNodes=function(){var t=new Sl;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},lp.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},lp.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new Lu(e+1))}},lp.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new Su(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new Su(e.coord))},lp.prototype.iterator=function(){return this._nodeMap.values().iterator()},lp.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},lp.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},lp.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new Lu(e[0])),r=i}},lp.prototype.getEdge=function(){return this._edge},lp.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},lp.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new Su(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new Su(e.coord)),new fp(o,this._edge.getData())},lp.prototype.add=function(t,e){var n=new up(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(tl.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},lp.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Ku("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new Ku("bad split edge end point at "+i)},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var cp=function(){};cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp},cp.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new mu("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof Su&&arguments[1]instanceof Su){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new mu("Cannot compute the octant for two identical points "+i);return cp.octant(s,a)}};var pp=function(){};pp.prototype.getCoordinates=function(){},pp.prototype.size=function(){},pp.prototype.getCoordinate=function(t){},pp.prototype.isClosed=function(){},pp.prototype.setData=function(t){},pp.prototype.getData=function(){},pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp};var hp=function(){};hp.prototype.addIntersection=function(t,e){},hp.prototype.interfaces_=function(){return[pp]},hp.prototype.getClass=function(){return hp};var fp=function(){this._nodeList=new lp(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};fp.prototype.getCoordinates=function(){return this._pts},fp.prototype.size=function(){return this._pts.length},fp.prototype.getCoordinate=function(t){return this._pts[t]},fp.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fp.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},fp.prototype.setData=function(t){this._data=t},fp.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:cp.octant(t,e)},fp.prototype.getData=function(){return this._data},fp.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[3],o=new Su(n.getIntersection(i));this.addIntersection(o,r)}},fp.prototype.toString=function(){return Qu.toLineString(new uc(this._pts))},fp.prototype.getNodeList=function(){return this._nodeList},fp.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},fp.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},fp.prototype.interfaces_=function(){return[hp]},fp.prototype.getClass=function(){return fp},fp.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Sl;return fp.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)};var dp=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new Su,this.p1=new Su;else if(1===arguments.length){var t=arguments[0];this.p0=new Su(t.p0),this.p1=new Su(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new Su(e,n),this.p1=new Su(r,i)}},yp={serialVersionUID:{configurable:!0}};dp.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},dp.prototype.orientationIndex=function(){if(arguments[0]instanceof dp){var t=arguments[0],e=sl.orientationIndex(this.p0,this.p1,t.p0),n=sl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof Su){var r=arguments[0];return sl.orientationIndex(this.p0,this.p1,r)}},dp.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},dp.prototype.isVertical=function(){return this.p0.x===this.p1.x},dp.prototype.equals=function(t){if(!(t instanceof dp))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},dp.prototype.intersection=function(t){var e=new rl;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},dp.prototype.project=function(){if(arguments[0]instanceof Su){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Su(t);var e=this.projectionFactor(t),n=new Su;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof dp){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new dp(s,a)}},dp.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},dp.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},dp.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},dp.prototype.distancePerpendicular=function(t){return sl.distancePointLinePerpendicular(t,this.p0,this.p1)},dp.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},dp.prototype.midPoint=function(){return dp.midPoint(this.p0,this.p1)},dp.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?vu.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},dp.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=vu.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},dp.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},dp.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},dp.prototype.getLength=function(){return this.p0.distance(this.p1)},dp.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},dp.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},dp.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},dp.prototype.lineIntersection=function(t){try{return Vu.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof qu))throw t}return null},dp.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},dp.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new Su(n-u,r+a)},dp.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},dp.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||vu.isNaN(e))&&(e=1),e},dp.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},dp.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},dp.prototype.distance=function(){if(arguments[0]instanceof dp){var t=arguments[0];return sl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Su){var e=arguments[0];return sl.distancePointLine(e,this.p0,this.p1)}},dp.prototype.pointAlong=function(t){var e=new Su;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},dp.prototype.hashCode=function(){var t=vu.doubleToLongBits(this.p0.x);t^=31*vu.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=vu.doubleToLongBits(this.p1.x);return n^=31*vu.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},dp.prototype.interfaces_=function(){return[bu,Mi]},dp.prototype.getClass=function(){return dp},dp.midPoint=function(t,e){return new Su((t.x+e.x)/2,(t.y+e.y)/2)},yp.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(dp,yp);var gp=function(){this.tempEnv1=new Zu,this.tempEnv2=new Zu,this._overlapSeg1=new dp,this._overlapSeg2=new dp};gp.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(r,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},gp.prototype.interfaces_=function(){return[]},gp.prototype.getClass=function(){return gp};var mp=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};mp.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},mp.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},mp.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},mp.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},mp.prototype.setId=function(t){this._id=t},mp.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},mp.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Zu(t,e)}return this._env},mp.prototype.getEndIndex=function(){return this._end},mp.prototype.getStartIndex=function(){return this._start},mp.prototype.getContext=function(){return this._context},mp.prototype.getId=function(){return this._id},mp.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),p=Math.trunc((r+i)/2);t<c&&(r<p&&this.computeOverlapsInternal(t,c,n,r,p,o),p<i&&this.computeOverlapsInternal(t,c,n,p,i,o)),c<e&&(r<p&&this.computeOverlapsInternal(c,e,n,r,p,o),p<i&&this.computeOverlapsInternal(c,e,n,p,i,o))},mp.prototype.interfaces_=function(){return[]},mp.prototype.getClass=function(){return mp};var vp=function(){};vp.prototype.interfaces_=function(){return[]},vp.prototype.getClass=function(){return vp},vp.getChainStartIndices=function(t){var e=0,n=new Sl;n.add(new Lu(e));do{var r=vp.findChainEnd(t,e);n.add(new Lu(r)),e=r}while(e<t.length-1);return vp.toIntArray(n)},vp.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=Bc.quadrant(t[n],t[n+1]),i=e+1;i<t.length;){if(!t[i-1].equals2D(t[i])&&Bc.quadrant(t[i-1],t[i])!==r)break;i++}return i-1},vp.getChains=function(){if(1===arguments.length){var t=arguments[0];return vp.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Sl,i=vp.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new mp(e,i[o],i[o+1],n);r.add(s)}return r}},vp.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var _p=function(){};_p.prototype.computeNodes=function(t){},_p.prototype.getNodedSubstrings=function(){},_p.prototype.interfaces_=function(){return[]},_p.prototype.getClass=function(){return _p};var bp=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};bp.prototype.setSegmentIntersector=function(t){this._segInt=t},bp.prototype.interfaces_=function(){return[_p]},bp.prototype.getClass=function(){return bp};var wp=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Sl,this._index=new op,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return fp.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=vp.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new xp(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return xp},Object.defineProperties(e,n),e}(bp),xp=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3],o=e.getContext(),s=r.getContext();this._si.processIntersections(o,n,s,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(gp),Sp=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Ep={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Sp.prototype.getEndCapStyle=function(){return this._endCapStyle},Sp.prototype.isSingleSided=function(){return this._isSingleSided},Sp.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Sp.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Sp.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Sp.JOIN_ROUND&&(this._quadrantSegments=Sp.DEFAULT_QUADRANT_SEGMENTS)},Sp.prototype.getJoinStyle=function(){return this._joinStyle},Sp.prototype.setJoinStyle=function(t){this._joinStyle=t},Sp.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Sp.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Sp.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Sp.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Sp.prototype.getMitreLimit=function(){return this._mitreLimit},Sp.prototype.setMitreLimit=function(t){this._mitreLimit=t},Sp.prototype.setSingleSided=function(t){this._isSingleSided=t},Sp.prototype.interfaces_=function(){return[]},Sp.prototype.getClass=function(){return Sp},Sp.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Ep.CAP_ROUND.get=function(){return 1},Ep.CAP_FLAT.get=function(){return 2},Ep.CAP_SQUARE.get=function(){return 3},Ep.JOIN_ROUND.get=function(){return 1},Ep.JOIN_MITRE.get=function(){return 2},Ep.JOIN_BEVEL.get=function(){return 3},Ep.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Ep.DEFAULT_MITRE_LIMIT.get=function(){return 5},Ep.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Sp,Ep);var Cp=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=sl.COUNTERCLOCKWISE,this._inputLine=t||null},Pp={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Cp.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},Cp.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Cp.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Cp.prototype.isShallowConcavity=function(t,e,n,r){return sl.computeOrientation(t,e,n)===this._angleOrientation&&sl.distancePointLine(e,t,n)<r},Cp.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Cp.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Cp.prototype.isConcave=function(t,e,n){var r=sl.computeOrientation(t,e,n)===this._angleOrientation;return r},Cp.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=sl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Cp.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Cp.DELETE;)e++;return e},Cp.prototype.isShallow=function(t,e,n,r){return sl.distancePointLine(e,t,n)<r},Cp.prototype.collapseLine=function(){for(var t=new Cl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Cp.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Cp.prototype.interfaces_=function(){return[]},Cp.prototype.getClass=function(){return Cp},Cp.simplify=function(t,e){return new Cp(t).simplify(e)},Pp.INIT.get=function(){return 0},Pp.DELETE.get=function(){return 1},Pp.KEEP.get=function(){return 1},Pp.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Cp,Pp);var Ip=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Sl},Op={COORDINATE_ARRAY_TYPE:{configurable:!0}};Ip.prototype.getCoordinates=function(){return this._ptList.toArray(Ip.COORDINATE_ARRAY_TYPE)},Ip.prototype.setPrecisionModel=function(t){this._precisionModel=t},Ip.prototype.addPt=function(t){var e=new Su(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Ip.prototype.revere=function(){},Ip.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Ip.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Ip.prototype.toString=function(){return(new mc).createLineString(this.getCoordinates()).toString()},Ip.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new Su(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Ip.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Ip.prototype.interfaces_=function(){return[]},Ip.prototype.getClass=function(){return Ip},Op.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Ip,Op);var Mp=function(){},Tp={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Mp.prototype.interfaces_=function(){return[]},Mp.prototype.getClass=function(){return Mp},Mp.toDegrees=function(t){return 180*t/Math.PI},Mp.normalize=function(t){for(;t>Math.PI;)t-=Mp.PI_TIMES_2;for(;t<=-Math.PI;)t+=Mp.PI_TIMES_2;return t},Mp.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Mp.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Mp.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Mp.interiorAngle=function(t,e,n){var r=Mp.angle(e,t),i=Mp.angle(e,n);return Math.abs(i-r)},Mp.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Mp.PI_TIMES_2;t>=Mp.PI_TIMES_2&&(t=0)}else{for(;t>=Mp.PI_TIMES_2;)t-=Mp.PI_TIMES_2;t<0&&(t=0)}return t},Mp.angleBetween=function(t,e,n){var r=Mp.angle(e,t),i=Mp.angle(e,n);return Mp.diff(r,i)},Mp.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Mp.toRadians=function(t){return t*Math.PI/180},Mp.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Mp.COUNTERCLOCKWISE:n<0?Mp.CLOCKWISE:Mp.NONE},Mp.angleBetweenOriented=function(t,e,n){var r=Mp.angle(e,t),i=Mp.angle(e,n)-r;return i<=-Math.PI?i+Mp.PI_TIMES_2:i>Math.PI?i-Mp.PI_TIMES_2:i},Tp.PI_TIMES_2.get=function(){return 2*Math.PI},Tp.PI_OVER_2.get=function(){return Math.PI/2},Tp.PI_OVER_4.get=function(){return Math.PI/4},Tp.COUNTERCLOCKWISE.get=function(){return sl.COUNTERCLOCKWISE},Tp.CLOCKWISE.get=function(){return sl.CLOCKWISE},Tp.NONE.get=function(){return sl.COLLINEAR},Object.defineProperties(Mp,Tp);var Np=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new dp,this._seg1=new dp,this._offset0=new dp,this._offset1=new dp,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new rl,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Sp.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},jp={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Np.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=sl.computeOrientation(this._s0,this._s1,this._s2),r=n===sl.CLOCKWISE&&this._side===Cc.LEFT||n===sl.COUNTERCLOCKWISE&&this._side===Cc.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Np.prototype.addLineEndCap=function(t,e){var n=new dp(t,e),r=new dp;this.computeOffsetSegment(n,Cc.LEFT,this._distance,r);var i=new dp;this.computeOffsetSegment(n,Cc.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Sp.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,sl.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Sp.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Sp.CAP_SQUARE:var u=new Su;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new Su(r.p1.x+u.x,r.p1.y+u.y),c=new Su(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Np.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Np.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=Vu.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof qu))throw t;o=new Su(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Np.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===sl.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,r,i),this._segList.addPt(n)},Np.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Np.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Sp.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Sp.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Np.prototype.createSquare=function(t){this._segList.addPt(new Su(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Su(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Su(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Su(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Np.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Np.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Np.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Np.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Np.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Mp.angle(i,this._seg0.p0),s=Mp.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Mp.normalize(o+s),u=Mp.normalize(a+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(s)),p=i.x+l*Math.cos(u),h=i.y+l*Math.sin(u),f=new Su(p,h),d=new dp(i,f),y=d.pointAlongOffset(1,c),g=d.pointAlongOffset(1,-c);this._side===Cc.LEFT?(this._segList.addPt(y),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(y))},Np.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Cc.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},Np.prototype.addFilletArc=function(t,e,n,r,i){var o=r===sl.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new Su;l<s;){var p=e+o*l;c.x=t.x+i*Math.cos(p),c.y=t.y+i*Math.sin(p),this._segList.addPt(c),l+=u}},Np.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Np.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new Su((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new Su((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Np.prototype.createCircle=function(t){var e=new Su(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Np.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Np.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Ip,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Np.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Np.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Sp.JOIN_BEVEL||this._bufParams.getJoinStyle()===Sp.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,sl.CLOCKWISE,this._distance))},Np.prototype.closeRing=function(){this._segList.closeRing()},Np.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Np.prototype.interfaces_=function(){return[]},Np.prototype.getClass=function(){return Np},jp.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},jp.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},jp.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},jp.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Np,jp);var Lp=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Lp.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Pl.reverse(o),o},Lp.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Cp.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Cc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Cp.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Cc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},Lp.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Cc.RIGHT&&(r=-r);var i=Cp.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},Lp.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Cp.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Cc.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Cp.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Cc.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Lp.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Sp.CAP_ROUND:e.createCircle(t);break;case Sp.CAP_SQUARE:e.createSquare(t)}},Lp.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Lp.prototype.getBufferParameters=function(){return this._bufParams},Lp.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Lp.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Lp.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Lp.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Cp.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Cc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Cp.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Cc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},Lp.prototype.getSegGen=function(t){return new Np(this._precisionModel,this._bufParams,t)},Lp.prototype.interfaces_=function(){return[]},Lp.prototype.getClass=function(){return Lp},Lp.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new Su(t[n]);return e};var Ap=function(){this._subgraphs=null,this._seg=new dp,this._cga=new sl;var t=arguments[0];this._subgraphs=t},kp={DepthSegment:{configurable:!0}};Ap.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Sl,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Mu(arguments[2],xl)&&arguments[0]instanceof Su&&arguments[1]instanceof qc){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||sl.computeOrientation(this._seg.p0,this._seg.p1,o)===sl.RIGHT)){var c=s.getDepth(Cc.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(Cc.RIGHT));var p=new Rp(this._seg,c);a.add(p)}}else if(Mu(arguments[2],xl)&&arguments[0]instanceof Su&&Mu(arguments[1],xl))for(var h=arguments[0],f=arguments[1],d=arguments[2],y=f.iterator();y.hasNext();){var g=y.next();g.isForward()&&this.findStabbedSegments(h,g,d)}},Ap.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$c.min(e)._leftDepth},Ap.prototype.interfaces_=function(){return[]},Ap.prototype.getClass=function(){return Ap},kp.DepthSegment.get=function(){return Rp},Object.defineProperties(Ap,kp);var Rp=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new dp(t),this._leftDepth=e};Rp.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Rp.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Rp.prototype.toString=function(){return this._upwardSeg.toString()},Rp.prototype.interfaces_=function(){return[bu]},Rp.prototype.getClass=function(){return Rp};var Dp=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Dp.prototype.area=function(){return Dp.area(this.p0,this.p1,this.p2)},Dp.prototype.signedArea=function(){return Dp.signedArea(this.p0,this.p1,this.p2)},Dp.prototype.interpolateZ=function(t){if(null===t)throw new mu("Supplied point is null.");return Dp.interpolateZ(t,this.p0,this.p1,this.p2)},Dp.prototype.longestSideLength=function(){return Dp.longestSideLength(this.p0,this.p1,this.p2)},Dp.prototype.isAcute=function(){return Dp.isAcute(this.p0,this.p1,this.p2)},Dp.prototype.circumcentre=function(){return Dp.circumcentre(this.p0,this.p1,this.p2)},Dp.prototype.area3D=function(){return Dp.area3D(this.p0,this.p1,this.p2)},Dp.prototype.centroid=function(){return Dp.centroid(this.p0,this.p1,this.p2)},Dp.prototype.inCentre=function(){return Dp.inCentre(this.p0,this.p1,this.p2)},Dp.prototype.interfaces_=function(){return[]},Dp.prototype.getClass=function(){return Dp},Dp.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Dp.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Dp.det=function(t,e,n,r){return t*r-e*n},Dp.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,c=s*l-a*u,p=t.x-i,h=t.y-o,f=(l*p-a*h)/c,d=(-u*p+s*h)/c;return e.z+f*(n.z-e.z)+d*(r.z-e.z)},Dp.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},Dp.isAcute=function(t,e,n){return!!Mp.isAcute(t,e,n)&&!!Mp.isAcute(e,n,t)&&!!Mp.isAcute(n,t,e)},Dp.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,l=2*Dp.det(o,s,a,u),c=Dp.det(s,o*o+s*s,u,a*a+u*u),p=Dp.det(o,o*o+s*s,a,a*a+u*u);return new Su(r-c/l,i+p/l)},Dp.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new Vu(t.x+n/2,t.y+r/2,1),o=new Vu(t.x-r+n/2,t.y+n+r/2,1);return new Vu(i,o)},Dp.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new Su(t.x+i*o,t.y+i*s)},Dp.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=i*u-o*a,c=o*s-r*u,p=r*a-i*s,h=l*l+c*c+p*p,f=Math.sqrt(h)/2;return f},Dp.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new Su(r,i)},Dp.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new Su(a,u)};var Fp=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Sl;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};Fp.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Iu.EXTERIOR,Iu.INTERIOR)},Fp.prototype.addPolygon=function(t){var e=this._distance,n=Cc.LEFT;this._distance<0&&(e=-this._distance,n=Cc.RIGHT);var r=t.getExteriorRing(),i=Pl.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,Iu.EXTERIOR,Iu.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Pl.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Cc.opposite(n),Iu.INTERIOR,Iu.EXTERIOR)}},Fp.prototype.isTriangleErodedCompletely=function(t,e){var n=new Dp(t[0],t[1],t[2]),r=n.inCentre();return sl.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},Fp.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Pl.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,Iu.EXTERIOR,Iu.INTERIOR)},Fp.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new fp(t,new jc(0,Iu.BOUNDARY,e,n));this._curveList.add(r)},Fp.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Fp.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<ec.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=ec.MINIMUM_VALID_SIZE&&sl.isCCW(t)&&(o=i,s=r,n=Cc.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},Fp.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $l?this.addPolygon(t):t instanceof Hl?this.addLineString(t):t instanceof Ql?this.addPoint(t):(t instanceof tc||t instanceof zl||t instanceof nc||t instanceof ql)&&this.addCollection(t)},Fp.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},Fp.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},Fp.prototype.interfaces_=function(){return[]},Fp.prototype.getClass=function(){return Fp};var Bp=function(){};Bp.prototype.locate=function(t){},Bp.prototype.interfaces_=function(){return[]},Bp.prototype.getClass=function(){return Bp};var Gp=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Gp.prototype.next=function(){if(this._atStart)return this._atStart=!1,Gp.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Ti;var t=this._parent.getGeometryN(this._index++);return t instanceof ql?(this._subcollectionIterator=new Gp(t),this._subcollectionIterator.next()):t},Gp.prototype.remove=function(){throw new Error(this.getClass().getName())},Gp.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Gp.prototype.interfaces_=function(){return[wl]},Gp.prototype.getClass=function(){return Gp},Gp.isAtomic=function(t){return!(t instanceof ql)};var Up=function(){this._geom=null;var t=arguments[0];this._geom=t};Up.prototype.locate=function(t){return Up.locate(t,this._geom)},Up.prototype.interfaces_=function(){return[Bp]},Up.prototype.getClass=function(){return Up},Up.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&sl.isPointInRing(t,e.getCoordinates())},Up.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Up.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(Up.isPointInRing(t,i))return!1}return!0},Up.containsPoint=function(t,e){if(e instanceof $l)return Up.containsPointInPolygon(t,e);if(e instanceof ql)for(var n=new Gp(e);n.hasNext();){var r=n.next();if(r!==e&&Up.containsPoint(t,r))return!0}return!1},Up.locate=function(t,e){return e.isEmpty()?Iu.EXTERIOR:Up.containsPoint(t,e)?Iu.INTERIOR:Iu.EXTERIOR};var qp=function(){this._edgeMap=new Fi,this._edgeList=null,this._ptInAreaLocation=[Iu.NONE,Iu.NONE]};qp.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},qp.prototype.propagateSideLabels=function(t){for(var e=Iu.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Cc.LEFT)!==Iu.NONE&&(e=r.getLocation(t,Cc.LEFT))}if(e===Iu.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Cc.ON)===Iu.NONE&&a.setLocation(t,Cc.ON,i),a.isArea(t)){var u=a.getLocation(t,Cc.LEFT),l=a.getLocation(t,Cc.RIGHT);if(l!==Iu.NONE){if(l!==i)throw new Oc("side location conflict",s.getCoordinate());u===Iu.NONE&&tl.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else tl.isTrue(a.getLocation(t,Cc.LEFT)===Iu.NONE,"found single null side"),a.setLocation(t,Cc.RIGHT,i),a.setLocation(t,Cc.LEFT,i)}}},qp.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},qp.prototype.print=function(t){zu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},qp.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},qp.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Cc.LEFT);tl.isTrue(r!==Iu.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();tl.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Cc.LEFT),u=s.getLocation(t,Cc.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},qp.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},qp.prototype.iterator=function(){return this.getEdges().iterator()},qp.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Sl(this._edgeMap.values())),this._edgeList},qp.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===Iu.NONE&&(this._ptInAreaLocation[t]=Up.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},qp.prototype.toString=function(){var t=new ju;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},qp.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},qp.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===Iu.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=Iu.NONE;if(e[u])l=Iu.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},qp.prototype.getDegree=function(){return this._edgeMap.size()},qp.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},qp.prototype.interfaces_=function(){return[]},qp.prototype.getClass=function(){return qp};var zp=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Oc("no outgoing dirEdge found",this.getCoordinate());tl.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return Bc.isNorthern(i)&&Bc.isNorthern(o)?n:Bc.isNorthern(i)||Bc.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(tl.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){zu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Sl;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Cc.LEFT),r=t.getDepth(Cc.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Oc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=o;u<s;u++){var l=this._edgeList.get(u);l.setEdgeDepths(Cc.RIGHT,a),a=l.getDepth(Cc.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(tl.isTrue(null!==e,"found null for first outgoing dirEdge"),tl.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=Iu.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=Iu.INTERIOR;break}if(r.isInResult()){t=Iu.EXTERIOR;break}}}if(t===Iu.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===Iu.INTERIOR):(s.isInResult()&&(i=Iu.EXTERIOR),a.isInResult()&&(i=Iu.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new jc(Iu.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==Iu.INTERIOR&&o!==Iu.BOUNDARY||this._label.setLocation(i,Iu.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(qp),Vp=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Dc(t,new zp)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(zc),Zp=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Zp.prototype.compareTo=function(t){var e=t;return Zp.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Zp.prototype.interfaces_=function(){return[bu]},Zp.prototype.getClass=function(){return Zp},Zp.orientation=function(t){return 1===Pl.increasingDirection(t)},Zp.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var p=(u+=i)===s,h=(l+=o)===a;if(p&&!h)return-1;if(!p&&h)return 1;if(p&&h)return 0}};var Xp=function(){this._edges=new Sl,this._ocaMap=new Fi};Xp.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Xp.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Xp.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Xp.prototype.iterator=function(){return this._edges.iterator()},Xp.prototype.getEdges=function(){return this._edges},Xp.prototype.get=function(t){return this._edges.get(t)},Xp.prototype.findEqualEdge=function(t){var e=new Zp(t.getCoordinates());return this._ocaMap.get(e)},Xp.prototype.add=function(t){this._edges.add(t);var e=new Zp(t.getCoordinates());this._ocaMap.put(e,t)},Xp.prototype.interfaces_=function(){return[]},Xp.prototype.getClass=function(){return Xp};var Yp=function(){};Yp.prototype.processIntersections=function(t,e,n,r){},Yp.prototype.isDone=function(){},Yp.prototype.interfaces_=function(){return[]},Yp.prototype.getClass=function(){return Yp};var Wp=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Wp.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Wp.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Wp.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Wp.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Wp.prototype.getLineIntersector=function(){return this._li},Wp.prototype.hasProperIntersection=function(){return this._hasProper},Wp.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Wp.prototype.hasIntersection=function(){return this._hasIntersection},Wp.prototype.isDone=function(){return!1},Wp.prototype.hasInteriorIntersection=function(){return this._hasInterior},Wp.prototype.interfaces_=function(){return[Yp]},Wp.prototype.getClass=function(){return Wp},Wp.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Hp=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new Su(t),this.segmentIndex=e,this.dist=n};Hp.prototype.getSegmentIndex=function(){return this.segmentIndex},Hp.prototype.getCoordinate=function(){return this.coord},Hp.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Hp.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Hp.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Hp.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Hp.prototype.getDistance=function(){return this.dist},Hp.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Hp.prototype.interfaces_=function(){return[bu]},Hp.prototype.getClass=function(){return Hp};var Jp=function(){this._nodeMap=new Fi,this.edge=null;var t=arguments[0];this.edge=t};Jp.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Jp.prototype.iterator=function(){return this._nodeMap.values().iterator()},Jp.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Jp.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Jp.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new Su(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new eh(o,new jc(this.edge._label))},Jp.prototype.add=function(t,e,n){var r=new Hp(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Jp.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Jp.prototype.interfaces_=function(){return[]},Jp.prototype.getClass=function(){return Jp};var Qp=function(){};Qp.prototype.getChainStartIndices=function(t){var e=0,n=new Sl;n.add(new Lu(e));do{var r=this.findChainEnd(t,e);n.add(new Lu(r)),e=r}while(e<t.length-1);return Qp.toIntArray(n)},Qp.prototype.findChainEnd=function(t,e){for(var n=Bc.quadrant(t[e],t[e+1]),r=e+1;r<t.length;){if(Bc.quadrant(t[r-1],t[r])!==n)break;r++}return r-1},Qp.prototype.interfaces_=function(){return[]},Qp.prototype.getClass=function(){return Qp},Qp.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Kp=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Zu,this.env2=new Zu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Qp;this.startIndex=e.getChainStartIndices(this.pts)};Kp.prototype.getCoordinates=function(){return this.pts},Kp.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Kp.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Kp.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],p=this.pts[o],h=s.pts[a],f=s.pts[u];if(o-i==1&&u-a==1)return l.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(c,p),this.env2.init(h,f),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),y=Math.trunc((a+u)/2);i<d&&(a<y&&this.computeIntersectsForChain(i,d,s,a,y,l),y<u&&this.computeIntersectsForChain(i,d,s,y,u,l)),d<o&&(a<y&&this.computeIntersectsForChain(d,o,s,a,y,l),y<u&&this.computeIntersectsForChain(d,o,s,y,u,l))}},Kp.prototype.getStartIndexes=function(){return this.startIndex},Kp.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},Kp.prototype.interfaces_=function(){return[]},Kp.prototype.getClass=function(){return Kp};var $p=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},th={NULL_VALUE:{configurable:!0}};$p.prototype.getDepth=function(t,e){return this._depth[t][e]},$p.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},$p.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==$p.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===$p.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===$p.NULL_VALUE}},$p.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},$p.prototype.getDelta=function(t){return this._depth[t][Cc.RIGHT]-this._depth[t][Cc.LEFT]},$p.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?Iu.EXTERIOR:Iu.INTERIOR},$p.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},$p.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==Iu.EXTERIOR&&r!==Iu.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=$p.depthAtLocation(r):this._depth[e][n]+=$p.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===Iu.INTERIOR&&this._depth[i][o]++}},$p.prototype.interfaces_=function(){return[]},$p.prototype.getClass=function(){return $p},$p.depthAtLocation=function(t){return t===Iu.EXTERIOR?0:t===Iu.INTERIOR?1:$p.NULL_VALUE},th.NULL_VALUE.get=function(){return-1},Object.defineProperties($p,th);var eh=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Jp(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new $p,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,jc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Kp(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Zu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new Su(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new ju;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Cc.ON),e.getLocation(1,Cc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Cc.LEFT),e.getLocation(1,Cc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Cc.RIGHT),e.getLocation(1,Cc.RIGHT),2))},e}(Rc),nh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Xp,this._bufParams=t||null};nh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},nh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new jc(t.getLabel())).flip(),n.merge(r);var i=nh.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(nh.depthDelta(t.getLabel()))},nh.prototype.buildSubgraphs=function(t,e){for(var n=new Sl,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Ap(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},nh.prototype.createSubgraphs=function(t){for(var e=new Sl,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Tc;i.create(r),e.add(i)}}return $c.sort(e,$c.reverseOrder()),e},nh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},nh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new wp,n=new rl;return n.setPrecisionModel(t),e.setSegmentIntersector(new Wp(n)),e},nh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Lp(n,this._bufParams),i=new Fp(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Vc(new Vp),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Zc(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},nh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new eh(i.getCoordinates(),new jc(s));this.insertUniqueEdge(a)}}},nh.prototype.setNoder=function(t){this._workingNoder=t},nh.prototype.interfaces_=function(){return[]},nh.prototype.getClass=function(){return nh},nh.depthDelta=function(t){var e=t.getLocation(0,Cc.LEFT),n=t.getLocation(0,Cc.RIGHT);return e===Iu.INTERIOR&&n===Iu.EXTERIOR?1:e===Iu.EXTERIOR&&n===Iu.INTERIOR?-1:0},nh.convertSegStrings=function(t){for(var e=new mc,n=new Sl;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var rh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};rh.prototype.rescale=function(){if(Mu(arguments[0],_l))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&zu.out.println(n)}},rh.prototype.scale=function(){if(Mu(arguments[0],_l)){for(var t=arguments[0],e=new Sl,n=t.iterator();n.hasNext();){var r=n.next();e.add(new fp(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new Su(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return Pl.removeRepeatedPoints(o)}},rh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},rh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},rh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},rh.prototype.interfaces_=function(){return[_p]},rh.prototype.getClass=function(){return rh};var ih=function(){this._li=new rl,this._segStrings=null;var t=arguments[0];this._segStrings=t},oh={fact:{configurable:!0}};ih.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Ku("found endpt/interior pt intersection at index "+o+" :pt "+n)},ih.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],p=arguments[1],h=arguments[2],f=arguments[3];if(c===h&&p===f)return null;var d=c.getCoordinates()[p],y=c.getCoordinates()[p+1],g=h.getCoordinates()[f],m=h.getCoordinates()[f+1];if(this._li.computeIntersection(d,y,g,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,y)||this.hasInteriorIntersection(this._li,g,m)))throw new Ku("found non-noded intersection at "+d+"-"+y+" and "+g+"-"+m)}},ih.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},ih.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},ih.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},ih.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Ku("found non-noded collapse at "+ih.fact.createLineString([t,e,n]))},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},oh.fact.get=function(){return new mc},Object.defineProperties(ih,oh);var sh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new mu("Scale factor must be non-zero");1!==e&&(this._pt=new Su(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Su,this._p1Scaled=new Su),this.initCorners(this._pt)},ah={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return tl.isTrue(!(s&&a),"Found bad envelope test"),a},sh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new Su(this._maxx,this._maxy),this._corner[1]=new Su(this._minx,this._maxy),this._corner[2]=new Su(this._minx,this._miny),this._corner[3]=new Su(this._maxx,this._miny)},sh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},sh.prototype.getCoordinate=function(){return this._originalPt},sh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},sh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=sh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Zu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},sh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},sh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!t.equals(this._pt)||!!e.equals(this._pt))))},sh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},ah.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sh,ah);var uh=function(){this.tempEnv1=new Zu,this.selectedSegment=new dp};uh.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh};var lh=function(){this._index=null;var t=arguments[0];this._index=t},ch={HotPixelSnapAction:{configurable:!0}};lh.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new ph(e,n,r);return this._index.query(i,{interfaces_:function(){return[Hc]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh},ch.HotPixelSnapAction.get=function(){return ph},Object.defineProperties(lh,ch);var ph=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],r=e.getContext();if(null!==this._parentEdge&&r===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(r,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(uh),hh=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Sl};hh.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},hh.prototype.isDone=function(){return!1},hh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},hh.prototype.interfaces_=function(){return[Yp]},hh.prototype.getClass=function(){return hh};var fh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new rl,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};fh.prototype.checkCorrectness=function(t){var e=fp.getNodedSubstrings(t),n=new ih(e);try{n.checkValid()}catch(t){if(!(t instanceof Uu))throw t;t.printStackTrace()}},fh.prototype.getNodedSubstrings=function(){return fp.getNodedSubstrings(this._nodedSegStrings)},fh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},fh.prototype.findInteriorIntersections=function(t,e){var n=new hh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},fh.prototype.computeVertexSnaps=function(){if(Mu(arguments[0],_l))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof fp)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new sh(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},fh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wp,this._pointSnapper=new lh(this._noder.getIndex()),this.snapRound(t,this._li)},fh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new sh(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},fh.prototype.interfaces_=function(){return[_p]},fh.prototype.getClass=function(){return fh};var dh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Sp,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},yh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};dh.prototype.bufferFixedPrecision=function(t){var e=new rh(new fh(new fc(1)),t.getScale()),n=new nh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},dh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=dh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Oc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=dh.precisionScaleFactor(this._argGeom,this._distance,n),i=new fc(r);this.bufferFixedPrecision(i)}},dh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===fc.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},dh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},dh.prototype.bufferOriginalPrecision=function(){try{var t=new nh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Ku))throw t;this._saveException=t}},dh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},dh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},dh.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new dh(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ll&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1],i=arguments[2],o=new dh(n);return o.setQuadrantSegments(i),o.getResultGeometry(r)}if(arguments[2]instanceof Sp&&arguments[0]instanceof ll&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=arguments[2];return new dh(s,u).getResultGeometry(a)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],p=arguments[2],h=arguments[3],f=new dh(l);return f.setQuadrantSegments(p),f.setEndCapStyle(h),f.getResultGeometry(c)}},dh.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=Tu.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},yh.CAP_ROUND.get=function(){return Sp.CAP_ROUND},yh.CAP_BUTT.get=function(){return Sp.CAP_FLAT},yh.CAP_FLAT.get=function(){return Sp.CAP_FLAT},yh.CAP_SQUARE.get=function(){return Sp.CAP_SQUARE},yh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(dh,yh);var gh=function(){this._pt=[new Su,new Su],this._distance=vu.NaN,this._isNull=!0};gh.prototype.getCoordinates=function(){return this._pt},gh.prototype.getCoordinate=function(t){return this._pt[t]},gh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},gh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},gh.prototype.getDistance=function(){return this._distance},gh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh};var mh=function(){};mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh},mh.computeDistance=function(){if(arguments[2]instanceof gh&&arguments[0]instanceof Hl&&arguments[1]instanceof Su)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=t.getCoordinates(),i=new dp,o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof gh&&arguments[0]instanceof $l&&arguments[1]instanceof Su){var a=arguments[0],u=arguments[1],l=arguments[2];mh.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)mh.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof gh&&arguments[0]instanceof ll&&arguments[1]instanceof Su){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Hl)mh.computeDistance(p,h,f);else if(p instanceof $l)mh.computeDistance(p,h,f);else if(p instanceof ql)for(var d=p,y=0;y<d.getNumGeometries();y++){var g=d.getGeometryN(y);mh.computeDistance(g,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof gh&&arguments[0]instanceof dp&&arguments[1]instanceof Su){var m=arguments[0],v=arguments[1],_=arguments[2],b=m.closestPoint(v);_.setMinimum(b,v)}};var vh=function(t){this._maxPtDist=new gh,this._inputGeom=t||null},_h={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};vh.prototype.computeMaxMidpointDistance=function(t){var e=new wh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vh.prototype.computeMaxVertexDistance=function(t){var e=new bh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},vh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},vh.prototype.getDistancePoints=function(){return this._maxPtDist},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh},_h.MaxPointDistanceFilter.get=function(){return bh},_h.MaxMidpointDistanceFilter.get=function(){return wh},Object.defineProperties(vh,_h);var bh=function(t){this._maxPtDist=new gh,this._minPtDist=new gh,this._geom=t||null};bh.prototype.filter=function(t){this._minPtDist.initialize(),mh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},bh.prototype.getMaxPointDistance=function(){return this._maxPtDist},bh.prototype.interfaces_=function(){return[hl]},bh.prototype.getClass=function(){return bh};var wh=function(t){this._maxPtDist=new gh,this._minPtDist=new gh,this._geom=t||null};wh.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new Su((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),mh.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wh.prototype.isDone=function(){return!1},wh.prototype.isGeometryChanged=function(){return!1},wh.prototype.getMaxPointDistance=function(){return this._maxPtDist},wh.prototype.interfaces_=function(){return[Ul]},wh.prototype.getClass=function(){return wh};var xh=function(t){this._comps=t||null};xh.prototype.filter=function(t){t instanceof $l&&this._comps.add(t)},xh.prototype.interfaces_=function(){return[Gl]},xh.prototype.getClass=function(){return xh},xh.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return xh.getPolygons(t,new Sl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $l?n.add(e):e instanceof ql&&e.apply(new xh(n)),n}};var Sh=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Sh.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ec){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Hl&&this._lines.add(t)},Sh.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Sh.prototype.interfaces_=function(){return[ul]},Sh.prototype.getClass=function(){return Sh},Sh.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Sh.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Sh.getLines(e,n))}},Sh.getLines=function(){if(1===arguments.length){var t=arguments[0];return Sh.getLines(t,!1)}if(2===arguments.length){if(Mu(arguments[0],_l)&&Mu(arguments[1],_l)){for(var e=arguments[0],n=arguments[1],r=e.iterator();r.hasNext();){var i=r.next();Sh.getLines(i,n)}return n}if(arguments[0]instanceof ll&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new Sl;return o.apply(new Sh(a,s)),a}if(arguments[0]instanceof ll&&Mu(arguments[1],_l)){var u=arguments[0],l=arguments[1];return u instanceof Hl?l.add(u):u.apply(new Sh(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Mu(arguments[0],_l)&&Mu(arguments[1],_l)){for(var c=arguments[0],p=arguments[1],h=arguments[2],f=c.iterator();f.hasNext();){var d=f.next();Sh.getLines(d,p,h)}return p}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ll&&Mu(arguments[1],_l)){var y=arguments[0],g=arguments[1],m=arguments[2];return y.apply(new Sh(g,m)),g}}};var Eh=function(){if(this._boundaryRule=fl.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new mu("Rule must be non-null");this._boundaryRule=t}};Eh.prototype.locateInternal=function(){if(arguments[0]instanceof Su&&arguments[1]instanceof $l){var t=arguments[0],e=arguments[1];if(e.isEmpty())return Iu.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===Iu.EXTERIOR)return Iu.EXTERIOR;if(r===Iu.BOUNDARY)return Iu.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===Iu.INTERIOR)return Iu.EXTERIOR;if(s===Iu.BOUNDARY)return Iu.BOUNDARY}return Iu.INTERIOR}if(arguments[0]instanceof Su&&arguments[1]instanceof Hl){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return Iu.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?sl.isOnLine(a,l)?Iu.INTERIOR:Iu.EXTERIOR:Iu.BOUNDARY}if(arguments[0]instanceof Su&&arguments[1]instanceof Ql){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?Iu.INTERIOR:Iu.EXTERIOR}},Eh.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?sl.locatePointInRing(t,e.getCoordinates()):Iu.EXTERIOR},Eh.prototype.intersects=function(t,e){return this.locate(t,e)!==Iu.EXTERIOR},Eh.prototype.updateLocationInfo=function(t){t===Iu.INTERIOR&&(this._isIn=!0),t===Iu.BOUNDARY&&this._numBoundaries++},Eh.prototype.computeLocation=function(t,e){if(e instanceof Ql&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Hl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $l)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof zl)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof nc)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof ql)for(var u=new Gp(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},Eh.prototype.locate=function(t,e){return e.isEmpty()?Iu.EXTERIOR:e instanceof Hl||e instanceof $l?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?Iu.BOUNDARY:this._numBoundaries>0||this._isIn?Iu.INTERIOR:Iu.EXTERIOR)},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var Ch=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._component=r,this._segIndex=i,this._pt=o}},Ph={INSIDE_AREA:{configurable:!0}};Ch.prototype.isInsideArea=function(){return this._segIndex===Ch.INSIDE_AREA},Ch.prototype.getCoordinate=function(){return this._pt},Ch.prototype.getGeometryComponent=function(){return this._component},Ch.prototype.getSegmentIndex=function(){return this._segIndex},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch},Ph.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Ch,Ph);var Ih=function(t){this._pts=t||null};Ih.prototype.filter=function(t){t instanceof Ql&&this._pts.add(t)},Ih.prototype.interfaces_=function(){return[Gl]},Ih.prototype.getClass=function(){return Ih},Ih.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Ql?$c.singletonList(t):Ih.getPoints(t,new Sl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Ql?n.add(e):e instanceof ql&&e.apply(new Ih(n)),n}};var Oh=function(){this._locations=null;var t=arguments[0];this._locations=t};Oh.prototype.filter=function(t){(t instanceof Ql||t instanceof Hl||t instanceof $l)&&this._locations.add(new Ch(t,0,t.getCoordinate()))},Oh.prototype.interfaces_=function(){return[Gl]},Oh.prototype.getClass=function(){return Oh},Oh.getLocations=function(t){var e=new Sl;return t.apply(new Oh(e)),e};var Mh=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Eh,this._minDistanceLocation=null,this._minDistance=vu.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Mh.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=xh.getPolygons(this._geom[e]);if(i.size()>0){var o=Oh.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Mu(arguments[0],xl)&&Mu(arguments[1],xl)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),p=0;p<a.size();p++)if(this.computeContainmentDistance(c,a.get(p),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Ch&&arguments[1]instanceof $l){var h=arguments[0],f=arguments[1],d=arguments[2],y=h.getCoordinate();if(Iu.EXTERIOR!==this._ptLocator.locate(y,f))return this._minDistance=0,d[0]=h,d[1]=new Ch(f,y),null}},Mh.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Mh.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Sh.getLines(this._geom[0]),n=Sh.getLines(this._geom[1]),r=Ih.getPoints(this._geom[0]),i=Ih.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Mh.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Mh.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Mh.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Mh.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Hl&&arguments[1]instanceof Ql){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=sl.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new dp(r[o],r[o+1]).closestPoint(i);n[0]=new Ch(t,o,a),n[1]=new Ch(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Hl&&arguments[1]instanceof Hl){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var p=u.getCoordinates(),h=l.getCoordinates(),f=0;f<p.length-1;f++)for(var d=0;d<h.length-1;d++){var y=sl.distanceLineLine(p[f],p[f+1],h[d],h[d+1]);if(y<this._minDistance){this._minDistance=y;var g=new dp(p[f],p[f+1]),m=new dp(h[d],h[d+1]),v=g.closestPoints(m);c[0]=new Ch(u,f,v[0]),c[1]=new Ch(l,d,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Mh.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Ch(i,0,i.getCoordinate()),n[1]=new Ch(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Mh.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new mu("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Mh.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh},Mh.distance=function(t,e){return new Mh(t,e).distance()},Mh.isWithinDistance=function(t,e,n){return new Mh(t,e,n).distance()<=n},Mh.nearestPoints=function(t,e){return new Mh(t,e).nearestPoints()};var Th=function(){this._pt=[new Su,new Su],this._distance=vu.NaN,this._isNull=!0};Th.prototype.getCoordinates=function(){return this._pt},Th.prototype.getCoordinate=function(t){return this._pt[t]},Th.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Th.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Th.prototype.toString=function(){return Qu.toLineString(this._pt[0],this._pt[1])},Th.prototype.getDistance=function(){return this._distance},Th.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Nh=function(){};Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Nh.computeDistance=function(){if(arguments[2]instanceof Th&&arguments[0]instanceof Hl&&arguments[1]instanceof Su)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new dp,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Th&&arguments[0]instanceof $l&&arguments[1]instanceof Su){var a=arguments[0],u=arguments[1],l=arguments[2];Nh.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Nh.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Th&&arguments[0]instanceof ll&&arguments[1]instanceof Su){var p=arguments[0],h=arguments[1],f=arguments[2];if(p instanceof Hl)Nh.computeDistance(p,h,f);else if(p instanceof $l)Nh.computeDistance(p,h,f);else if(p instanceof ql)for(var d=p,y=0;y<d.getNumGeometries();y++){var g=d.getGeometryN(y);Nh.computeDistance(g,h,f)}else f.setMinimum(p.getCoordinate(),h)}else if(arguments[2]instanceof Th&&arguments[0]instanceof dp&&arguments[1]instanceof Su){var m=arguments[0],v=arguments[1],_=arguments[2],b=m.closestPoint(v);_.setMinimum(b,v)}};var jh=function(){this._g0=null,this._g1=null,this._ptDist=new Th,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Lh={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};jh.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},jh.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new mu("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},jh.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},jh.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},jh.prototype.computeOrientedDistance=function(t,e,n){var r=new Ah(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new kh(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},jh.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh},jh.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new jh(t,e).distance()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new jh(n,r);return o.setDensifyFraction(i),o.distance()}},Lh.MaxPointDistanceFilter.get=function(){return Ah},Lh.MaxDensifiedByFractionDistanceFilter.get=function(){return kh},Object.defineProperties(jh,Lh);var Ah=function(){this._maxPtDist=new Th,this._minPtDist=new Th,this._euclideanDist=new Nh,this._geom=null;var t=arguments[0];this._geom=t};Ah.prototype.filter=function(t){this._minPtDist.initialize(),Nh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Ah.prototype.getMaxPointDistance=function(){return this._maxPtDist},Ah.prototype.interfaces_=function(){return[hl]},Ah.prototype.getClass=function(){return Ah};var kh=function(){this._maxPtDist=new Th,this._minPtDist=new Th,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};kh.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*i,u=n.y+s*o,l=new Su(a,u);this._minPtDist.initialize(),Nh.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},kh.prototype.isDone=function(){return!1},kh.prototype.isGeometryChanged=function(){return!1},kh.prototype.getMaxPointDistance=function(){return this._maxPtDist},kh.prototype.interfaces_=function(){return[Ul]},kh.prototype.getClass=function(){return kh};var Rh=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Dh={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Rh.prototype.checkMaximumDistance=function(t,e,n){var r=new jh(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Qu.toLineString(i[0],i[1])+")"}},Rh.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Rh.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Rh.VERBOSE&&zu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Rh.prototype.checkNegativeValid=function(){if(!(this._input instanceof $l||this._input instanceof nc||this._input instanceof ql))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Rh.prototype.getErrorIndicator=function(){return this._errorIndicator},Rh.prototype.checkMinimumDistance=function(t,e,n){var r=new Mh(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Qu.toLineString(i[0],i[1])+" )"}},Rh.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Rh.prototype.getErrorLocation=function(){return this._errorLocation},Rh.prototype.getPolygonLines=function(t){for(var e=new Sl,n=new Sh(e),r=xh.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Rh.prototype.getErrorMessage=function(){return this._errMsg},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Dh.VERBOSE.get=function(){return!1},Dh.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Rh,Dh);var Fh=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},Bh={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Fh.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Fh.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*Fh.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Zu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Zu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Fh.prototype.checkDistance=function(){var t=new Rh(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},Fh.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Fh.prototype.checkPolygonal=function(){this._result instanceof $l||this._result instanceof nc||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Fh.prototype.getErrorIndicator=function(){return this._errorIndicator},Fh.prototype.getErrorLocation=function(){return this._errorLocation},Fh.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Fh.prototype.report=function(t){if(!Fh.VERBOSE)return null;zu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},Fh.prototype.getErrorMessage=function(){return this._errorMsg},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.isValidMsg=function(t,e,n){var r=new Fh(t,e,n);return r.isValid()?null:r.getErrorMessage()},Fh.isValid=function(t,e,n){return!!new Fh(t,e,n).isValid()},Bh.VERBOSE.get=function(){return!1},Bh.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fh,Bh);var Gh=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Gh.prototype.getCoordinates=function(){return this._pts},Gh.prototype.size=function(){return this._pts.length},Gh.prototype.getCoordinate=function(t){return this._pts[t]},Gh.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Gh.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:cp.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Gh.prototype.setData=function(t){this._data=t},Gh.prototype.getData=function(){return this._data},Gh.prototype.toString=function(){return Qu.toLineString(new uc(this._pts))},Gh.prototype.interfaces_=function(){return[pp]},Gh.prototype.getClass=function(){return Gh};var Uh=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Sl,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};Uh.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Uh.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},Uh.prototype.getIntersectionSegments=function(){return this._intSegments},Uh.prototype.count=function(){return this._intersectionCount},Uh.prototype.getIntersections=function(){return this._intersections},Uh.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Uh.prototype.setKeepIntersections=function(t){this._keepIntersections=t},Uh.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Uh.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},Uh.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Uh.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Uh.prototype.interfaces_=function(){return[Yp]},Uh.prototype.getClass=function(){return Uh},Uh.createAllIntersectionsFinder=function(t){var e=new Uh(t);return e.setFindAllIntersections(!0),e},Uh.createAnyIntersectionFinder=function(t){return new Uh(t)},Uh.createIntersectionCounter=function(t){var e=new Uh(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var qh=function(){this._li=new rl,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};qh.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},qh.prototype.getIntersections=function(){return this._segInt.getIntersections()},qh.prototype.isValid=function(){return this.execute(),this._isValid},qh.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},qh.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Uh(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wp;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},qh.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Oc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},qh.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Qu.toLineString(t[0],t[1])+" and "+Qu.toLineString(t[2],t[3])},qh.prototype.interfaces_=function(){return[]},qh.prototype.getClass=function(){return qh},qh.computeIntersections=function(t){var e=new qh(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var zh=function t(){this._nv=null;var e=arguments[0];this._nv=new qh(t.toSegmentStrings(e))};zh.prototype.checkValid=function(){this._nv.checkValid()},zh.prototype.interfaces_=function(){return[]},zh.prototype.getClass=function(){return zh},zh.toSegmentStrings=function(t){for(var e=new Sl,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Gh(r.getCoordinates(),r))}return e},zh.checkValid=function(t){new zh(t).checkValid()};var Vh=function(t){this._mapOp=t};Vh.prototype.map=function(t){for(var e=new Sl,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(mc.toGeometryArray(e))},Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Vh.map=function(t,e){return new Vh(e).map(t)};var Zh=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Sl,this._resultLineList=new Sl;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Zh.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Zh.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Zh.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Zh.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Pf.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Zh.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Zh.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Zh.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Zh.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(tl.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Pf.isResultOfOp(r,e)&&e===Pf.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh};var Xh=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Sl;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Xh.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Xh.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!n.isInResult()&&!n.isIncidentEdgeInResult()&&(0===n.getEdges().getDegree()||t===Pf.INTERSECTION)){var r=n.getLabel();Pf.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Xh.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Yh=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Yh.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Yh.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ec&&!r.isEmpty()||(n=!1);for(var i=new Sl,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ec||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new Sl;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Yh.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Yh.prototype.getInputGeometry=function(){return this._inputGeom},Yh.prototype.transformMultiLineString=function(t,e){for(var n=new Sl,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yh.prototype.transformCoordinates=function(t,e){return this.copy(t)},Yh.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Yh.prototype.transformMultiPoint=function(t,e){for(var n=new Sl,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yh.prototype.transformMultiPolygon=function(t,e){for(var n=new Sl,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Yh.prototype.copy=function(t){return t.copy()},Yh.prototype.transformGeometryCollection=function(t,e){for(var n=new Sl,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(mc.toGeometryArray(n)):this._factory.buildGeometry(n)},Yh.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Ql)return this.transformPoint(t,null);if(t instanceof tc)return this.transformMultiPoint(t,null);if(t instanceof ec)return this.transformLinearRing(t,null);if(t instanceof Hl)return this.transformLineString(t,null);if(t instanceof zl)return this.transformMultiLineString(t,null);if(t instanceof $l)return this.transformPolygon(t,null);if(t instanceof nc)return this.transformMultiPolygon(t,null);if(t instanceof ql)return this.transformGeometryCollection(t,null);throw new mu("Unknown Geometry subtype: "+t.getClass().getName())},Yh.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh};var Wh=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new dp,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Hl&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1];this._srcPts=r,this._isClosed=t.isClosed(r),this._snapTolerance=i}};Wh.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new Su(o)),0===r&&this._isClosed&&t.set(t.size()-1,new Su(o)))}},Wh.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Wh.prototype.snapTo=function(t){var e=new Cl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Wh.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new Su(i),!1)}},Wh.prototype.findSegmentIndexToSnap=function(t,e){for(var n=vu.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Wh.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Hh=function(t){this._srcGeom=t||null},Jh={SNAP_PRECISION_FACTOR:{configurable:!0}};Hh.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Qh(e,n).transform(this._srcGeom)},Hh.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Qh(t,n,!0).transform(this._srcGeom),i=r;return e&&Mu(i,Kl)&&(i=r.buffer(0)),i},Hh.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Hh.prototype.extractTargetCoordinates=function(t){for(var e=new Gi,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Hh.prototype.computeMinimumSegmentLength=function(t){for(var e=vu.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh},Hh.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Hh(t);r[0]=i.snapTo(e,n);var o=new Hh(e);return r[1]=o.snapTo(r[0],n),r},Hh.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Hh.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===fc.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Hh.computeOverlaySnapTolerance(i),Hh.computeOverlaySnapTolerance(o))}},Hh.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Hh.SNAP_PRECISION_FACTOR},Hh.snapToSelf=function(t,e,n){return new Hh(t).snapToSelf(e,n)},Jh.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Hh,Jh);var Qh=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Wh(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Yh),Kh=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Kh.prototype.getCommon=function(){return vu.longBitsToDouble(this._commonBits)},Kh.prototype.add=function(t){var e=vu.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Kh.signExpBits(this._commonBits),this._isFirst=!1,null):Kh.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Kh.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Kh.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Kh.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=vu.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+vu.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh},Kh.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Kh.signExpBits=function(t){return t>>52},Kh.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Kh.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if(Kh.getBit(t,r)!==Kh.getBit(e,r))return n;n++}return 52};var $h=function(){this._commonCoord=null,this._ccFilter=new ef},tf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};$h.prototype.addCommonBits=function(t){var e=new nf(this._commonCoord);t.apply(e),t.geometryChanged()},$h.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new Su(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new nf(e);return t.apply(n),t.geometryChanged(),t},$h.prototype.getCommonCoordinate=function(){return this._commonCoord},$h.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},$h.prototype.interfaces_=function(){return[]},$h.prototype.getClass=function(){return $h},tf.CommonCoordinateFilter.get=function(){return ef},tf.Translater.get=function(){return nf},Object.defineProperties($h,tf);var ef=function(){this._commonBitsX=new Kh,this._commonBitsY=new Kh};ef.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ef.prototype.getCommonCoordinate=function(){return new Su(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ef.prototype.interfaces_=function(){return[hl]},ef.prototype.getClass=function(){return ef};var nf=function(){this.trans=null;var t=arguments[0];this.trans=t};nf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},nf.prototype.isDone=function(){return!1},nf.prototype.isGeometryChanged=function(){return!0},nf.prototype.interfaces_=function(){return[Ul]},nf.prototype.getClass=function(){return nf};var rf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};rf.prototype.selfSnap=function(t){return new Hh(t).snapTo(t,this._snapTolerance)},rf.prototype.removeCommonBits=function(t){this._cbr=new $h,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},rf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},rf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Pf.overlayOp(e[0],e[1],t);return this.prepareResult(n)},rf.prototype.checkValid=function(t){t.isValid()||zu.out.println("Snapped geometry is invalid")},rf.prototype.computeSnapTolerance=function(){this._snapTolerance=Hh.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},rf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Hh.snap(e[0],e[1],this._snapTolerance)},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},rf.overlayOp=function(t,e,n){return new rf(t,e).getResultGeometry(n)},rf.union=function(t,e){return rf.overlayOp(t,e,Pf.UNION)},rf.intersection=function(t,e){return rf.overlayOp(t,e,Pf.INTERSECTION)},rf.symDifference=function(t,e){return rf.overlayOp(t,e,Pf.SYMDIFFERENCE)},rf.difference=function(t,e){return rf.overlayOp(t,e,Pf.DIFFERENCE)};var of=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};of.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Pf.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Ku))throw t;r=t}if(!n)try{e=rf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Ku?r:t}return e},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},of.overlayOp=function(t,e,n){return new of(t,e).getResultGeometry(n)},of.union=function(t,e){return of.overlayOp(t,e,Pf.UNION)},of.intersection=function(t,e){return of.overlayOp(t,e,Pf.INTERSECTION)},of.symDifference=function(t,e){return of.overlayOp(t,e,Pf.SYMDIFFERENCE)},of.difference=function(t,e){return of.overlayOp(t,e,Pf.DIFFERENCE)};var sf=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};sf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},sf.prototype.interfaces_=function(){return[]},sf.prototype.getClass=function(){return sf};var af=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},uf={INSERT:{configurable:!0},DELETE:{configurable:!0}};af.prototype.isDelete=function(){return this._eventType===af.DELETE},af.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},af.prototype.getObject=function(){return this._obj},af.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},af.prototype.getInsertEvent=function(){return this._insertEvent},af.prototype.isInsert=function(){return this._eventType===af.INSERT},af.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},af.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},af.prototype.interfaces_=function(){return[bu]},af.prototype.getClass=function(){return af},uf.INSERT.get=function(){return 1},uf.DELETE.get=function(){return 2},Object.defineProperties(af,uf);var lf=function(){};lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf};var cf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};cf.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(cf.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},cf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},cf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},cf.prototype.hasProperIntersection=function(){return this._hasProper},cf.prototype.hasIntersection=function(){return this._hasIntersection},cf.prototype.isDone=function(){return this._isDone},cf.prototype.isBoundaryPoint=function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},cf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},cf.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf},cf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var pf=function(t){function e(){t.call(this),this.events=new Sl,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$c.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof cf&&Mu(arguments[0],xl)&&Mu(arguments[1],xl)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&Mu(arguments[0],xl)&&arguments[1]instanceof cf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new sf(n,i),s=new af(e,n.getMinX(i),o);this.events.add(s),this.events.add(new af(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],i=n.iterator();i.hasNext();){var o=i.next();this.addEdge(o,r)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lf),hf=function(){this._min=vu.POSITIVE_INFINITY,this._max=vu.NEGATIVE_INFINITY},ff={NodeComparator:{configurable:!0}};hf.prototype.getMin=function(){return this._min},hf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},hf.prototype.getMax=function(){return this._max},hf.prototype.toString=function(){return Qu.toLineString(new Su(this._min,0),new Su(this._max,0))},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},ff.NodeComparator.get=function(){return df},Object.defineProperties(hf,ff);var df=function(){};df.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},df.prototype.interfaces_=function(){return[xu]},df.prototype.getClass=function(){return df};var yf=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hf),gf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hf),mf=function(){this._leaves=new Sl,this._root=null,this._level=0};mf.prototype.buildTree=function(){$c.sort(this._leaves,new hf.NodeComparator);for(var t=this._leaves,e=null,n=new Sl;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},mf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new yf(t,e,n))},mf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},mf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},mf.prototype.printNode=function(t){zu.out.println(Qu.toLineString(new Su(t._min,this._level),new Su(t._max,this._level)))},mf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},mf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new gf(t.get(n),t.get(n+1));e.add(i)}}},mf.prototype.interfaces_=function(){return[]},mf.prototype.getClass=function(){return mf};var vf=function(){this._items=new Sl};vf.prototype.visitItem=function(t){this._items.add(t)},vf.prototype.getItems=function(){return this._items},vf.prototype.interfaces_=function(){return[Hc]},vf.prototype.getClass=function(){return vf};var _f=function(){this._index=null;var t=arguments[0];if(!Mu(t,Kl))throw new mu("Argument must be Polygonal");this._index=new xf(t)},bf={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_f.prototype.locate=function(t){var e=new ol(t),n=new wf(e);return this._index.query(t.y,t.y,n),e.getLocation()},_f.prototype.interfaces_=function(){return[Bp]},_f.prototype.getClass=function(){return _f},bf.SegmentVisitor.get=function(){return wf},bf.IntervalIndexedGeometry.get=function(){return xf},Object.defineProperties(_f,bf);var wf=function(){this._counter=null;var t=arguments[0];this._counter=t};wf.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},wf.prototype.interfaces_=function(){return[Hc]},wf.prototype.getClass=function(){return wf};var xf=function(){this._index=new mf;var t=arguments[0];this.init(t)};xf.prototype.init=function(t){for(var e=Sh.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},xf.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new dp(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},xf.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new vf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf};var Sf=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new hc,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Eh,2===arguments.length){var e=arguments[0],n=arguments[1],r=fl.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;Iu.NONE,r.getLocation(t,Cc.ON)===Iu.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=new cf(n,!0,!1);o.setIsDoneIfProperInt(i);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof ec||this._parentGeom instanceof $l||this._parentGeom instanceof nc,u=r||!a;return s.computeIntersections(this._edges,o,u),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new cf(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Ql){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,Iu.INTERIOR)}else if(arguments[0]instanceof Su){var e=arguments[0];this.insertPoint(this._argIndex,e,Iu.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),Iu.EXTERIOR,Iu.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,Iu.INTERIOR,Iu.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],Iu.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],Iu.BOUNDARY)},e.prototype.addLineString=function(t){var e=Pl.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new eh(e,new jc(this._argIndex,Iu.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),tl.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===Iu.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Pl.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;sl.isCCW(r)&&(i=n,o=e);var s=new eh(r,new jc(this._argIndex,Iu.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],Iu.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new jc(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new pf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof nc&&(this._useBoundaryDeterminationRule=!1),e instanceof $l)this.addPolygon(e);else if(e instanceof Hl)this.addLineString(e);else if(e instanceof Ql)this.addPoint(e);else if(e instanceof tc)this.addCollection(e);else if(e instanceof zl)this.addCollection(e);else if(e instanceof nc)this.addCollection(e);else{if(!(e instanceof ql))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return Mu(this._parentGeom,Kl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _f(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?Iu.BOUNDARY:Iu.INTERIOR},e}(Vc),Ef=function(){if(this._li=new rl,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Sf(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=fl.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Sf(0,e,r),this._arg[1]=new Sf(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Sf(0,i,s),this._arg[1]=new Sf(1,o,s)}};Ef.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Ef.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef};var Cf=function(){};Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf},Cf.map=function(){if(arguments[0]instanceof ll&&Mu(arguments[1],Cf.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Sl,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(Mu(arguments[0],_l)&&Mu(arguments[1],Cf.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Sl,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},Cf.MapOp=function(){};var Pf=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Eh,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Xp,this._resultPolyList=new Sl,this._resultLineList=new Sl,this._resultPointList=new Sl,this._graph=new Vc(new Vp),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new jc(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new Sl;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==Iu.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Sl,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Sl;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),zh.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Zc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Zh(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Xh(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Cc.RIGHT),i.getLocation(1,Cc.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(tl.isTrue(!r.isNull(i,Cc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Cc.LEFT,r.getLocation(i,Cc.LEFT)),tl.isTrue(!r.isNull(i,Cc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Cc.RIGHT,r.getLocation(i,Cc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ef);Pf.overlayOp=function(t,e,n){return new Pf(t,e).getResultGeometry(n)},Pf.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Pf.createEmptyResult(Pf.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Vh.map(t,{interfaces_:function(){return[Cf.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Pf.INTERSECTION)},Pf.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Pf.createEmptyResult(Pf.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Pf.SYMDIFFERENCE)},Pf.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Pf.INTERSECTION:o=Math.min(r,i);break;case Pf.UNION:o=Math.max(r,i);break;case Pf.DIFFERENCE:o=r;break;case Pf.SYMDIFFERENCE:o=Math.max(r,i)}return o},Pf.createEmptyResult=function(t,e,n,r){var i=null;switch(Pf.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Pf.difference=function(t,e){return t.isEmpty()?Pf.createEmptyResult(Pf.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Pf.DIFFERENCE))},Pf.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Pf.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===Iu.BOUNDARY&&(i=Iu.INTERIOR),o===Iu.BOUNDARY&&(o=Iu.INTERIOR),s){case Pf.INTERSECTION:return i===Iu.INTERIOR&&o===Iu.INTERIOR;case Pf.UNION:return i===Iu.INTERIOR||o===Iu.INTERIOR;case Pf.DIFFERENCE:return i===Iu.INTERIOR&&o!==Iu.INTERIOR;case Pf.SYMDIFFERENCE:return i===Iu.INTERIOR&&o!==Iu.INTERIOR||i!==Iu.INTERIOR&&o===Iu.INTERIOR}return!1}},Pf.INTERSECTION=1,Pf.UNION=2,Pf.DIFFERENCE=3,Pf.SYMDIFFERENCE=4;var If=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Eh,this._seg=new dp;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};If.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},If.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?Iu.BOUNDARY:this._ptLocator.locate(t,this._g)},If.prototype.extractLinework=function(t){var e=new Of;t.apply(e);var n=e.getLinework(),r=mc.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If};var Of=function(){this._linework=null,this._linework=new Sl};Of.prototype.getLinework=function(){return this._linework},Of.prototype.filter=function(t){if(t instanceof $l){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Of.prototype.interfaces_=function(){return[Gl]},Of.prototype.getClass=function(){return Of};var Mf=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Mf.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Mf.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Mf.prototype.getPoints=function(t){for(var e=new Sl,n=Sh.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Mf.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var p=new Su(l-u,c+a);r.add(p)}if(this._doRight){var h=new Su(l+u,c-a);r.add(h)}},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf};var Tf=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Sl;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new If(this._geom[0],this._boundaryDistanceTolerance),new If(this._geom[1],this._boundaryDistanceTolerance),new If(this._geom[2],this._boundaryDistanceTolerance)]},Nf={TOLERANCE:{configurable:!0}};Tf.prototype.reportResult=function(t,e,n){zu.out.println("Overlay result invalid - A:"+Iu.toLocationSymbol(e[0])+" B:"+Iu.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+Iu.toLocationSymbol(e[2]))},Tf.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},Tf.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Tf.hasLocation(this._location,Iu.BOUNDARY)||this.isValidResult(r,this._location)}},Tf.prototype.addTestPts=function(t){var e=new Mf(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Tf.prototype.isValidResult=function(t,e){var n=Pf.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===Iu.INTERIOR);return r||this.reportResult(t,e,n),r},Tf.prototype.getInvalidLocation=function(){return this._invalidLocation},Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf},Tf.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Tf.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Hh.computeSizeBasedSnapTolerance(t),Hh.computeSizeBasedSnapTolerance(e))},Tf.isValid=function(t,e,n,r){return new Tf(t,e,r).isValid(n)},Nf.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Tf,Nf);var jf=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};jf.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},jf.prototype.combine=function(){for(var t=new Sl,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.combine=function(){if(1===arguments.length){var t=arguments[0];return new jf(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new jf(jf.createList(e,n)).combine()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];return new jf(jf.createList(r,i,o)).combine()}},jf.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},jf.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Sl;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new Sl;return s.add(r),s.add(i),s.add(o),s}};var Lf=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Sl)},Af={STRTREE_NODE_CAPACITY:{configurable:!0}};Lf.prototype.reduceToGeometries=function(t){for(var e=new Sl,n=t.iterator();n.hasNext();){var r=n.next(),i=null;Mu(r,xl)?i=this.unionTree(r):r instanceof ll&&(i=r),e.add(i)}return e},Lf.prototype.extractByEnvelope=function(t,e,n){for(var r=new Sl,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Lf.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return jf.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Lf.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new op(Lf.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Lf.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Lf.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Lf.getGeometry(e,n),Lf.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Lf.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Lf.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Lf.prototype.unionActual=function(t,e){return Lf.restrictToPolygons(t.union(e))},Lf.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Lf.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Sl,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),jf.combine(r)},Lf.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Lf.prototype.interfaces_=function(){return[]},Lf.prototype.getClass=function(){return Lf},Lf.restrictToPolygons=function(t){if(Mu(t,Kl))return t;var e=xh.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(mc.toPolygonArray(e))},Lf.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Lf.union=function(t){return new Lf(t).union()},Af.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Lf,Af);var kf=function(){};kf.prototype.interfaces_=function(){return[]},kf.prototype.getClass=function(){return kf},kf.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Pf.createEmptyResult(Pf.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),of.overlayOp(t,e,Pf.UNION)};var Rf=function(){return new Zi};Zi.prototype={constructor:Zi,reset:function(){this.s=this.t=0},add:function(t){Xi(Df,t,this.t),Xi(this,Df.s,this.s),this.s?this.t+=Df.t:this.s=Df.t},valueOf:function(){return this.s}};var Df=new Zi,Ff=1e-6,Bf=Math.PI,Gf=Bf/2,Uf=Bf/4,qf=2*Bf,zf=180/Bf,Vf=Bf/180,Zf=Math.abs,Xf=Math.atan,Yf=Math.atan2,Wf=Math.cos,Hf=Math.exp,Jf=Math.log,Qf=Math.sin,Kf=Math.sqrt,$f=Math.tan,td={Feature:function(t,e){Hi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Hi(n[r].geometry,e)}},ed={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ji(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ji(n[r],e,0)},Polygon:function(t,e){Qi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Qi(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Hi(n[r],e)}},nd=function(t,e){t&&td.hasOwnProperty(t.type)?td[t.type](t,e):Hi(t,e)},rd=(Rf(),Rf(),Rf(),function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n});oo.invert=oo;var id=function(t){function e(e){return e=t(e[0]*Vf,e[1]*Vf),e[0]*=zf,e[1]*=zf,e}return t=so(t[0]*Vf,t[1]*Vf,t.length>2?t[2]*Vf:0),e.invert=function(e){return e=t.invert(e[0]*Vf,e[1]*Vf),e[0]*=zf,e[1]*=zf,e},e},od=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Wi,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},sd=function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,c=1,p=e[0]-a,h=e[1]-u;if(s=n-a,p||!(s>0)){if(s/=p,p<0){if(s<l)return;s<c&&(c=s)}else if(p>0){if(s>c)return;s>l&&(l=s)}if(s=i-a,p||!(s<0)){if(s/=p,p<0){if(s>c)return;s>l&&(l=s)}else if(p>0){if(s<l)return;s<c&&(c=s)}if(s=r-u,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*p,t[1]=u+l*h),c<1&&(e[0]=a+c*p,e[1]=u+c*h),!0}}}}},ad=function(t,e){return Zf(t[0]-e[0])<Ff&&Zf(t[1]-e[1])<Ff},ud=function(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(ad(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new po(r,t,null,!0)),u.push(n.o=new po(r,null,n,!1)),a.push(n=new po(s,t,null,!1)),u.push(n.o=new po(s,null,n,!0))}})),a.length){for(u.sort(e),ho(a),ho(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,p=a[0];;){for(var h=p,f=!0;h.v;)if((h=h.n)===p)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(o=0,s=l.length;o<s;++o)i.point((c=l[o])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(f)for(l=h.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,f=!f}while(!h.v);i.lineEnd()}}},ld=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},cd=(function(t){1===t.length&&(t=function(t){return function(e,n){return ld(t(e),n)}}(t))}(ld),function(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}),pd=1e9,hd=-pd,fd=Rf(),dd=(Rf(),function(t){return t}),yd=(Rf(),Rf(),1/0),gd=yd,md=-yd,vd=md,_d={point:function(t,e){t<yd&&(yd=t),t>md&&(md=t),e<gd&&(gd=e),e>vd&&(vd=e)},lineStart:Wi,lineEnd:Wi,polygonStart:Wi,polygonEnd:Wi,result:function(){var t=[[yd,gd],[md,vd]];return md=vd=-(gd=yd=1/0),t}},bd=(Rf(),function(t,e,n,r){return function(i,o){function s(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function a(t,e){var n=i(t,e);g.point(n[0],n[1])}function u(){w.point=a,g.lineStart()}function l(){w.point=s,g.lineEnd()}function c(t,e){y.push([t,e]);var n=i(t,e);_.point(n[0],n[1])}function p(){_.lineStart(),y=[]}function h(){c(y[0][0],y[0][1]),_.lineEnd();var t,e,n,r,i=_.clean(),s=v.result(),a=s.length;if(y.pop(),f.push(y),y=null,a)if(1&i){if(n=s[0],(e=n.length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else a>1&&2&i&&s.push(s.pop().concat(s.shift())),d.push(s.filter(yo))}var f,d,y,g=e(o),m=i.invert(r[0],r[1]),v=od(),_=e(v),b=!1,w={point:s,lineStart:u,lineEnd:l,polygonStart:function(){w.point=c,w.lineStart=p,w.lineEnd=h,d=[],f=[]},polygonEnd:function(){w.point=s,w.lineStart=u,w.lineEnd=l,d=cd(d);var t=function(t,e){var n=e[0],r=e[1],i=[Qf(n),-Wf(n),0],o=0,s=0;fd.reset();for(var a=0,u=t.length;a<u;++a)if(c=(l=t[a]).length)for(var l,c,p=l[c-1],h=p[0],f=p[1]/2+Uf,d=Qf(f),y=Wf(f),g=0;g<c;++g,h=v,d=b,y=w,p=m){var m=l[g],v=m[0],_=m[1]/2+Uf,b=Qf(_),w=Wf(_),x=v-h,S=x>=0?1:-1,E=S*x,C=E>Bf,P=d*b;if(fd.add(Yf(P*S*Qf(E),y*w+P*Wf(E))),o+=C?x+S*qf:x,C^h>=n^v>=n){var I=eo($i(p),$i(m));io(I);var O=eo(i,I);io(O);var M=(C^x>=0?-1:1)*Yi(O[2]);(r>M||r===M&&(I[0]||I[1]))&&(s+=C^x>=0?1:-1)}}return(o<-Ff||o<Ff&&fd<-Ff)^1&s}(f,m);d.length?(b||(o.polygonStart(),b=!0),ud(d,go,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=f=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return w}}),wd=bd((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Bf:-Bf,u=Zf(o-n);Zf(u-Bf)<Ff?(t.point(n,r=(r+s)/2>0?Gf:-Gf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),e=0):i!==a&&u>=Bf&&(Zf(n-i)<Ff&&(n-=i*Ff),Zf(o-a)<Ff&&(o-=a*Ff),r=function(t,e,n,r){var i,o,s=Qf(t-n);return Zf(s)>Ff?Xf((Qf(e)*(o=Wf(r))*Qf(n)-Qf(r)*(i=Wf(e))*Qf(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),e=0),t.point(n=o,r=s),i=a},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Gf,r.point(-Bf,i),r.point(0,i),r.point(Bf,i),r.point(Bf,0),r.point(Bf,-i),r.point(0,-i),r.point(-Bf,-i),r.point(-Bf,0),r.point(-Bf,i);else if(Zf(t[0]-e[0])>Ff){var o=t[0]<e[0]?Bf:-Bf;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Bf,-Gf]),xd=function(t,e){function n(t,e){return Wf(t)*Wf(e)>o}function r(t,e,n){var r=[1,0,0],i=eo($i(t),$i(e)),s=to(i,i),a=i[0],u=s-a*a;if(!u)return!n&&t;var l=o*s/u,c=-o*a/u,p=eo(r,i),h=ro(r,l);no(h,ro(i,c));var f=p,d=to(h,f),y=to(f,f),g=d*d-y*(to(h,h)-1);if(!(g<0)){var m=Kf(g),v=ro(f,(-d-m)/y);if(no(v,h),v=Ki(v),!n)return v;var _,b=t[0],w=e[0],x=t[1],S=e[1];w<b&&(_=b,b=w,w=_);var E=w-b,C=Zf(E-Bf)<Ff;if(!C&&S<x&&(_=x,x=S,S=_),C||E<Ff?C?x+S>0^v[1]<(Zf(v[0]-b)<Ff?x:S):x<=v[1]&&v[1]<=S:E>Bf^(b<=v[0]&&v[0]<=w)){var P=ro(f,(-d+m)/y);return no(P,h),[v,Ki(P)]}}}function i(e,n){var r=s?t:Bf-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var o=Wf(t),s=o>0,a=Zf(o)>Ff;return bd(n,(function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(p,h){var f,d=[p,h],y=n(p,h),g=s?y?0:i(p,h):y?i(p+(p<0?Bf:-Bf),h):0;if(!e&&(l=u=y)&&t.lineStart(),y!==u&&(!(f=r(e,d))||ad(e,f)||ad(d,f))&&(d[0]+=Ff,d[1]+=Ff,y=n(d[0],d[1])),y!==u)c=0,y?(t.lineStart(),f=r(d,e),t.point(f[0],f[1])):(f=r(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(a&&e&&s^y){var m;g&o||!(m=r(d,e,!0))||(c=0,s?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!y||e&&ad(e,d)||t.point(d[0],d[1]),e=d,u=y,o=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),(function(n,r,i,o){!function(t,e,n,r,i,o){if(n){var s=Wf(e),a=Qf(e),u=r*n;null==i?(i=e+r*qf,o=e-u/2):(i=co(s,i),o=co(s,o),(r>0?i<o:i>o)&&(i+=r*qf));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Ki([s,-a*Wf(c),-a*Qf(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)}),s?[0,-t]:[-Bf,t-Bf])};vo.prototype={constructor:vo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sd=16,Ed=Wf(30*Vf),Cd=function(t,e){return+e?function(t,e){function n(r,i,o,s,a,u,l,c,p,h,f,d,y,g){var m=l-r,v=c-i,_=m*m+v*v;if(_>4*e&&y--){var b=s+h,w=a+f,x=u+d,S=Kf(b*b+w*w+x*x),E=Yi(x/=S),C=Zf(Zf(x)-1)<Ff||Zf(o-p)<Ff?(o+p)/2:Yf(w,b),P=t(C,E),I=P[0],O=P[1],M=I-r,T=O-i,N=v*M-m*T;(N*N/_>e||Zf((m*M+v*T)/_-.5)>.3||s*h+a*f+u*d<Ed)&&(n(r,i,o,s,a,u,I,O,C,b/=S,w/=S,x,y,g),g.point(I,O),n(I,O,C,b,w,x,l,c,p,h,f,d,y,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){m=NaN,x.point=o,e.lineStart()}function o(r,i){var o=$i([r,i]),s=t(r,i);n(m,v,g,_,b,w,m=s[0],v=s[1],g=r,_=o[0],b=o[1],w=o[2],Sd,e),e.point(m,v)}function s(){x.point=r,e.lineEnd()}function a(){i(),x.point=u,x.lineEnd=l}function u(t,e){o(c=t,e),p=m,h=v,f=_,d=b,y=w,x.point=o}function l(){n(m,v,g,_,b,w,p,h,c,f,d,y,Sd,e),x.lineEnd=s,s()}var c,p,h,f,d,y,g,m,v,_,b,w,x={point:r,lineStart:i,lineEnd:s,polygonStart:function(){e.polygonStart(),x.lineStart=a},polygonEnd:function(){e.polygonEnd(),x.lineStart=i}};return x}}(t,e):function(t){return mo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},Pd=mo({point:function(t,e){this.stream.point(t*Vf,e*Vf)}});wo.invert=function(t,e){return[t,2*Xf(Hf(e))-Gf]},xo.invert=function(t,e){return[-e,2*Xf(Hf(t))-Gf]};var Id=function(){var t=function(t){function e(){var e=Bf*a(),s=o(id(o.rotate()).invert([0,0]));return l(null==c?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===wo?[[Math.max(s[0]-e,c),n],[Math.min(s[0]+e,r),i]]:[[c,Math.max(s[1]-e,n)],[r,Math.min(s[1]+e,i)]])}var n,r,i,o=bo(t),s=o.center,a=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=r=i=null:(c=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==c?null:[[c,n],[r,i]]},e()}(xo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.projection=Ps,t.random=du,t.clusters=yu,t.helpers=Go,t.invariant=qo,t.meta=Uo,t.isolines=function(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(W(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!E(i))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=rt(t,{zProperty:r,flip:!0});return l(function(t,e,n){var r=q(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,c=i/u,p=o/l,h=function(t){t[0]=t[0]*c+s,t[1]=t[1]*p+a};return t.forEach((function(t){I(t,h)})),t}(function(t,e,n,r,i){for(var o=[],s=1;s<e.length;s++){var a=+e[s],u=Object.assign({},r,i[s]);u[n]=a;var l=c(K(t,a),u);o.push(l)}return o}(s,e,r,i,o),s,t))},t.convex=Mt,t.pointsWithinPolygon=jt,t.concave=function(t,n){if(n=n||{},!E(n))throw new Error("options is invalid");if(!t)throw new Error("points is required");var r=n.maxEdge||1/0;if(!S(r))throw new Error("maxEdge is invalid");var i=Lt(function(t){var e=[],n={};return N(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");n.hasOwnProperty(r)||(e.push(t),n[r]=!0)}})),l(e)}(t));if(i.features=i.features.filter((function(t){var e=t.geometry.coordinates[0][0],i=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=Dt(e,i,n),a=Dt(i,o,n),u=Dt(e,o,n);return s<=r&&a<=r&&u<=r})),i.features.length<1)return null;var o=$t(i,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,r){var i=Xo(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return i.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=q(t),n=[];i.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){Tt([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[r]=n})),t},t.flip=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Ft(t)),I(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.simplify=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=Ft(t)),A(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;te(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=se(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return se(t,e,n)}));break;case"Polygon":t.coordinates=ae(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return ae(t,e,n)}))}}(t,n,r)})),t},t.bezierSpline=ue,t.tag=function(t,e,n,r){return t=Ft(t),e=Ft(e),N(t,(function(t){t.properties||(t.properties={}),N(e,(function(e){void 0===t.properties[r]&&Tt(t,e)&&(t.properties[r]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null===e||void 0===e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,r,i=t.slice(0),o=t.length,s=o-e;o-- >s;)r=Math.floor((o+1)*Math.random()),n=i[r],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))},t.envelope=ce,t.square=pe,t.circle=fe,t.midpoint=function(t,e){return he(t,Dt(t,e)/2,de(t,e))},t.center=ye,t.centerOfMass=me,t.centroid=ge,t.combine=function(t){function n(t,e,n){n?r[e].coordinates=r[e].coordinates.concat(t.geometry.coordinates):r[e].coordinates.push(t.geometry.coordinates),r[e].properties.push(t.properties)}var r={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},i=Object.keys(r).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return N(t,(function(t){t.geometry&&(r[t.geometry.type]?n(t,t.geometry.type,!0):i[t.geometry.type]&&n(t,i[t.geometry.type],!1))})),l(Object.keys(r).filter((function(t){return r[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:r[t].coordinates},{collectedProperties:r[t].properties})})))},t.distance=Dt,t.explode=ve,t.bbox=q,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=ke(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(ke(t))})),e},t.bboxPolygon=le,t.booleanPointInPolygon=Tt,t.nearestPoint=Re,t.nearestPointOnLine=on,t.nearestPointToLine=function(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.units,i=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return A(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Q(e))throw new Error("line must be a LineString");var o=1/0,s=null;return N(t,(function(t){var n=dn(t,e,{units:r});n<o&&(o=n,s=t)})),s&&(s.properties=Object.assign({dist:o},s.properties,i)),s},t.planepoint=function(t,e){var n=z(t),r=H(e).coordinates[0];if(r.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},o=i.a,s=i.b,a=i.c,u=n[0],l=n[1],c=r[0][0],p=r[0][1],h=void 0!==o?o:r[0][2],f=r[1][0],d=r[1][1],y=void 0!==s?s:r[1][2],g=r[2][0],m=r[2][1],v=void 0!==a?a:r[2][2];return(v*(u-c)*(l-d)+h*(u-f)*(l-m)+y*(u-g)*(l-p)-y*(u-c)*(l-m)-v*(u-f)*(l-p)-h*(u-g)*(l-d))/((u-c)*(l-d)+(u-f)*(l-m)+(u-g)*(l-p)-(u-c)*(l-m)-(u-f)*(l-p)-(u-g)*(l-d))},t.tin=Lt,t.bearing=de,t.destination=he,t.kinks=function(t){var e,n,i={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,r,i,o,s,a){var u,l,c,p,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(l=e-o,c=t-i,p=(s-i)*l-(a-o)*c,h=(n-t)*l-(r-e)*c,l=p/u,c=h/u,f.x=t+l*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&i.features.push(r([s[0],s[1]]))}}))})),i},t.pointOnFeature=gn,t.area=vn,t.along=function(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}if(!S(e))throw new Error("distance must be a number");for(var o=0,s=0;s<i.length&&!(e>=o&&s===i.length-1);s++){if(o>=e){var a=e-o;if(a){var u=de(i[s],i[s-1])-180;return he(i[s],a,u,n)}return r(i[s])}o+=Dt(i[s],i[s+1],n)}return r(i[i.length-1])},t.length=Sn,t.lineSlice=function(t,e,n){var r=V(n);if("LineString"!==Q(n))throw new Error("line must be a LineString");for(var i,o=on(n,t),s=on(n,e),u=[(i=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],l=i[0].properties.index+1;l<i[1].properties.index+1;l++)u.push(r[l]);return u.push(i[1].geometry.coordinates),a(u,n.properties)},t.lineSliceAlong=En,t.pointGrid=Mn,t.truncate=Tn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,(function(t){e.push(t)})),l(e)},t.lineIntersect=nn,t.lineChunk=function(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return R(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=Sn(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++){var a=En(t,e*s,e*(s+1),{units:n});r(a,s)}}(t,e,r,(function(t){o.push(t)}))})),l(o)},t.unkinkPolygon=function(t){var e=[];return R(t,(function(t){"Polygon"===t.geometry.type&&N(Ms(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.properties,i=n.npoints,o=n.offset;return t=z(t),e=z(e),r=r||{},i=i||100,o=o||10,new Ds({x:t[0],y:t[1]},{x:e[0],y:e[1]},r).Arc(i,{offset:o}).json()},t.lineSegment=en,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Q(t),r=Q(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=Tn(e,{precision:7});switch(r){case"Point":return kn(t,i);case"MultiPoint":return An(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return An(t,nn(t,i))}},t.lineArc=Fn,t.polygonToLine=Gn,t.lineToPolygon=qn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),r=V(t),i=t.properties;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(r=[r]),r.forEach((function(t){Fs(t,e,s)})),1===s.length?a(s[0],i):c(s,i);case"Polygon":return o(Wn(r,e),i);case"MultiPolygon":return h(r.map((function(t){return Wn(t,e)})),i);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=$n,t.sector=function(t,e,n,r,i){if(i=i||{},!E(i))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(void 0===n||null===n)throw new Error("bearing1 is required");if(void 0===r||null===r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(er(n)===er(r))return fe(t,e,i);var s=V(t),a=[[s]];return I(Fn(t,e,n,r,i),(function(t){a[0].push(t)})),a[0].push(s),o(a)},t.rhumbBearing=sn,t.rhumbDistance=un,t.rhumbDestination=nr,t.polygonTangents=function(t,e){var n,i,o,s=V(t),a=V(e);switch(Q(e)){case"Polygon":n=a[0][0],i=a[0][0],o=ir(a[0][0],a[0][a[0].length-1],s);var u=rr(a[0],s,o,void 0,n,i);n=u[0],i=u[1];break;case"MultiPolygon":n=a[0][0][0],i=a[0][0][0],o=ir(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach((function(t){var e=rr(t[0],s,o,void 0,n,i);n=e[0],i=e[1]}))}return l([r(n),r(i)])},t.rewind=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=Ft(t));var i=[];switch(t.type){case"GeometryCollection":return A(t,(function(t){sr(t,n)})),t;case"FeatureCollection":return N(t,(function(t){N(sr(t,n),(function(t){i.push(t)}))})),l(i)}return sr(t,n)},t.isobands=function(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},s=n.breaksProperties||[];if(W(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!E(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(s))throw new Error("breaksProperties is not an Array");var a=lr(t,{zProperty:r,flip:!0}),u=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var s=+e[i-1],a=+e[i],u=cr(t,s,a-s),l=function(t){var e=[],n=[];t.forEach((function(t){var r=vn(o([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}(u),c=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var s=o([e[r].lrCoordinates]),a=r+1;a<e.length;a++)if(!e[a].grouped){var u=o([e[a].lrCoordinates]);(function(t,e){for(var n=ve(t),r=0;r<n.features.length;r++)if(!Tt(n.features[r],e))return!1;return!0})(u,s)&&(i.push(e[a].lrCoordinates),e[a].grouped=!0)}n.push(i)}return n}(l),p={};p.groupedRings=c,p[n]=s+"-"+a,r.push(p)}return r}(a,e,r);return l((u=function(t,e,n){var r=q(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,c=i/u,p=o/l,h=function(t){t[0]=t[0]*c+s,t[1]=t[1]*p+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(h)}))}))})),t}(u,a,t)).map((function(t,e){if(s[e]&&!E(s[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},i,s[e]);return n[r]=t[r],h(t.groupedRings,n)})))},t.transformRotate=fr,t.transformScale=dr,t.transformTranslate=function(t,e,n,r){if(r=r||{},!E(r))throw new Error("options is invalid");var i=r.units,o=r.zTranslation,s=r.mutate;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(void 0===n||null===n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Ft(t)),I(t,(function(t){var r=V(nr(t,e,n,{units:i}));t[0]=r[0],t[1]=r[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(n=n||{},!E(n))throw new Error("options is invalid");var r=n.units;if(!t)throw new Error("geojson is required");if(void 0===e||null===e||isNaN(e))throw new Error("distance is required");var i=Q(t),o=t.properties;switch(i){case"LineString":return _r(t,e,r);case"MultiLineString":var s=[];return R(t,(function(t){s.push(_r(t,e,r).geometry.coordinates)})),c(s,o);default:throw new Error("geometry "+i+" is not supported")}},t.polygonize=function(t){var e=Da.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){ka.findEdgeRingContaining(t,r)&&r.push(t)})),l(r.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return R(t,(function(t){R(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!xr(e,t);case"Polygon":return!Tt(t,e)}break;case"LineString":switch(e.type){case"Point":return!xr(t,e);case"LineString":return!function(t,e){return nn(t,e).features.length>0}(t,e);case"Polygon":return!Sr(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Tt(e,t);case"LineString":return!Sr(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Tt(t.coordinates[0][n],e))return!0;for(var r=0;r<e.coordinates[0].length;r++)if(Tt(e.coordinates[0][r],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=Q(t),r=Q(e),i=H(t),o=H(e),s=V(t),a=V(e);switch(n){case"Point":switch(r){case"Point":return Cr(s,a);default:throw new Error("feature2 "+r+" geometry not supported")}case"MultiPoint":switch(r){case"Point":return function(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(Cr(t.coordinates[n],e.coordinates)){r=!0;break}return r}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var r=!1,i=0;i<t.coordinates.length;i++)if(Cr(e.coordinates[n],t.coordinates[i])){r=!0;break}if(!r)return!1}return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"Point":return Cn(o,i,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(Cn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!0})&&(n=!0),!Cn({type:"Point",coordinates:e.coordinates[r]},t,{ignoreEndVertices:!1}))return!1;return n}(i,o);case"MultiPoint":return function(t,e){for(var n=!1,r=0;r<e.coordinates.length;r++)if(Cn(e.coordinates[r],t,{ignoreEndVertices:!0})&&(n=!0),!Cn(e.coordinates[r],t))return!1;return!!n}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"Point":return Tt(o,i,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,r=0,i=q(t),o=q(e);if(!Er(i,o))return!1;for(;r<e.coordinates.length-1;r++){var s=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[r],e.coordinates[r+1]);if(Tt({type:"Point",coordinates:s},t,{ignoreBoundary:!0})){n=!0;break}}return n}(i,o);case"Polygon":return function(t,e){var n=q(t),r=q(e);if(!Er(n,r))return!1;for(var i=0;i<e.coordinates[0].length;i++)if(!Tt(e.coordinates[0][i],t))return!1;return!0}(i,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Tt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Q(t),r=Q(e),i=H(t),o=H(e);switch(n){case"MultiPoint":switch(r){case"LineString":return Pr(i,o);case"Polygon":return Or(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"LineString":switch(r){case"MultiPoint":return Pr(o,i);case"LineString":return function(t,e){if(nn(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var i=!0;if(0!==r&&r!==e.coordinates.length-2||(i=!1),Mr(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],i))return!0}return!1}(i,o);case"Polygon":return Ir(i,o);default:throw new Error("feature2 "+r+" geometry not supported")}case"Polygon":switch(r){case"MultiPoint":return Or(o,i);case"LineString":return Ir(o,i);default:throw new Error("feature2 "+r+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=or,t.booleanOverlap=Lr,t.booleanPointOnLine=Cn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Q(t)===Q(e)&&new qa({precision:6}).compare(te(t),te(e))},t.booleanWithin=Pn,t.clone=Ft,t.cleanCoords=te,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.minPoints,i=n.units;if(W(t,"Point","Input must contain Points"),null===e||void 0===e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(void 0===r||null===r||Math.sign(r)>0))throw new Error("Invalid minPoints");t=Ft(t),r=r||3;var o=new Ya.DBSCAN,s=-1;return o.run(L(t),w(e,i),r,Dt).forEach((function(e){s++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,r=e.mutate;W(t,"Point","Input must contain Points");var i=t.features.length;(n=n||Math.round(Math.sqrt(i/2)))>i&&(n=i),!1!==r&&void 0!==r||(t=Ft(t));var o=L(t),s=o.slice(0,n),a=eu(o,n,s),u={};return a.centroids.forEach((function(t,e){u[e]=t})),N(t,(function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]})),t},t.pointToLineDistance=dn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==kr(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==kr(e,"line2"))throw new Error("line2 must be a LineString");for(var n=en(te(t)).features,r=en(te(e)).features,i=0;i<n.length;i++){var o=n[i].geometry.coordinates;if(!r[i])break;if(!function(t,e){var n=v(sn(t[0],t[1])),r=v(sn(e[0],e[1]));return n===r}(o,r[i].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,i){if(i=i||{},!E(i))throw new Error("options is invalid");var o=i.resolution,s=i.minDistance,u=i.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!S(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(s)throw new Error("options.minDistance is not yet implemented");var c=z(t),p=z(n);switch(t=r(c),n=r(p),Q(u)){case"FeatureCollection":if(0===u.features.length)return a([c,p]);break;case"Polygon":u=l([e(H(u))]);break;default:throw new Error("invalid obstacles")}var h=u;h.features.push(t),h.features.push(n);var f=q(dr(le(q(h)),1.15));o||(o=Dt([f[0],f[1]],[f[2],f[1]],i)/100),h.features.pop(),h.features.pop();for(var d=f[0],y=f[1],g=f[2],m=f[3],v=o/Dt([d,y],[g,y],i)*(g-d),_=o/Dt([d,y],[d,m],i)*(m-y),b=g-d,w=m-y,x=(b-Math.floor(b/v)*v)/2,C=[],P=[],I=[],O=[],M=1/0,T=1/0,N=m-(w-Math.floor(w/_)*_)/2,j=0;N>=y;){for(var L=[],A=[],k=d+x,R=0;k<=g;){var D=r([k,N]),F=function(t,e){for(var n=0;n<e.features.length;n++)if(Tt(t,e.features[n]))return!0;return!1}(D,u);L.push(F?0:1),A.push(k+"|"+N);var B=Dt(D,t);!F&&B<M&&(M=B,I={x:R,y:j});var G=Dt(D,n);!F&&G<T&&(T=G,O={x:R,y:j}),k+=v,R++}P.push(L),C.push(A),N-=_,j++}var U=new Dr(P,{diagonal:!0}),V=U.grid[I.y][I.x],Z=U.grid[O.y][O.x],X=[c];return nu.search(U,V,Z).forEach((function(t){var e=C[t.x][t.y].split("|");X.push([+e[0],+e[1]])})),X.push(p),te(a(X))},t.voronoi=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return W(t,"Point","points"),l(fu().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(pi))},t.ellipse=hi,t.centerMean=di,t.centerMedian=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.counter||10;if(!S(n))throw new Error("counter must be a number");var r=e.weight,i=di(t,{weight:e.weight}),o=l([]);return N(t,(function(t){o.features.push(ge(t,{weight:t.properties[r]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},yi(i.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.steps||64,r=e.weight,i=e.properties||{};if(!S(n))throw new Error("steps must be a number");if(!E(i))throw new Error("properties must be a number");var o=L(t).length,s=di(t,{weight:r}),a=0,u=0,c=0;N(t,(function(t){var e=t.properties[r]||1,n=gi(V(t),V(s));a+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,c+=n.x*n.y*e}));var p=a-u,h=Math.sqrt(Math.pow(p,2)+4*Math.pow(c,2)),f=2*c,d=Math.atan((p+h)/f),y=180*d/Math.PI,g=0,m=0,v=0;N(t,(function(t){var e=t.properties[r]||1,n=gi(V(t),V(s));g+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,m+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,v+=e}));var _=Math.sqrt(2*g/v),b=Math.sqrt(2*m/v),w=hi(s,_,b,{units:"degrees",angle:y,steps:n,properties:i}),x=jt(t,l([w])),C={meanCenterCoordinates:V(s),semiMajorAxis:_,semiMinorAxis:b,numberOfFeatures:o,angle:y,percentageWithinEllipse:100*L(x).length/o};return w.properties.standardDeviationalEllipse=C,w},t.difference=function(t,n){var r=H(t),i=H(n),o=t.properties||{};if(r=Vi(r),i=Vi(i),!r)return null;if(!i)return e(r,o);var s=new Sc,a=s.read(r),u=s.read(i),l=Pf.difference(a,u);return l.isEmpty()?null:e((new Ec).write(l),o)},t.buffer=function(t,e,n){var r=(n=n||{}).units,i=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");i=i||64,r=r||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return A(t,(function(t){var n=So(t,e,r,i);n&&o.push(n)})),l(o);case"FeatureCollection":return N(t,(function(t){var n=So(t,e,r,i);n&&N(n,(function(t){t&&o.push(t)}))})),l(o)}return So(t,e,r,i)},t.union=Oo,t.intersect=Mo,t.dissolve=function(t,e){if(e=e||{},!E(e))throw new Error("options is invalid");var n=e.propertyName;W(t,"Polygon","dissolve");var r=Ft(t),i=r.features,o=[];i.forEach((function(t,e){t.properties.origIndexPosition=e}));var s=Ke();for(var u in s.load(r),i){var l=i[u],c=!1;if(s.search(l).features.forEach((function(t){l=i[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var r=To(e,o);0!==r&&(e-=r)}if(e!==+u){var p=i[e];p&&l&&(void 0!==n&&p.properties[n]!==l.properties[n]||Lr(l,p)&&function(t,e){var n=a(L(t)),r=a(L(e));return nn(n,r).features.length>0}(l,p)&&(i[u]=Oo(l,p),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),s.remove(t),i.splice(e,1),l.properties.origIndexPosition=u,s.remove(l,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),c=!0))}})),c){if(!l)continue;l.properties.origIndexPosition=u,s.insert(l),u--}}return i.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),r},t.hexGrid=No,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),r=function(t){var e=[],n=[];return R(t,(function(t){var r=t.geometry.coordinates,i=r[0],s=r.slice(1);e.push(o([i])),s.forEach((function(t){n.push(o([t]))}))})),[l(e),l(n)]}(t),i=r[0],s=r[1];return function(t,e,n){var r=[];return r.push(t.geometry.coordinates[0]),R(e,(function(t){r.push(t.geometry.coordinates[0])})),R(n,(function(t){r.push(t.geometry.coordinates[0])})),o(r)}(n,i=jo(i),s=jo(s))},t.squareGrid=Ao,t.triangleGrid=ko,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(W(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var s,a=q(t);switch(r){case"point":case"points":s=Mn(a,e,n);break;case"square":case"squares":s=Ao(a,e,n);break;case"hex":case"hexes":s=No(a,e,n);break;case"triangle":case"triangles":s=ko(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return N(s,(function(e){var s=0,a=0;N(t,(function(t){var u,l=Dt("point"===r?e:ge(e),t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(s=u);var c=1/Math.pow(l,o);a+=c,s+=c*u}));var l=Ft(e);l.properties[i]=s/a,u.push(l)})),l(u)},t.pointOnSurface=gn,t.polygonToLineString=Gn,t.lineStringToPolygon=qn,t.inside=Tt,t.within=jt,t.bezier=ue,t.nearest=Re,t.pointOnLine=on,t.lineDistance=Sn,t.radians2degrees=_,t.degrees2radians=b,t.distanceToDegrees=m,t.distanceToRadians=g,t.radiansToDistance=y,t.bearingToAngle=v,t.convertDistance=w,t.toMercator=ln,t.toWgs84=cn,t.randomPosition=mi,t.randomPoint=vi,t.randomPolygon=_i,t.randomLineString=bi,t.getCluster=xi,t.clusterEach=Si,t.clusterReduce=Ei,t.createBins=Ci,t.applyFilter=Pi,t.propertiesContainsFilter=Ii,t.filterProperties=Oi,t.earthRadius=Ro,t.factors=Do,t.unitsFactors=Fo,t.areaFactors=Bo,t.feature=e,t.geometry=n,t.point=r,t.points=i,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=u,t.featureCollection=l,t.multiLineString=c,t.multiPoint=p,t.multiPolygon=h,t.geometryCollection=f,t.round=d,t.radiansToLength=y,t.lengthToRadians=g,t.lengthToDegrees=m,t.bearingToAzimuth=v,t.radiansToDegrees=_,t.degreesToRadians=b,t.convertLength=w,t.convertArea=x,t.isNumber=S,t.isObject=E,t.validateBBox=C,t.validateId=P,t.getCoord=z,t.getCoords=V,t.containsNumber=Z,t.geojsonType=X,t.featureOf=Y,t.collectionOf=W,t.getGeom=H,t.getGeomType=J,t.getType=Q,t.coordEach=I,t.coordReduce=O,t.propEach=M,t.propReduce=T,t.featureEach=N,t.featureReduce=j,t.coordAll=L,t.geomEach=A,t.geomReduce=k,t.flattenEach=R,t.flattenReduce=D,t.segmentEach=F,t.segmentReduce=B,t.lineEach=G,t.lineReduce=U,Object.defineProperty(t,"__esModule",{value:!0})}))},,function(t,e){},,,,,function(t,e,n){(function(t,n){(function(t,n){n(e)})(0,(function(e){"use strict";var r=8,i={version:{required:!0,type:"enum",values:[8],doc:"样式规格版本号.必须是8.",example:8},name:{type:"string",doc:"样式名称.",example:"Bright"},metadata:{type:"*",doc:"样式属性元数据前缀, 比如 'mapgis:'或者'mapbox'."},center:{type:"array",value:"number",doc:"地图中心点，[经度, 纬度].",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"默认缩放级别，请注意可以是小数如2.31级.",example:12.5},bearing:{type:"number",default:0,period:360,units:"degrees",doc:'整个地图旋转角度 "上"; 举例说明, 默认指北针为0度.',example:29},pitch:{type:"number",default:0,units:"degrees",doc:"地图视角，默认俯视视图（0度）.",example:50},light:{type:"light",doc:"全局光线设置.",example:{anchor:"viewport",color:"white",intensity:.4}},sources:{required:!0,type:"sources",doc:"数据源.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"图例版设置。由元数据sprite.json和图例版sprite.png组成. `.png`, `.json` 该参数作用于 `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, `icon-image` 等属性.",example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"字体库设置。URL地址中必须有 `{fontstack}` 以及 `{range}` 参数. `text-field` 参数使用. fontstack表示某个字体：黑体,宋体等。range表示字符的范围",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"动画过渡时间. `transition` 参数使用.",example:{duration:300,delay:0}},layers:{required:!0,type:"array",value:"layer",doc:"地图文档，按照该数组的顺序绘制图层.",example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},o={"*":{type:"source",doc:"每个图层都对应各自的数据源. 对于栅格瓦片/矢量瓦片/GeoJson提供一个URL/Json地址. 针对图片或者视频资源,只能是URL地址."}},s=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],a={type:{required:!0,type:"enum",values:{vector:{doc:"矢量瓦片数据源."}},doc:"数据源类型."},url:{type:"string",doc:"URL地址.支持协议: `http:`, `https:`."},tiles:{type:"array",value:"string",doc:"URLs数组,多Domin支持."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"一组数据表示外包矩形的东南/西北角: `[sw.lng, sw.lat, ne.lng, ne.lat]`."},scheme:{type:"enum",values:{xyz:{doc:"xyz瓦片方案."},tms:{doc:"OSGeo瓦片规格方案"}},default:"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number",default:0,doc:"瓦片最小级别, 遵循TileJSON规范."},maxzoom:{type:"number",default:22,doc:"瓦片最大级别, 遵循TileJSON规范. 当缩放级别超过该级别后，使用该级别的瓦片."},attribution:{type:"string",doc:"地图图层来源."},"*":{type:"*",doc:"其他键值."}},u={type:{required:!0,type:"enum",values:{raster:{doc:"栅格瓦片数据源."}},doc:"数据源类型."},url:{type:"string",doc:"栅格瓦片Url. 下面是支持协议`http:`, `https:`."},tiles:{type:"array",value:"string",doc:"URLs数组,多Domin支持."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"经纬度数组[xmin,ymin,xmax,ymax]."},minzoom:{type:"number",default:0,doc:"瓦片最小级别, 遵循TileJSON规范."},maxzoom:{type:"number",default:22,doc:"瓦片最大级别, 遵循TileJSON规范. 当缩放级别超过该级别后，使用该级别的瓦片."},tileSize:{type:"number",default:512,units:"pixels",doc:"瓦片像素大小，默认512px."},scheme:{type:"enum",values:{xyz:{doc:"xyz瓦片方案."},tms:{doc:"OSGeo瓦片规格方案."}},default:"xyz",doc:"瓦片切分方案，默认Web墨卡托."},attribution:{type:"string",doc:"地图图层来源."},"*":{type:"*",doc:"其他键值."}},l={type:{required:!0,type:"enum",values:{"raster-dem":{doc:"RGB编码的栅格DEM数据源"}},doc:"数据源类型."},url:{type:"string",doc:"URL地址.支持协议: `http:`, `https:`."},tiles:{type:"array",value:"string",doc:"URLs数组,多Domin支持."},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129],doc:"经纬度数组[xmin,ymin,xmax,ymax]"},minzoom:{type:"number",default:0,doc:"瓦片最小级别, 遵循TileJSON规范"},maxzoom:{type:"number",default:22,doc:"瓦片最大级别, 遵循TileJSON规范. 当缩放级别超过该级别后，使用该级别的瓦片"},tileSize:{type:"number",default:512,units:"pixels",doc:"瓦片像素大小，默认512px."},attribution:{type:"string",doc:"地图图层来源."},encoding:{type:"enum",values:{terrarium:{doc:"地形PNG瓦片. 链接https://aws.amazon.com/es/public-datasets/terrain/."},mapbox:{doc:"地形RGB瓦片. 链接https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb."}},default:"mapbox",doc:"地形编码方式：默认地形RGB瓦片"},"*":{type:"*",doc:"其他键值"}},c={type:{required:!0,type:"enum",values:{geojson:{doc:"GeoJSON数据源."}},doc:"GeoJSON数据源类型."},data:{type:"*",doc:"GeoJSON-URL/内联GeoJSON对象."},maxzoom:{type:"number",default:18,doc:"瓦片最大级别, 超出裁剪成矢量瓦片 (提供更精细显示)."},attribution:{type:"string",doc:"地图图层来源."},buffer:{type:"number",default:128,maximum:512,minimum:0,doc:"缓冲半径."},tolerance:{type:"number",default:.375,doc:"道格拉斯扑克算法化简阈值(越大化简越厉害，体积越小，预览更流畅)."},cluster:{type:"boolean",default:!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},clusterRadius:{type:"number",default:50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered)."},lineMetrics:{type:"boolean",default:!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean",default:!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."}},p={type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},h={type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},f={id:{type:"string",title:"图层ID",doc:"图层唯一名称.",required:!0},type:{type:"enum",values:{fill:{doc:"区","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"线","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"注记&图标","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"点","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"热力图","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"立体区","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"栅格瓦片.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"地形瓦片","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"背景","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}}},title:"图层类型",doc:"图层类型",required:!0},metadata:{type:"*",title:"元数据描述",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},source:{type:"string",title:"数据源",doc:"数据源，对应中地Mapx发布到IGServer的名字. 只有`背景`不需要."},"source-layer":{type:"string",title:"数据源图层",doc:"矢量瓦片数据源中的图层名，对应中地Mapx的图层. 只有矢量瓦片图层才设置"},minzoom:{type:"number",minimum:0,maximum:24,title:"最小级别",doc:"图层最小显示级别. 如果缩放级别小于最小级别, 图层隐藏."},maxzoom:{type:"number",minimum:0,maximum:24,title:"最大级别",doc:"瓦片最大级别，超出不显示."},filter:{type:"filter",title:"过滤条件",doc:"过滤条件. 不支持`feature-state`表达式."},layout:{type:"layout",title:"布局",doc:"图层布局参数."},paint:{type:"paint",title:"画笔",doc:"图层画笔参数."}},d=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],y={visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},g={visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},m={visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},v={visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},_={"line-cap":{type:"enum",values:{butt:{doc:"尖头."},round:{doc:"圆头."},square:{doc:"平头."}},default:"butt",name:"线头",doc:"线头类型.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{doc:"斜角."},round:{doc:"圆角."},miter:{doc:"接角."}},default:"miter",name:"拐角",doc:"拐角类型.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,minimum:1,name:"平滑尖角",doc:"用来平滑尖角，实质上是将尖角的三角形打碎成更多圆角三角形.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,minimum:1,name:"锐化圆角",doc:"用来锐化圆角，实质上将圆角的三角形合并成更少的三角形.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},"property-type":"constant"}},b={"symbol-placement":{type:"enum",values:{point:{doc:"注记显示在点上."},line:{doc:"注记延申显示在线上.  `LineString` 和 `Polygon` 生效."},"line-center":{doc:"注记显示在线中心点. `LineString` 和 `Polygon` 生效."}},default:"point",name:"位置",doc:"注记位置.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",name:"间距",doc:"符号间距.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,name:"碰撞避让",doc:"碰撞避免. 注记密集时推荐使用.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-z-order":{type:"enum",values:{"viewport-y":{doc:"按照视图的Y轴排序."},source:{doc:"按照数据源本身的位置设置."}},default:"viewport-y",doc:"同一图层的注记的位置顺序","sdk-support":{"basic functionality":{js:"0.49.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,name:"符号覆盖",doc:"是否允许重复位置覆盖显示.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,name:"符号碰撞",doc:"文字和图片碰撞时保持显示.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,name:"符号隐藏",doc:"和其他注记冲突的时候,如果文字没被压盖，显示文字，隐藏图标.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{icon:"icon-map1",doc:"当`symbol-placement` 设置 `point`, 方向对齐西北(左上)角. 当 `symbol-placement` 设置 `line` 或者 `line-center`, X轴对齐线方向."},viewport:{icon:"icon-streetview",doc:"随当前视角/数据形态（线的方向）一致，保持图片的X轴与视图的X轴对齐,忽视参数 `symbol-placement`."},auto:{icon:"icon-automergecell",doc:"当 `symbol-placement` 为 `point`, 等于 `viewport`.当 `symbol-placement` 为 `line` 或者 `line-center`,等于 `map`."}},default:"auto",name:"符号方向",doc:"与`symbol-placement`配合使用, 决定图形的视图方向.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",name:"大小",doc:"图片的缩放比例.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"图元原始大小."},width:{doc:"适应文字的宽度."},height:{doc:"适应文字的高度."},both:{doc:"适应文字的宽高."}},default:"none",name:"适应文字",doc:"图片适应文字宽高.",requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",doc:"适应文字大小的基础上添加对应的内部padding距离 [上, 右, 下, 左].",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",name:"符号",doc:"sprite.json中对应图片名字.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,minimum:-360,maximum:360,period:360,units:"degrees",name:"角度",doc:"图片旋转角度.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",name:"符号内距",doc:"图片内部padding间距.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,name:"符号朝北",doc:"地图旋转方向变化是保持图片的上下翻转，防止拼接的时候上下颠倒.",requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],name:"偏移",doc:"图片的偏移 [x,y]. ",docs:["x","y"],requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"锚点中心对齐."},left:{doc:"锚点左对齐."},right:{doc:"锚点右对齐."},top:{doc:"锚点上对齐."},bottom:{doc:"锚点下对齐."},"top-left":{doc:"锚点左上对齐."},"top-right":{doc:"锚点右上对齐."},"bottom-left":{doc:"锚点左下对齐."},"bottom-right":{doc:"锚点右下对齐."}},default:"center",doc:"锚点对齐方向.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{icon:"icon-map1",doc:"按照地图位置."},viewport:{icon:"icon-streetview",doc:"按照地图视角."},auto:{icon:"icon-automergecell",doc:"自动 配合`icon-rotation-alignment`."}},default:"auto",doc:"用于道路的注记，表示是延道路方向显示还是生硬的添加图片.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{icon:"icon-map1",doc:"按照地图位置."},viewport:{icon:"icon-streetview",doc:"按照地图视角."},auto:{icon:"icon-automergecell",doc:"自动 配合 `text-rotation-alignment`."}},default:"auto",name:"贴合规则",doc:"用于道路的注记，表示是延道路方向显示还是生硬的添加注记.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{icon:"icon-map1",doc:"当`symbol-placement` 设置 `point`, 方向对齐西北(左上)角. 当 `symbol-placement` 设置 `line` 或者 `line-center`, X轴对齐线方向."},viewport:{icon:"icon-streetview",doc:"随当前视角/数据形态（线的方向）一致，保持文字的X轴与视图的X轴对齐,忽视参数 `symbol-placement`."},auto:{icon:"icon-automergecell",doc:"当 `symbol-placement` 为 `point`, 等于 `viewport`.当 `symbol-placement` 为 `line` 或者 `line-center`,等于 `map`."}},default:"auto",name:"文字方向",doc:"与`symbol-placement`配合使用, 决定文字的视图方向.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,name:"字段",doc:"固定语法{field_name}，请不要忘记{}号","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["宋体","宋体"],name:"字体",doc:"显示字体,[黑体,宋体].",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",name:"字号",doc:"字体大小，默认16.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",name:"最大宽度",doc:"字体最大宽度，默认10 ems.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,minimum:0,units:"ems",name:"行高",doc:"字体高度,默认 1.2 ems.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,minimum:0,units:"ems",name:"间距",doc:"字体空格大小，间距长度，默认单位em.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{left:{doc:"左对齐."},center:{doc:"中心对齐."},right:{doc:"右对齐."}},default:"center",name:"文字对齐",doc:"文字对齐方式.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{doc:"锚点中心对齐."},left:{doc:"锚点左对齐."},right:{doc:"锚点右对齐."},top:{doc:"锚点上对齐."},bottom:{doc:"锚点下对齐."},"top-left":{doc:"锚点左上对齐."},"top-right":{doc:"锚点右上对齐."},"bottom-left":{doc:"锚点左下对齐."},"bottom-right":{doc:"锚点右下对齐."}},default:"center",name:"锚点",doc:"锚点对齐方向.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,minimum:-360,maximum:360,units:"degrees",name:"最大角度",doc:"针对拐角处，相邻字符的最大角度差.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,minimum:-360,maximum:360,period:360,units:"degrees",name:"旋转角度",doc:"文字旋转方向，单位：度.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",name:"文字内距",doc:"文字的padding内间距，单位像素.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,name:"文字朝北",doc:"地图旋转方向变化是保持文字的上下翻转，就是防止文字拼接的时候上下颠倒.",requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{name:"不变",doc:"保持不变."},uppercase:{name:"大写",doc:"全部大写."},lowercase:{name:"小写",doc:"全部小写."}},default:"none",name:"大小写",doc:"显示文字的时候是全大写、全小写，保持不变.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",name:"偏移",doc:"文字的偏移 [x,y].",docs:["x","y"],value:"number",units:"ems",length:2,default:[0,0],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,name:"文字压盖",doc:"和其他注记有压盖关系时，当前文字保持可见.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,name:"文字碰撞",doc:"文字发生碰撞时，保持可见.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,name:"文字隐藏",doc:"表示和其他注记冲突的时候,如果图标没被压盖，显示图标，隐藏文字.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},"property-type":"constant"}},w={visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},"property-type":"constant"}},x={visibility:{type:"enum",values:{visible:{doc:"可见."},none:{doc:"隐藏."}},default:"visible",doc:"图层可见/隐藏.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},"property-type":"constant"}},S={type:"array",value:"*",doc:"过滤图元."},E={type:"enum",values:{"==":{doc:'`["==", key, value]` 等于: `feature[key] = value`'},"!=":{doc:'`["!=", key, value]` 不等于: `feature[key] ≠ value`'},">":{doc:'`[">", key, value]` 大于: `feature[key] > value`'},">=":{doc:'`[">=", key, value]` 大于等于: `feature[key] ≥ value`'},"<":{doc:'`["<", key, value]` 小于: `feature[key] < value`'},"<=":{doc:'`["<=", key, value]` 小于等于: `feature[key] ≤ value`'},in:{doc:'`["in", key, v0, ..., vn]` 在范围内: `feature[key] ∈ {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` 在范围外: `feature[key] ∉ {v0, ..., vn}`'},all:{doc:'`["all", f0, ..., fn]` 逻辑与 `AND`: `f0 ∧ ... ∧ fn`'},any:{doc:'`["any", f0, ..., fn]` 逻辑或 `OR`: `f0 ∨ ... ∨ fn`'},none:{doc:'`["none", f0, ..., fn]` 逻辑异或 `NOR`: `¬f0 ∧ ... ∧ ¬fn`'},has:{doc:'`["has", key]` `feature[key]` 存在'},"!has":{doc:'`["!has", key]` `feature[key]` 不存在'}},doc:"过滤操作."},C={type:"enum",values:{Point:{doc:"点图元."},LineString:{doc:"线图元 ."},Polygon:{doc:"区图元."}},doc:"选择过滤图元类型."},P={type:"array",minimum:0,maximum:22,value:["number","color"],length:2,doc:"Zoom level and value pair."},I={type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},O={doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},var:{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},case:{doc:"Selects the first output whose corresponding test condition evaluates to true.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output whose label value matches the input value, or the fallback value if no match is found. The input can be any expression (e.g. `["get", "building_type"]`). Each label must either be a single literal value or an array of literal values (e.g. `"a"` or `["c", "b"]`), and those values must be all strings or all numbers. (The values `"1"` and `1` cannot both be labels in the same match expression.) If the input type does not match the type of the labels, the result will be the fallback value.',group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first non-null value is obtained, and returns that value.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first input if the input is less than the first stop.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array<number>`, or `color`.\n\nInterpolation types:\n- `["linear"]`: interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: interpolates using the cubic bezier curve defined by the given control points.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},typeof:{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:"Returns `formatted` text containing annotations for use in mixed-format `text-field` entries. If set, the `text-font` argument overrides the font specified by the root layout properties. If set, the `font-scale` argument specifies a scaling factor relative to the `text-size` specified in the root layout properties.",group:"Types","sdk-support":{"basic functionality":{js:"0.48.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a boolean, the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a color, it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns null if the requested property is missing.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Gets the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Gets the feature properties object.  Note that in some cases, it may be more efficient to use ["get", "property_name"] directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns null if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Gets the feature's geometry type: Point, MultiPoint, LineString, MultiLineString, Polygon, MultiPolygon.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Gets the feature's id, if it has one.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Gets the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Zoom","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"heatmap-density":{doc:"Gets the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Gets the progress along a gradient line. Can only be used in the `line-gradient` property.",group:"Heatmap"},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"==":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!=":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},">=":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"<=":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String"},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},M={anchor:{type:"enum",default:"viewport",values:{map:{icon:"icon-map1",doc:"The position of the light source is aligned to the rotation of the map."},viewport:{icon:"icon-streetview",doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0° (0° when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0° when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0°, directly above, to 180°, directly below).",example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},T=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],N={"fill-antialias":{type:"boolean",default:!0,name:"抗锯齿",doc:"抗锯齿.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,name:"透明度",doc:"透明度.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",name:"颜色",doc:"颜色.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",name:"边线颜色",doc:"边线颜色，注意没有边线宽度这个参数.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",name:"偏移",doc:"显示位置基于原始位置上,再按照屏幕坐标进行偏移[x, y].",docs:["x","y"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"基于地图位置偏移."},viewport:{icon:"icon-streetview",doc:"基于地图视图偏移."}},name:"偏移规则",doc:"配合`fill-translate`控制偏移.",default:"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,name:"符号",doc:"区的填充图片类型，一定要与对应的样式库Sprite.json中的图片名字一一对应.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},j={"line-opacity":{type:"number",name:"透明度",doc:"透明度.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",name:"颜色",doc:"颜色.",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",name:"屏幕偏移",doc:"显示位置基于原始位置上,再按照屏幕坐标进行偏移[x, y].",docs:["x","y"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"基于地图位置偏移."},viewport:{icon:"icon-streetview",doc:"基于地图视图偏移."}},name:"锚点偏移",doc:"配合`line-translate`控制偏移.",default:"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",name:"线宽",doc:"线宽.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,name:"沟宽",doc:"线的沟宽，如果有一条线会变成2条线，中间有条沟.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,name:"偏移",doc:"线的偏移，如果这个值相对大的话在拐角处很容易变形变胖.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",name:"模糊度",doc:"模糊度，和宽度配合使用，当宽度20，模糊度10时，出现边线模糊的效果，该值要小于线宽度.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",name:"虚线",default:[5,5],doc:"实线、虚线的组合，可以表示铁路线等.",docs:["实线","虚线"],minimum:0,transition:!0,units:"像素",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,name:"符号",doc:"线的平铺图片类型，一定要与对应的样式库Sprite.json中的图片名字一一对应.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",name:"梯度",doc:'定义线梯度. 必须GeoJSON设置 `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},L={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",name:"半径",doc:"半径,单位像素pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",name:"颜色",doc:"颜色.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,name:"模糊度",doc:"模糊度，越高越模糊.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",name:"透明度",doc:"0～1.0, 透明度，越低越透明.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",name:"偏移",doc:"显示位置基于原始位置上,再按照屏幕坐标进行偏移[x, y].",docs:["x","y"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"基于地图位置偏移."},viewport:{icon:"icon-streetview",doc:"基于地图视图偏移."}},name:"锚点偏移",doc:"配合`circle-translate`控制偏移.",default:"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{icon:"icon-map1",doc:"点跟随相机距离缩放."},viewport:{icon:"icon-streetview",doc:"点不跟随缩放."}},default:"map",name:"倾斜比例",doc:"根据到相机的距离控制缩放大小.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{icon:"icon-map1",doc:"点对齐地图平面."},viewport:{icon:"icon-streetview",doc:"点对齐地图视角."}},default:"viewport",name:"倾斜贴合",doc:"当地图倾斜视角时，控制点的方向.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",name:"宽度",doc:"边线宽度，对应 `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",name:"颜色",doc:"边线颜色.",transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",name:"透明度",doc:"边线透明度.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},A={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},k={"icon-opacity":{name:"透明度",doc:"图片透明度.",type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,doc:"图片颜色. 只能用于sdf类型图片.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,doc:"图片光环颜色，只能用于SDF类型图片.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"图片光晕宽度.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",doc:"图片光晕模糊度.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",name:"符号偏移",doc:"显示位置基于原始位置上,再按照屏幕坐标进行偏移[x, y].",docs:["x","y"],requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"基于地图位置偏移."},viewport:{icon:"icon-streetview",doc:"基于地图视图偏移."}},name:"锚点偏移",doc:"配合`line-translate`控制偏移.",default:"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",name:"透明度",doc:"文字透明度.",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",name:"颜色",doc:"文字颜色.",default:"#000000",transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,name:"颜色",doc:"文字光晕颜色.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,maximum:20,transition:!0,units:"pixels",name:"宽度",doc:"文字光晕宽度.建议为 1/4 字体大小.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",name:"模糊度",doc:"文字光晕模糊度,单位像素px",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",name:"文字偏移",doc:"显示位置基于原始位置上,再按照屏幕坐标进行偏移[x, y].",docs:["x","y"],requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"基于地图位置偏移."},viewport:{icon:"icon-streetview",doc:"基于地图视图偏移."}},name:"锚点偏移",doc:"配合`text-translate`控制偏移.",default:"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},R={"raster-opacity":{type:"number",doc:"栅格瓦片透明度.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",doc:"栅格瓦片色调调整.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"最小亮度-增加/减少亮度，默认0，最大1.",default:0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",doc:"最大亮度-增加/减少亮度，默认0，最大1.",default:1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"栅格瓦片饱和度.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"栅格瓦片对比度，-1 ~ 1.",default:0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"栅格瓦片重采样",values:{linear:{doc:"(Bi)line线性插值采样"},nearest:{doc:"Nearest neighbor邻近插值采样"}},default:"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",doc:"新栅格瓦片渲染褪色时间.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},D={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"The hillshade illumination is relative to the north direction."},viewport:{icon:"icon-streetview",doc:"The hillshade illumination is relative to the top of the viewport."}},default:"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade",default:.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",doc:"The shading color of areas that face away from the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},F={"background-color":{type:"color",default:"#000000",doc:"颜色.",transition:!0,requires:[{"!":"background-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",name:"符号",transition:!0,doc:"背景的填充图片类型，一定要与对应的样式库Sprite.json中的图片名字一一对应.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,doc:"透明度.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},B={duration:{type:"number",default:300,minimum:0,units:"milliseconds",doc:"过渡动画时间，默认300毫秒."},delay:{type:"number",default:0,minimum:0,units:"milliseconds",doc:"过渡时间延迟，单位：毫秒."}},G={$version:r,$root:i,sources:o,source:s,source_vector:a,source_raster:u,source_raster_dem:l,source_geojson:c,source_video:p,source_image:h,layer:f,layout:d,layout_background:y,layout_fill:g,layout_circle:m,layout_heatmap:v,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},default:"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:_,layout_symbol:b,layout_raster:w,layout_hillshade:x,filter:S,filter_operator:E,geometry_type:C,function:{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number",default:1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},property:{type:"string",doc:"The name of a feature property to use as the function input.",default:"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",default:"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",default:"rgb"},default:{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},function_stop:P,expression:I,expression_name:O,light:M,paint:T,paint_fill:N,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,name:"透明度",doc:"透明度",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",name:"颜色",doc:"颜色.",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",name:"偏移值",doc:"偏移值 [x, y]",docs:["x","y"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{icon:"icon-map1",doc:"The fill extrusion is translated relative to the map."},viewport:{icon:"icon-streetview",doc:"The fill extrusion is translated relative to the viewport."}},name:"偏移规则",doc:"偏移锚点",default:"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,name:"符号",doc:"符号库名称.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,maximum:1e3,units:"meters",name:"高度",doc:"高度.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,maximum:1e3,units:"meters",name:"底高",doc:"底高",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,name:"垂直变化",doc:"垂直变化.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:j,paint_circle:L,paint_heatmap:A,paint_symbol:k,paint_raster:R,paint_hillshade:D,paint_background:F,transition:B,"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}}};function U(t,e){e=e||{};var n=JSON.stringify([1],null,V(e,"indent",2)).slice(2,-3),r=V(e,"margins",!1),i=""===n?1/0:V(e,"maxLength",80);return function t(e,o,s){e&&"function"===typeof e.toJSON&&(e=e.toJSON());var a=JSON.stringify(e);if(void 0===a)return a;var u=i-o.length-s;if(a.length<=u){var l=z(a,r);if(l.length<=u)return l}if("object"===typeof e&&null!==e){var c,p=o+n,h=[],f=function(t,e){return e===t.length-1?0:1};if(Array.isArray(e)){for(var d=0;d<e.length;d++)h.push(t(e[d],p,f(e,d))||"null");c="[]"}else Object.keys(e).forEach((function(n,r,i){var o=JSON.stringify(n)+": ",s=t(e[n],p,o.length+f(i,r));void 0!==s&&h.push(o+s)})),c="{}";if(h.length>0)return[c[0],n+h.join(",\n"+p),c[1]].join("\n"+o)}return a}(t,"",0)}var q=/("(?:[^\\"]|\\.)*")|[:,\][}{]/g;function z(t,e){var n=e?" ":"",r={"{":"{"+n,"[":"["+n,"}":n+"}","]":n+"]",",":", ",":":": "};return t.replace(q,(function(t,e){return e?t:r[t]}))}function V(t,e,n){return e in t?t[e]:n}var Z=U;function X(t,e){var n={};for(var r in e)void 0!==t[r]&&(n[r]=t[r]);for(var i in t)void 0===n[i]&&(n[i]=t[i]);return n}function Y(t,e){return void 0===e&&(e=2),t=X(t,G.$root),t.layers&&(t.layers=t.layers.map((function(t){return X(t,G.layer)}))),Z(t,{indent:e})}var W="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};function H(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function J(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Q=J((function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,o="object"==typeof W&&W;o.global!==o&&o.window!==o&&o.self!==o||(n=o);var s,a,u=2147483647,l=36,c=1,p=26,h=38,f=700,d=72,y=128,g="-",m=/^xn--/,v=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-c,x=Math.floor,S=String.fromCharCode;function E(t){throw RangeError(b[t])}function C(t,e){var n=t.length,r=[];while(n--)r[n]=e(t[n]);return r}function P(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(_,".");var i=t.split("."),o=C(i,e).join(".");return r+o}function I(t){var e,n,r=[],i=0,o=t.length;while(i<o)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function O(t){return C(t,(function(t){var e="";return t>65535&&(t-=65536,e+=S(t>>>10&1023|55296),t=56320|1023&t),e+=S(t),e})).join("")}function M(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:l}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function N(t,e,n){var r=0;for(t=n?x(t/f):t>>1,t+=x(t/e);t>w*p>>1;r+=l)t=x(t/w);return x(r+(w+1)*t/(t+h))}function j(t){var e,n,r,i,o,s,a,h,f,m,v=[],_=t.length,b=0,w=y,S=d;for(n=t.lastIndexOf(g),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&E("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(o=b,s=1,a=l;;a+=l){if(i>=_&&E("invalid-input"),h=M(t.charCodeAt(i++)),(h>=l||h>x((u-b)/s))&&E("overflow"),b+=h*s,f=a<=S?c:a>=S+p?p:a-S,h<f)break;m=l-f,s>x(u/m)&&E("overflow"),s*=m}e=v.length+1,S=N(b-o,e,0==o),x(b/e)>u-w&&E("overflow"),w+=x(b/e),b%=e,v.splice(b++,0,w)}return O(v)}function L(t){var e,n,r,i,o,s,a,h,f,m,v,_,b,w,C,P=[];for(t=I(t),_=t.length,e=y,n=0,o=d,s=0;s<_;++s)v=t[s],v<128&&P.push(S(v));r=i=P.length,i&&P.push(g);while(r<_){for(a=u,s=0;s<_;++s)v=t[s],v>=e&&v<a&&(a=v);for(b=r+1,a-e>x((u-n)/b)&&E("overflow"),n+=(a-e)*b,e=a,s=0;s<_;++s)if(v=t[s],v<e&&++n>u&&E("overflow"),v==e){for(h=n,f=l;;f+=l){if(m=f<=o?c:f>=o+p?p:f-o,h<m)break;C=h-m,w=l-m,P.push(S(T(m+C%w,0))),h=x(C/w)}P.push(S(T(h,0))),o=N(n,b,r==i),n=0,++r}++n,++e}return P.join("")}function A(t){return P(t,(function(t){return m.test(t)?j(t.slice(4).toLowerCase()):t}))}function k(t){return P(t,(function(t){return v.test(t)?"xn--"+L(t):t}))}if(s={version:"1.3.2",ucs2:{decode:I,encode:O},decode:j,encode:L,toASCII:k,toUnicode:A},r&&i)if(t.exports==r)i.exports=s;else for(a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);else n.punycode=s})(W)})),K={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}};function $(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var tt=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if("string"!==typeof t||0===t.length)return i;var o=/\+/g;t=t.split(e);var s=1e3;r&&"number"===typeof r.maxKeys&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var l,c,p,h,f=t[u].replace(o,"%20"),d=f.indexOf(n);d>=0?(l=f.substr(0,d),c=f.substr(d+1)):(l=f,c=""),p=decodeURIComponent(l),h=decodeURIComponent(c),$(i,p)?Array.isArray(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i},et=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},nt=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?Object.keys(t).map((function(r){var i=encodeURIComponent(et(r))+n;return Array.isArray(t[r])?t[r].map((function(t){return i+encodeURIComponent(et(t))})).join(e):i+encodeURIComponent(et(t[r]))})).join(e):r?encodeURIComponent(et(r))+n+encodeURIComponent(et(t)):""},rt=J((function(t,e){e.decode=e.parse=tt,e.encode=e.stringify=nt})),it=(rt.decode,rt.parse,rt.encode,rt.stringify,Et),ot=Pt,st=It,at=Ct,ut=lt;function lt(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var ct=/^([a-z0-9.+-]+:)/i,pt=/:[0-9]*$/,ht=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ft=["<",">",'"',"`"," ","\r","\n","\t"],dt=["{","}","|","\\","^","`"].concat(ft),yt=["'"].concat(dt),gt=["%","/","?",";","#"].concat(yt),mt=["/","?","#"],vt=255,_t=/^[+a-z0-9A-Z_-]{0,63}$/,bt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wt={javascript:!0,"javascript:":!0},xt={javascript:!0,"javascript:":!0},St={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Et(t,e,n){if(t&&K.isObject(t)&&t instanceof lt)return t;var r=new lt;return r.parse(t,e,n),r}function Ct(t){return K.isString(t)&&(t=Et(t)),t instanceof lt?t.format():lt.prototype.format.call(t)}function Pt(t,e){return Et(t,!1,!0).resolve(e)}function It(t,e){return t?Et(t,!1,!0).resolveObject(e):e}lt.prototype.parse=function(t,e,n){if(!K.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=-1!==r&&r<t.indexOf("#")?"?":"#",o=t.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(i);var a=t;if(a=a.trim(),!n&&1===t.split("#").length){var u=ht.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],this.query=e?rt.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=ct.exec(a);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,a=a.substr(l.length)}if(n||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var p="//"===a.substr(0,2);!p||l&&xt[l]||(a=a.substr(2),this.slashes=!0)}if(!xt[l]&&(p||l&&!St[l])){for(var h,f,d=-1,y=0;y<mt.length;y++){var g=a.indexOf(mt[y]);-1!==g&&(-1===d||g<d)&&(d=g)}f=-1===d?a.lastIndexOf("@"):a.lastIndexOf("@",d),-1!==f&&(h=a.slice(0,f),a=a.slice(f+1),this.auth=decodeURIComponent(h)),d=-1;for(y=0;y<gt.length;y++){g=a.indexOf(gt[y]);-1!==g&&(-1===d||g<d)&&(d=g)}-1===d&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var v=this.hostname.split(/\./),_=(y=0,v.length);y<_;y++){var b=v[y];if(b&&!b.match(_t)){for(var w="",x=0,S=b.length;x<S;x++)b.charCodeAt(x)>127?w+="x":w+=b[x];if(!w.match(_t)){var E=v.slice(0,y),C=v.slice(y+1),P=b.match(bt);P&&(E.push(P[1]),C.unshift(P[2])),C.length&&(a="/"+C.join(".")+a),this.hostname=E.join(".");break}}}this.hostname.length>vt?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=Q.toASCII(this.hostname));var I=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+I,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!wt[c])for(y=0,_=yt.length;y<_;y++){var M=yt[y];if(-1!==a.indexOf(M)){var T=encodeURIComponent(M);T===M&&(T=escape(M)),a=a.split(M).join(T)}}var N=a.indexOf("#");-1!==N&&(this.hash=a.substr(N),a=a.slice(0,N));var j=a.indexOf("?");if(-1!==j?(this.search=a.substr(j),this.query=a.substr(j+1),e&&(this.query=rt.parse(this.query)),a=a.slice(0,j)):e&&(this.search="",this.query={}),a&&(this.pathname=a),St[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){I=this.pathname||"";var L=this.search||"";this.path=I+L}return this.href=this.format(),this},lt.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&K.isObject(this.query)&&Object.keys(this.query).length&&(o=rt.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||St[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})),s=s.replace("#","%23"),e+i+n+s+r},lt.prototype.resolve=function(t){return this.resolveObject(Et(t,!1,!0)).format()},lt.prototype.resolveObject=function(t){if(K.isString(t)){var e=new lt;e.parse(t,!1,!0),t=e}for(var n=new lt,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=t[u])}return St[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!St[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var p=l[c];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||xt[t.protocol])n.pathname=t.pathname;else{var h=(t.pathname||"").split("/");while(h.length&&!(t.host=h.shift()));t.host||(t.host=""),t.hostname||(t.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var f=n.pathname||"",d=n.search||"";n.path=f+d}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),m=g||y||n.host&&t.pathname,v=m,_=n.pathname&&n.pathname.split("/")||[],b=(h=t.pathname&&t.pathname.split("/")||[],n.protocol&&!St[n.protocol]);if(b&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===h[0]?h[0]=t.host:h.unshift(t.host)),t.host=null),m=m&&(""===h[0]||""===_[0])),g)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,_=h;else if(h.length)_||(_=[]),_.pop(),_=_.concat(h),n.search=t.search,n.query=t.query;else if(!K.isNullOrUndefined(t.search)){if(b){n.hostname=n.host=_.shift();var w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return n.search=t.search,n.query=t.query,K.isNull(n.pathname)&&K.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=_.slice(-1)[0],S=(n.host||t.host||_.length>1)&&("."===x||".."===x)||""===x,E=0,C=_.length;C>=0;C--)x=_[C],"."===x?_.splice(C,1):".."===x?(_.splice(C,1),E++):E&&(_.splice(C,1),E--);if(!m&&!v)for(;E--;E)_.unshift("..");!m||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),S&&"/"!==_.join("/").substr(-1)&&_.push("");var P=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(b){n.hostname=n.host=P?"":_.length?_.shift():"";w=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");w&&(n.auth=w.shift(),n.host=n.hostname=w.shift())}return m=m||n.host&&_.length,m&&!P&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),K.isNull(n.pathname)&&K.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},lt.prototype.parseHost=function(){var t=this.host,e=pt.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Ot={parse:it,resolve:ot,resolveObject:st,format:at,Url:ut};function Mt(t){for(var e=0;e<G.layout.length;e++)for(var n in G[G.layout[e]])if(n===t)return G[G.layout[e]][n];for(var r=0;r<G.paint.length;r++)for(var i in G[G.paint[r]])if(i===t)return G[G.paint[r]][i];return null}function Tt(t,e){for(var n in t.sources)e(t.sources[n])}function Nt(t,e){for(var n=0,r=t.layers;n<r.length;n+=1){var i=r[n];e(i)}}function jt(t,e,n){function r(t,e){var r=t[e];r&&Object.keys(r).forEach((function(i){n({path:[t.id,e,i],key:i,value:r[i],reference:Mt(i),set:function(t){r[i]=t}})}))}Nt(t,(function(t){e.paint&&r(t,"paint"),e.layout&&r(t,"layout")}))}function Lt(t,e){for(var n in t)0===n.indexOf("layout")&&e(t[n],n)}function At(t,e){for(var n in t)0===n.indexOf("paint")&&e(t[n],n)}function kt(t,e){return"string"===typeof e&&"@"===e[0]?kt(t,t.constants[e]):e}function Rt(t){return Array.isArray(t.stops)}function Dt(t,e,n){t[n]=t[e],delete t[e]}function Ft(t){function e(t){var e=Ot.parse(t),n=e.pathname.split("/");return"mapbox:"!==e.protocol?t:"fontstack"===e.hostname?"mapbox://fonts/mapbox/{fontstack}/{range}.pbf":"fonts"===e.hostname?"mapbox://fonts/"+n[2]+"/{fontstack}/{range}.pbf":void 0}function n(t){function e(t){return t.split(",").map((function(t){return t.trim()}))}if(Array.isArray(t))return t;if("string"===typeof t)return e(t);if("object"===typeof t)return t.stops.forEach((function(t){t[1]=e(t[1])})),t;throw new Error("unexpected font value")}t.version=8,Tt(t,(function(t){"video"===t.type&&void 0!==t.url&&Dt(t,"url","urls"),"video"===t.type&&t.coordinates.forEach((function(t){return t.reverse()}))})),Nt(t,(function(t){Lt(t,(function(t){void 0!==t["symbol-min-distance"]&&Dt(t,"symbol-min-distance","symbol-spacing")})),At(t,(function(t){void 0!==t["background-image"]&&Dt(t,"background-image","background-pattern"),void 0!==t["line-image"]&&Dt(t,"line-image","line-pattern"),void 0!==t["fill-image"]&&Dt(t,"fill-image","fill-pattern")}))})),jt(t,{paint:!0,layout:!0},(function(e){var n=kt(t,e.value);Rt(n)&&n.stops.forEach((function(e){e[1]=kt(t,e[1])})),e.set(n)})),delete t.constants,Nt(t,(function(t){Lt(t,(function(t){delete t["text-max-size"],delete t["icon-max-size"]})),At(t,(function(e){e["text-size"]&&(t.layout||(t.layout={}),t.layout["text-size"]=e["text-size"],delete e["text-size"]),e["icon-size"]&&(t.layout||(t.layout={}),t.layout["icon-size"]=e["icon-size"],delete e["icon-size"])}))})),t.glyphs&&(t.glyphs=e(t.glyphs)),Nt(t,(function(t){Lt(t,(function(t){t["text-font"]&&(t["text-font"]=n(t["text-font"]))}))}));for(var r=0,i=t.layers.length-1;i>=0;i--){var o=t.layers[i];if("symbol"!==o.type){r=i+1;break}}var s=t.layers.splice(r);return s.reverse(),t.layers=t.layers.concat(s),t}function Bt(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];for(var r=0,i=e;r<i.length;r+=1){var o=i[r];for(var s in o)t[s]=o[s]}return t}var Gt=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Ut=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,r=e;n<r.length;n+=1){var i=r[n],o=i[0],s=i[1];this.bindings[o]=s}};Ut.prototype.concat=function(t){return new Ut(this,t)},Ut.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Ut.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var qt={kind:"null"},zt={kind:"number"},Vt={kind:"string"},Zt={kind:"boolean"},Xt={kind:"color"},Yt={kind:"object"},Wt={kind:"value"},Ht={kind:"error"},Jt={kind:"collator"},Qt={kind:"formatted"};function Kt(t,e){return{kind:"array",itemType:t,N:e}}function $t(t){if("array"===t.kind){var e=$t(t.itemType);return"number"===typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var te=[qt,zt,Vt,Zt,Xt,Qt,Yt,Kt(Wt)];function ee(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!ee(t.itemType,e.itemType))&&("number"!==typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,r=te;n<r.length;n+=1){var i=r[n];if(!ee(i,e))return null}}return"Expected "+$t(t)+" but found "+$t(e)+" instead."}var ne=J((function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(t){return t=Math.round(t),t<0?0:t>255?255:t}function i(t){return t<0?0:t>1?1:t}function o(t){return"%"===t[t.length-1]?r(parseFloat(t)/100*255):r(parseInt(t))}function s(t){return"%"===t[t.length-1]?i(parseFloat(t)/100):i(parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in n)return n[e].slice();if("#"===e[0]){if(4===e.length){var i=parseInt(e.substr(1),16);return i>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null}if(7===e.length){i=parseInt(e.substr(1),16);return i>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null}return null}var u=e.indexOf("("),l=e.indexOf(")");if(-1!==u&&l+1===e.length){var c=e.substr(0,u),p=e.substr(u+1,l-(u+1)).split(","),h=1;switch(c){case"rgba":if(4!==p.length)return null;h=s(p.pop());case"rgb":return 3!==p.length?null:[o(p[0]),o(p[1]),o(p[2]),h];case"hsla":if(4!==p.length)return null;h=s(p.pop());case"hsl":if(3!==p.length)return null;var f=(parseFloat(p[0])%360+360)%360/360,d=s(p[1]),y=s(p[2]),g=y<=.5?y*(d+1):y+d-y*d,m=2*y-g;return[r(255*a(m,g,f+1/3)),r(255*a(m,g,f)),r(255*a(m,g,f-1/3)),h];default:return null}}return null}try{e.parseCSSColor=u}catch(l){}})),re=ne.parseCSSColor,ie=function(t,e,n,r){void 0===r&&(r=1),this.r=t,this.g=e,this.b=n,this.a=r};ie.parse=function(t){if(t){if(t instanceof ie)return t;if("string"===typeof t){var e=re(t);if(e)return new ie(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},ie.prototype.toString=function(){var t=this.toArray(),e=t[0],n=t[1],r=t[2],i=t[3];return"rgba("+Math.round(e)+","+Math.round(n)+","+Math.round(r)+","+i+")"},ie.prototype.toArray=function(){var t=this,e=t.r,n=t.g,r=t.b,i=t.a;return 0===i?[0,0,0,0]:[255*e/i,255*n/i,255*r/i,i]},ie.black=new ie(0,0,0,1),ie.white=new ie(1,1,1,1),ie.transparent=new ie(0,0,0,0),ie.red=new ie(1,0,0,1);var oe=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};oe.prototype.compare=function(t,e){return this.collator.compare(t,e)},oe.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var se=function(t,e,n){this.text=t,this.scale=e,this.fontStack=n},ae=function(t){this.sections=t};function ue(t,e,n,r){if(!("number"===typeof t&&t>=0&&t<=255&&"number"===typeof e&&e>=0&&e<=255&&"number"===typeof n&&n>=0&&n<=255)){var i="number"===typeof r?[t,e,n,r]:[t,e,n];return"Invalid rgba value ["+i.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return"undefined"===typeof r||"number"===typeof r&&r>=0&&r<=1?null:"Invalid rgba value ["+[t,e,n,r].join(", ")+"]: 'a' must be between 0 and 1."}function le(t){if(null===t)return!0;if("string"===typeof t)return!0;if("boolean"===typeof t)return!0;if("number"===typeof t)return!0;if(t instanceof ie)return!0;if(t instanceof oe)return!0;if(t instanceof ae)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!le(r))return!1}return!0}if("object"===typeof t){for(var i in t)if(!le(t[i]))return!1;return!0}return!1}function ce(t){if(null===t)return qt;if("string"===typeof t)return Vt;if("boolean"===typeof t)return Zt;if("number"===typeof t)return zt;if(t instanceof ie)return Xt;if(t instanceof oe)return Jt;if(t instanceof ae)return Qt;if(Array.isArray(t)){for(var e,n=t.length,r=0,i=t;r<i.length;r+=1){var o=i[r],s=ce(o);if(e){if(e===s)continue;e=Wt;break}e=s}return Kt(e||Wt,n)}return Yt}function pe(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof ie||t instanceof ae?t.toString():JSON.stringify(t)}ae.fromString=function(t){return new ae([new se(t,null,null)])},ae.prototype.toString=function(){return this.sections.map((function(t){return t.text})).join("")},ae.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text);var i={};r.fontStack&&(i["text-font"]=["literal",r.fontStack.split(",")]),r.scale&&(i["font-scale"]=r.scale),t.push(i)}return t};var he=function(t,e){this.type=t,this.value=e};he.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!le(t[1]))return e.error("invalid value");var n=t[1],r=ce(n),i=e.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"===typeof i.N&&0!==i.N||(r=i),new he(r,n)},he.prototype.evaluate=function(){return this.value},he.prototype.eachChild=function(){},he.prototype.possibleOutputs=function(){return[this.value]},he.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof ie?["rgba"].concat(this.value.toArray()):this.value instanceof ae?this.value.serialize():this.value};var fe=function(t){this.name="ExpressionEvaluationError",this.message=t};fe.prototype.toJSON=function(){return this.message};var de={string:Vt,number:zt,boolean:Zt,object:Yt},ye=function(t,e){this.type=t,this.args=e};ye.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,r=1,i=t[0];if("array"===i){var o,s;if(t.length>2){var a=t[1];if("string"!==typeof a||!(a in de)||"object"===a)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=de[a],r++}else o=Wt;if(t.length>3){if(null!==t[2]&&("number"!==typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);s=t[2],r++}n=Kt(o,s)}else n=de[i];for(var u=[];r<t.length;r++){var l=e.parse(t[r],r,Wt);if(!l)return null;u.push(l)}return new ye(n,u)},ye.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t),r=ee(this.type,ce(n));if(!r)return n;if(e===this.args.length-1)throw new fe("Expected value to be of type "+$t(this.type)+", but found "+$t(ce(n))+" instead.")}return null},ye.prototype.eachChild=function(t){this.args.forEach(t)},ye.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},ye.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var r=t.N;("number"===typeof r||this.args.length>1)&&e.push(r)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var ge=function(t){this.type=Qt,this.sections=t};ge.parse=function(t,e){if(t.length<3)return e.error("Expected at least two arguments.");if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");for(var n=[],r=1;r<t.length-1;r+=2){var i=e.parse(t[r],1,Wt);if(!i)return null;var o=i.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return e.error("Formatted text type must be 'string', 'value', or 'null'.");var s=t[r+1];if("object"!==typeof s||Array.isArray(s))return e.error("Format options argument must be an object.");var a=null;if(s["font-scale"]&&(a=e.parse(s["font-scale"],1,zt),!a))return null;var u=null;if(s["text-font"]&&(u=e.parse(s["text-font"],1,Kt(Vt)),!u))return null;n.push({text:i,scale:a,font:u})}return new ge(n)},ge.prototype.evaluate=function(t){return new ae(this.sections.map((function(e){return new se(pe(e.text.evaluate(t)),e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null)})))},ge.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t(r.text),r.scale&&t(r.scale),r.font&&t(r.font)}},ge.prototype.possibleOutputs=function(){return[void 0]},ge.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var r=n[e];t.push(r.text.serialize());var i={};r.scale&&(i["font-scale"]=r.scale.serialize()),r.font&&(i["text-font"]=r.font.serialize()),t.push(i)}return t};var me={"to-boolean":Zt,"to-color":Xt,"to-number":zt,"to-string":Vt},ve=function(t,e){this.type=t,this.args=e};ve.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var r=me[n],i=[],o=1;o<t.length;o++){var s=e.parse(t[o],o,Wt);if(!s)return null;i.push(s)}return new ve(r,i)},ve.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,r=0,i=this.args;r<i.length;r+=1){var o=i[r];if(e=o.evaluate(t),n=null,e instanceof ie)return e;if("string"===typeof e){var s=t.parseColor(e);if(s)return s}else if(Array.isArray(e)&&(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":ue(e[0],e[1],e[2],e[3]),!n))return new ie(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new fe(n||"Could not parse color from value '"+("string"===typeof e?e:JSON.stringify(e))+"'")}if("number"===this.type.kind){for(var a=null,u=0,l=this.args;u<l.length;u+=1){var c=l[u];if(a=c.evaluate(t),null===a)return 0;var p=Number(a);if(!isNaN(p))return p}throw new fe("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?ae.fromString(pe(this.args[0].evaluate(t))):pe(this.args[0].evaluate(t))},ve.prototype.eachChild=function(t){this.args.forEach(t)},ve.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},ve.prototype.serialize=function(){if("formatted"===this.type.kind)return new ge([{text:this.args[0],scale:null,font:null}]).serialize();var t=["to-"+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var _e=["Unknown","Point","LineString","Polygon"],be=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};be.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},be.prototype.geometryType=function(){return this.feature?"number"===typeof this.feature.type?_e[this.feature.type]:this.feature.type:null},be.prototype.properties=function(){return this.feature&&this.feature.properties||{}},be.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=ie.parse(t)),e};var we=function(t,e,n,r){this.name=t,this.type=e,this._evaluate=n,this.args=r};function xe(t){return Array.isArray(t)?"("+t.map($t).join(", ")+")":"("+$t(t.type)+"...)"}we.prototype.evaluate=function(t){return this._evaluate(t,this.args)},we.prototype.eachChild=function(t){this.args.forEach(t)},we.prototype.possibleOutputs=function(){return[void 0]},we.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},we.parse=function(t,e){var n,r=t[0],i=we.definitions[r];if(!i)return e.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter((function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1})),u=null,l=0,c=a;l<c.length;l+=1){var p=c[l],h=p[0],f=p[1];u=new Oe(e.registry,e.path,null,e.scope);for(var d=[],y=!1,g=1;g<t.length;g++){var m=t[g],v=Array.isArray(h)?h[g-1]:h.type,_=u.parse(m,1+d.length,v);if(!_){y=!0;break}d.push(_)}if(!y)if(Array.isArray(h)&&h.length!==d.length)u.error("Expected "+h.length+" arguments, but found "+d.length+" instead.");else{for(var b=0;b<d.length;b++){var w=Array.isArray(h)?h[b]:h.type,x=d[b];u.concat(b+1).checkSubtype(w,x.type)}if(0===u.errors.length)return new we(r,o,f,d)}}if(1===a.length)(n=e.errors).push.apply(n,u.errors);else{for(var S=a.length?a:s,E=S.map((function(t){var e=t[0];return xe(e)})).join(" | "),C=[],P=1;P<t.length;P++){var I=e.parse(t[P],1+C.length);if(!I)return null;C.push($t(I.type))}e.error("Expected arguments of type "+E+", but found ("+C.join(", ")+") instead.")}return null},we.register=function(t,e){for(var n in we.definitions=e,e)t[n]=we};var Se=function(t,e,n){this.type=Jt,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function Ee(t){if(t instanceof we){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild((function(t){e&&!Ee(t)&&(e=!1)})),e}function Ce(t){if(t instanceof we&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild((function(t){e&&!Ce(t)&&(e=!1)})),e}function Pe(t,e){if(t instanceof we&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild((function(t){n&&!Pe(t,e)&&(n=!1)})),n}Se.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!==typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var r=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Zt);if(!r)return null;var i=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Zt);if(!i)return null;var o=null;return n["locale"]&&(o=e.parse(n["locale"],1,Vt),!o)?null:new Se(r,i,o)},Se.prototype.evaluate=function(t){return new oe(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},Se.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},Se.prototype.possibleOutputs=function(){return[void 0]},Se.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t["locale"]=this.locale.serialize()),["collator",t]};var Ie=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Ie.parse=function(t,e){if(2!==t.length||"string"!==typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new Ie(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},Ie.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Ie.prototype.eachChild=function(){},Ie.prototype.possibleOutputs=function(){return[void 0]},Ie.prototype.serialize=function(){return["var",this.name]};var Oe=function(t,e,n,r,i){void 0===e&&(e=[]),void 0===r&&(r=new Ut),void 0===i&&(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return"["+t+"]"})).join(""),this.scope=r,this.errors=i,this.expectedType=n};function Me(t){if(t instanceof Ie)return Me(t.boundExpression);if(t instanceof we&&"error"===t.name)return!1;if(t instanceof Se)return!1;var e=t instanceof ve||t instanceof ye,n=!0;return t.eachChild((function(t){n=e?n&&Me(t):n&&t instanceof he})),!!n&&(Ee(t)&&Pe(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]))}function Te(t,e){var n,r,i=t.length,o=0,s=i-1,a=0;while(o<=s){if(a=Math.floor((o+s)/2),n=t[a],r=t[a+1],e===n||e>n&&e<r)return a;if(n<e)o=a+1;else{if(!(n>e))throw new fe("Input is not a number.");s=a-1}}return Math.max(a-1,0)}Oe.prototype.parse=function(t,e,n,r,i){return void 0===i&&(i={}),e?this.concat(e,n,r)._parse(t,i):this._parse(t,i)},Oe.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new ye(e,[t]):"coerce"===n?new ve(e,[t]):t}if(null!==t&&"string"!==typeof t&&"boolean"!==typeof t&&"number"!==typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var r=t[0];if("string"!==typeof r)return this.error("Expression name must be a string, but found "+typeof r+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var i=this.registry[r];if(i){var o=i.parse(t,this);if(!o)return null;if(this.expectedType){var s=this.expectedType,a=o.type;if("string"!==s.kind&&"number"!==s.kind&&"boolean"!==s.kind&&"object"!==s.kind&&"array"!==s.kind||"value"!==a.kind)if("color"!==s.kind&&"formatted"!==s.kind||"value"!==a.kind&&"string"!==a.kind){if(this.checkSubtype(s,a))return null}else o=n(o,s,e.typeAnnotation||"coerce");else o=n(o,s,e.typeAnnotation||"assert")}if(!(o instanceof he)&&Me(o)){var u=new be;try{o=new he(o.type,o.evaluate(u))}catch(l){return this.error(l.message),null}}return o}return this.error('Unknown expression "'+r+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"===typeof t?this.error("'undefined' value invalid. Use null instead."):"object"===typeof t?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof t+" instead.")},Oe.prototype.concat=function(t,e,n){var r="number"===typeof t?this.path.concat(t):this.path,i=n?this.scope.concat(n):this.scope;return new Oe(this.registry,r,e||null,i,this.errors)},Oe.prototype.error=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var r=""+this.key+e.map((function(t){return"["+t+"]"})).join("");this.errors.push(new Gt(r,t))},Oe.prototype.checkSubtype=function(t,e){var n=ee(t,e);return n&&this.error(n),n};var Ne=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var o=i[r],s=o[0],a=o[1];this.labels.push(s),this.outputs.push(a)}};Ne.parse=function(t,e){var n=t[1],r=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(n=e.parse(n,1,zt),!n)return null;var i=[],o=null;e.expectedType&&"value"!==e.expectedType.kind&&(o=e.expectedType),r.unshift(-1/0);for(var s=0;s<r.length;s+=2){var a=r[s],u=r[s+1],l=s+1,c=s+2;if("number"!==typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',l);var p=e.parse(u,c,o);if(!p)return null;o=o||p.type,i.push([a,p])}return new Ne(o,n,i)},Ne.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Te(e,r);return n[o].evaluate(t)},Ne.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1){var r=n[e];t(r)}},Ne.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},Ne.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var je=Le;function Le(t,e,n,r){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(r-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=r,this.p2x=n,this.p2y=r}function Ae(t,e,n){return t*(1-n)+e*n}function ke(t,e,n){return new ie(Ae(t.r,e.r,n),Ae(t.g,e.g,n),Ae(t.b,e.b,n),Ae(t.a,e.a,n))}function Re(t,e,n){return t.map((function(t,r){return Ae(t,e[r],n)}))}Le.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},Le.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},Le.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},Le.prototype.solveCurveX=function(t,e){var n,r,i,o,s;for("undefined"===typeof e&&(e=1e-6),i=t,s=0;s<8;s++){if(o=this.sampleCurveX(i)-t,Math.abs(o)<e)return i;var a=this.sampleCurveDerivativeX(i);if(Math.abs(a)<1e-6)break;i-=o/a}if(n=0,r=1,i=t,i<n)return n;if(i>r)return r;while(n<r){if(o=this.sampleCurveX(i),Math.abs(o-t)<e)return i;t>o?n=i:r=i,i=.5*(r-n)+n}return i},Le.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var De=Object.freeze({number:Ae,color:ke,array:Re}),Fe=.95047,Be=1,Ge=1.08883,Ue=4/29,qe=6/29,ze=3*qe*qe,Ve=qe*qe*qe,Ze=Math.PI/180,Xe=180/Math.PI;function Ye(t){return t>Ve?Math.pow(t,1/3):t/ze+Ue}function We(t){return t>qe?t*t*t:ze*(t-Ue)}function He(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Je(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Qe(t){var e=Je(t.r),n=Je(t.g),r=Je(t.b),i=Ye((.4124564*e+.3575761*n+.1804375*r)/Fe),o=Ye((.2126729*e+.7151522*n+.072175*r)/Be),s=Ye((.0193339*e+.119192*n+.9503041*r)/Ge);return{l:116*o-16,a:500*(i-o),b:200*(o-s),alpha:t.a}}function Ke(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,r=isNaN(t.b)?e:e-t.b/200;return e=Be*We(e),n=Fe*We(n),r=Ge*We(r),new ie(He(3.2404542*n-1.5371385*e-.4985314*r),He(-.969266*n+1.8760108*e+.041556*r),He(.0556434*n-.2040259*e+1.0572252*r),t.alpha)}function $e(t,e,n){return{l:Ae(t.l,e.l,n),a:Ae(t.a,e.a,n),b:Ae(t.b,e.b,n),alpha:Ae(t.alpha,e.alpha,n)}}function tn(t){var e=Qe(t),n=e.l,r=e.a,i=e.b,o=Math.atan2(i,r)*Xe;return{h:o<0?o+360:o,c:Math.sqrt(r*r+i*i),l:n,alpha:t.a}}function en(t){var e=t.h*Ze,n=t.c,r=t.l;return Ke({l:r,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})}function nn(t,e,n){var r=e-t;return t+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function rn(t,e,n){return{h:nn(t.h,e.h,n),c:Ae(t.c,e.c,n),l:Ae(t.l,e.l,n),alpha:Ae(t.alpha,e.alpha,n)}}var on={forward:Qe,reverse:Ke,interpolate:$e},sn={forward:tn,reverse:en,interpolate:rn},an=Object.freeze({lab:on,hcl:sn}),un=function(t,e,n,r,i){this.type=t,this.operator=e,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var o=0,s=i;o<s.length;o+=1){var a=s[o],u=a[0],l=a[1];this.labels.push(u),this.outputs.push(l)}};function ln(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}un.interpolationFactor=function(t,e,n,r){var i=0;if("exponential"===t.name)i=ln(e,t.base,n,r);else if("linear"===t.name)i=ln(e,1,n,r);else if("cubic-bezier"===t.name){var o=t.controlPoints,s=new je(o[0],o[1],o[2],o[3]);i=s.solve(ln(e,1,n,r))}return i},un.parse=function(t,e){var n=t[0],r=t[1],i=t[2],o=t.slice(3);if(!Array.isArray(r)||0===r.length)return e.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){var s=r[1];if("number"!==typeof s)return e.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:s}}else{if("cubic-bezier"!==r[0])return e.error("Unknown interpolation type "+String(r[0]),1,0);var a=r.slice(1);if(4!==a.length||a.some((function(t){return"number"!==typeof t||t<0||t>1})))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!==0)return e.error("Expected an even number of arguments.");if(i=e.parse(i,2,zt),!i)return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=Xt:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<o.length;c+=2){var p=o[c],h=o[c+1],f=c+3,d=c+4;if("number"!==typeof p)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(u.length&&u[u.length-1][0]>=p)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var y=e.parse(h,d,l);if(!y)return null;l=l||y.type,u.push([p,y])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"===typeof l.N?new un(l,n,r,i,u):e.error("Type "+$t(l)+" is not interpolatable.")},un.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var r=this.input.evaluate(t);if(r<=e[0])return n[0].evaluate(t);var i=e.length;if(r>=e[i-1])return n[i-1].evaluate(t);var o=Te(e,r),s=e[o],a=e[o+1],u=un.interpolationFactor(this.interpolation,r,s,a),l=n[o].evaluate(t),c=n[o+1].evaluate(t);return"interpolate"===this.operator?De[this.type.kind.toLowerCase()](l,c,u):"interpolate-hcl"===this.operator?sn.reverse(sn.interpolate(sn.forward(l),sn.forward(c),u)):on.reverse(on.interpolate(on.forward(l),on.forward(c),u))},un.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1){var r=n[e];t(r)}},un.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()})))},un.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var cn=function(t,e){this.type=t,this.args=e};cn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,r=e.expectedType;r&&"value"!==r.kind&&(n=r);for(var i=[],o=0,s=t.slice(1);o<s.length;o+=1){var a=s[o],u=e.parse(a,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!u)return null;n=n||u.type,i.push(u)}var l=r&&i.some((function(t){return ee(r,t.type)}));return new cn(l?Wt:n,i)},cn.prototype.evaluate=function(t){for(var e=null,n=0,r=this.args;n<r.length;n+=1){var i=r[n];if(e=i.evaluate(t),null!==e)break}return e},cn.prototype.eachChild=function(t){this.args.forEach(t)},cn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.args.map((function(t){return t.possibleOutputs()})))},cn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild((function(e){t.push(e.serialize())})),t};var pn=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};pn.prototype.evaluate=function(t){return this.result.evaluate(t)},pn.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1){var r=n[e];t(r[1])}t(this.result)},pn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var i=t[r];if("string"!==typeof i)return e.error("Expected string, but found "+typeof i+" instead.",r);if(/[^a-zA-Z0-9_]/.test(i))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var o=e.parse(t[r+1],r+1);if(!o)return null;n.push([i,o])}var s=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return s?new pn(n,s):null},pn.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},pn.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t.push(i,o.serialize())}return t.push(this.result.serialize()),t};var hn=function(t,e,n){this.type=t,this.index=e,this.input=n};hn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,zt),r=e.parse(t[2],2,Kt(e.expectedType||Wt));if(!n||!r)return null;var i=r.type;return new hn(i.itemType,n,r)},hn.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new fe("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new fe("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new fe("Array index must be an integer, but found "+e+" instead.");return n[e]},hn.prototype.eachChild=function(t){t(this.index),t(this.input)},hn.prototype.possibleOutputs=function(){return[void 0]},hn.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var fn=function(t,e,n,r,i,o){this.inputType=t,this.type=e,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o};fn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!==1)return e.error("Expected an even number of arguments.");var n,r;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var i={},o=[],s=2;s<t.length-1;s+=2){var a=t[s],u=t[s+1];Array.isArray(a)||(a=[a]);var l=e.concat(s);if(0===a.length)return l.error("Expected at least one branch label.");for(var c=0,p=a;c<p.length;c+=1){var h=p[c];if("number"!==typeof h&&"string"!==typeof h)return l.error("Branch labels must be numbers or strings.");if("number"===typeof h&&Math.abs(h)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"===typeof h&&Math.floor(h)!==h)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,ce(h)))return null}else n=ce(h);if("undefined"!==typeof i[String(h)])return l.error("Branch labels must be unique.");i[String(h)]=o.length}var f=e.parse(u,s,r);if(!f)return null;r=r||f.type,o.push(f)}var d=e.parse(t[1],1,Wt);if(!d)return null;var y=e.parse(t[t.length-1],t.length-1,r);return y?"value"!==d.type.kind&&e.concat(1).checkSubtype(n,d.type)?null:new fn(n,r,d,i,o,y):null},fn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ce(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise;return n.evaluate(t)},fn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},fn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.outputs.map((function(t){return t.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},fn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=Object.keys(this.cases).sort(),r=[],i={},o=0,s=n;o<s.length;o+=1){var a=s[o],u=i[this.cases[a]];void 0===u?(i[this.cases[a]]=r.length,r.push([this.cases[a],[a]])):r[u][1].push(a)}for(var l=function(e){return"number"===t.inputType.kind?Number(e):e},c=0,p=r;c<p.length;c+=1){var h=p[c],f=(u=h[0],h[1]);1===f.length?e.push(l(f[0])):e.push(f.map(l)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var dn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};function yn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function gn(t,e,n){return e===n}function mn(t,e,n){return e!==n}function vn(t,e,n){return e<n}function _n(t,e,n){return e>n}function bn(t,e,n){return e<=n}function wn(t,e,n){return e>=n}function xn(t,e,n,r){return 0===r.compare(e,n)}function Sn(t,e,n,r){return!xn(t,e,n,r)}function En(t,e,n,r){return r.compare(e,n)<0}function Cn(t,e,n,r){return r.compare(e,n)>0}function Pn(t,e,n,r){return r.compare(e,n)<=0}function In(t,e,n,r){return r.compare(e,n)>=0}function On(t,e,n){var r="=="!==t&&"!="!==t;return function(){function i(t,e,n){this.type=Zt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return i.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Wt);if(!o)return null;if(!yn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+$t(o.type)+"'.");var s=e.parse(t[2],2,Wt);if(!s)return null;if(!yn(n,s.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+$t(s.type)+"'.");if(o.type.kind!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error("Cannot compare types '"+$t(o.type)+"' and '"+$t(s.type)+"'.");r&&("value"===o.type.kind&&"value"!==s.type.kind?o=new ye(s.type,[o]):"value"!==o.type.kind&&"value"===s.type.kind&&(s=new ye(o.type,[s])));var a=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==s.type.kind&&"value"!==o.type.kind&&"value"!==s.type.kind)return e.error("Cannot use collator to compare non-string types.");if(a=e.parse(t[3],3,Jt),!a)return null}return new i(o,s,a)},i.prototype.evaluate=function(i){var o=this.lhs.evaluate(i),s=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var a=ce(o),u=ce(s);if(a.kind!==u.kind||"string"!==a.kind&&"number"!==a.kind)throw new fe('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+a.kind+", "+u.kind+") instead.")}if(this.collator&&!r&&this.hasUntypedArgument){var l=ce(o),c=ce(s);if("string"!==l.kind||"string"!==c.kind)return e(i,o,s)}return this.collator?n(i,o,s,this.collator.evaluate(i)):e(i,o,s)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},i.prototype.possibleOutputs=function(){return[!0,!1]},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}dn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!==0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var r=[],i=1;i<t.length-1;i+=2){var o=e.parse(t[i],i,Zt);if(!o)return null;var s=e.parse(t[i+1],i+1,n);if(!s)return null;r.push([o,s]),n=n||s.type}var a=e.parse(t[t.length-1],t.length-1,n);return a?new dn(n,r,a):null},dn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];if(i.evaluate(t))return o.evaluate(t)}return this.otherwise.evaluate(t)},dn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var r=n[e],i=r[0],o=r[1];t(i),t(o)}t(this.otherwise)},dn.prototype.possibleOutputs=function(){var t;return(t=[]).concat.apply(t,this.branches.map((function(t){t[0];var e=t[1];return e.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},dn.prototype.serialize=function(){var t=["case"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Mn=On("==",gn,xn),Tn=On("!=",mn,Sn),Nn=On("<",vn,En),jn=On(">",_n,Cn),Ln=On("<=",bn,Pn),An=On(">=",wn,In),kn=function(t,e,n,r,i){this.type=Vt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};kn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,zt);if(!n)return null;var r=t[2];if("object"!==typeof r||Array.isArray(r))return e.error("NumberFormat options argument must be an object.");var i=null;if(r["locale"]&&(i=e.parse(r["locale"],1,Vt),!i))return null;var o=null;if(r["currency"]&&(o=e.parse(r["currency"],1,Vt),!o))return null;var s=null;if(r["min-fraction-digits"]&&(s=e.parse(r["min-fraction-digits"],1,zt),!s))return null;var a=null;return r["max-fraction-digits"]&&(a=e.parse(r["max-fraction-digits"],1,zt),!a)?null:new kn(n,i,o,s,a)},kn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},kn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},kn.prototype.possibleOutputs=function(){return[void 0]},kn.prototype.serialize=function(){var t={};return this.locale&&(t["locale"]=this.locale.serialize()),this.currency&&(t["currency"]=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Rn=function(t){this.type=zt,this.input=t};Rn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+$t(n.type)+" instead."):new Rn(n):null},Rn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"===typeof e)return e.length;if(Array.isArray(e))return e.length;throw new fe("Expected value to be of type string or array, but found "+$t(ce(e))+" instead.")},Rn.prototype.eachChild=function(t){t(this.input)},Rn.prototype.possibleOutputs=function(){return[void 0]},Rn.prototype.serialize=function(){var t=["length"];return this.eachChild((function(e){t.push(e.serialize())})),t};var Dn={"==":Mn,"!=":Tn,">":jn,"<":Nn,">=":An,"<=":Ln,array:ye,at:hn,boolean:ye,case:dn,coalesce:cn,collator:Se,format:ge,interpolate:un,"interpolate-hcl":un,"interpolate-lab":un,length:Rn,let:pn,literal:he,match:fn,number:ye,"number-format":kn,object:ye,step:Ne,string:ye,"to-boolean":ve,"to-color":ve,"to-number":ve,"to-string":ve,var:Ie};function Fn(t,e){var n=e[0],r=e[1],i=e[2],o=e[3];n=n.evaluate(t),r=r.evaluate(t),i=i.evaluate(t);var s=o?o.evaluate(t):1,a=ue(n,r,i,s);if(a)throw new fe(a);return new ie(n/255*s,r/255*s,i/255*s,s)}function Bn(t,e){return t in e}function Gn(t,e){var n=e[t];return"undefined"===typeof n?null:n}function Un(t,e,n,r){while(n<=r){var i=n+r>>1;if(e[i]===t)return!0;e[i]>t?r=i-1:n=i+1}return!1}function qn(t){return{type:t}}function zn(t){return{result:"success",value:t}}function Vn(t){return{result:"error",value:t}}function Zn(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function Xn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Yn(t){return!!t.expression&&t.expression.interpolated}function Wn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Hn(t){return"object"===typeof t&&null!==t&&!Array.isArray(t)}function Jn(t){return t}function Qn(t,e){var n,r,i,o="color"===e.type,s=t.stops&&"object"===typeof t.stops[0][0],a=s||void 0!==t.property,u=s||!a,l=t.type||(Yn(e)?"exponential":"interval");if(o&&(t=Bt({},t),t.stops&&(t.stops=t.stops.map((function(t){return[t[0],ie.parse(t[1])]}))),t.default?t.default=ie.parse(t.default):t.default=ie.parse(e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!an[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===l)n=er;else if("interval"===l)n=tr;else if("categorical"===l){n=$n,r=Object.create(null);for(var c=0,p=t.stops;c<p.length;c+=1){var h=p[c];r[h[0]]=h[1]}i=typeof t.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');n=nr}if(s){for(var f={},d=[],y=0;y<t.stops.length;y++){var g=t.stops[y],m=g[0].zoom;void 0===f[m]&&(f[m]={zoom:m,type:t.type,property:t.property,default:t.default,stops:[]},d.push(m)),f[m].stops.push([g[0].value,g[1]])}for(var v=[],_=0,b=d;_<b.length;_+=1){var w=b[_];v.push([f[w].zoom,Qn(f[w],e)])}return{kind:"composite",interpolationFactor:un.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:v.map((function(t){return t[0]})),evaluate:function(n,r){var i=n.zoom;return er({stops:v,base:t.base},e,i).evaluate(i,r)}}}return u?{kind:"camera",interpolationFactor:"exponential"===l?un.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map((function(t){return t[0]})),evaluate:function(o){var s=o.zoom;return n(t,e,s,r,i)}}:{kind:"source",evaluate:function(o,s){var a=s&&s.properties?s.properties[t.property]:void 0;return void 0===a?Kn(t.default,e.default):n(t,e,a,r,i)}}}function Kn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function $n(t,e,n,r,i){var o=typeof n===i?r[n]:void 0;return Kn(o,t.default,e.default)}function tr(t,e,n){if("number"!==Wn(n))return Kn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var i=rr(t.stops,n);return t.stops[i][1]}function er(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==Wn(n))return Kn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var o=rr(t.stops,n),s=ir(n,r,t.stops[o][0],t.stops[o+1][0]),a=t.stops[o][1],u=t.stops[o+1][1],l=De[e.type]||Jn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=an[t.colorSpace];l=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),s))}}return"function"===typeof a.evaluate?{evaluate:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=a.evaluate.apply(void 0,t),r=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return l(n,r,s)}}:l(a,u,s)}function nr(t,e,n){return"color"===e.type?n=ie.parse(n):"formatted"===e.type?n=ae.fromString(n.toString()):Wn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),Kn(n,t.default,e.default)}function rr(t,e){var n,r,i=t.length,o=0,s=i-1,a=0;while(o<=s){if(a=Math.floor((o+s)/2),n=t[a][0],r=t[a+1][0],e===n||e>n&&e<r)return a;n<e?o=a+1:n>e&&(s=a-1)}return Math.max(a-1,0)}function ir(t,e,n,r){var i=r-n,o=t-n;return 0===i?0:1===e?o/i:(Math.pow(e,o)-1)/(Math.pow(e,i)-1)}we.register(Dn,{error:[Ht,[Vt],function(t,e){var n=e[0];throw new fe(n.evaluate(t))}],typeof:[Vt,[Wt],function(t,e){var n=e[0];return $t(ce(n.evaluate(t)))}],"to-rgba":[Kt(zt,4),[Xt],function(t,e){var n=e[0];return n.evaluate(t).toArray()}],rgb:[Xt,[zt,zt,zt],Fn],rgba:[Xt,[zt,zt,zt,zt],Fn],has:{type:Zt,overloads:[[[Vt],function(t,e){var n=e[0];return Bn(n.evaluate(t),t.properties())}],[[Vt,Yt],function(t,e){var n=e[0],r=e[1];return Bn(n.evaluate(t),r.evaluate(t))}]]},get:{type:Wt,overloads:[[[Vt],function(t,e){var n=e[0];return Gn(n.evaluate(t),t.properties())}],[[Vt,Yt],function(t,e){var n=e[0],r=e[1];return Gn(n.evaluate(t),r.evaluate(t))}]]},"feature-state":[Wt,[Vt],function(t,e){var n=e[0];return Gn(n.evaluate(t),t.featureState||{})}],properties:[Yt,[],function(t){return t.properties()}],"geometry-type":[Vt,[],function(t){return t.geometryType()}],id:[Wt,[],function(t){return t.id()}],zoom:[zt,[],function(t){return t.globals.zoom}],"heatmap-density":[zt,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[zt,[],function(t){return t.globals.lineProgress||0}],accumulated:[Wt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[zt,qn(zt),function(t,e){for(var n=0,r=0,i=e;r<i.length;r+=1){var o=i[r];n+=o.evaluate(t)}return n}],"*":[zt,qn(zt),function(t,e){for(var n=1,r=0,i=e;r<i.length;r+=1){var o=i[r];n*=o.evaluate(t)}return n}],"-":{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)-r.evaluate(t)}],[[zt],function(t,e){var n=e[0];return-n.evaluate(t)}]]},"/":[zt,[zt,zt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)/r.evaluate(t)}],"%":[zt,[zt,zt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)%r.evaluate(t)}],ln2:[zt,[],function(){return Math.LN2}],pi:[zt,[],function(){return Math.PI}],e:[zt,[],function(){return Math.E}],"^":[zt,[zt,zt],function(t,e){var n=e[0],r=e[1];return Math.pow(n.evaluate(t),r.evaluate(t))}],sqrt:[zt,[zt],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[zt,[zt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN10}],ln:[zt,[zt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[zt,[zt],function(t,e){var n=e[0];return Math.log(n.evaluate(t))/Math.LN2}],sin:[zt,[zt],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[zt,[zt],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[zt,[zt],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[zt,[zt],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[zt,[zt],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[zt,[zt],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[zt,qn(zt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[zt,qn(zt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[zt,[zt],function(t,e){var n=e[0];return Math.abs(n.evaluate(t))}],round:[zt,[zt],function(t,e){var n=e[0],r=n.evaluate(t);return r<0?-Math.round(-r):Math.round(r)}],floor:[zt,[zt],function(t,e){var n=e[0];return Math.floor(n.evaluate(t))}],ceil:[zt,[zt],function(t,e){var n=e[0];return Math.ceil(n.evaluate(t))}],"filter-==":[Zt,[Vt,Wt],function(t,e){var n=e[0],r=e[1];return t.properties()[n.value]===r.value}],"filter-id-==":[Zt,[Wt],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[Zt,[Vt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[Zt,[Vt,Wt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i===typeof o&&i<o}],"filter-id-<":[Zt,[Wt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r===typeof i&&r<i}],"filter->":[Zt,[Vt,Wt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i===typeof o&&i>o}],"filter-id->":[Zt,[Wt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r===typeof i&&r>i}],"filter-<=":[Zt,[Vt,Wt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i===typeof o&&i<=o}],"filter-id-<=":[Zt,[Wt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r===typeof i&&r<=i}],"filter->=":[Zt,[Vt,Wt],function(t,e){var n=e[0],r=e[1],i=t.properties()[n.value],o=r.value;return typeof i===typeof o&&i>=o}],"filter-id->=":[Zt,[Wt],function(t,e){var n=e[0],r=t.id(),i=n.value;return typeof r===typeof i&&r>=i}],"filter-has":[Zt,[Wt],function(t,e){var n=e[0];return n.value in t.properties()}],"filter-has-id":[Zt,[],function(t){return null!==t.id()}],"filter-type-in":[Zt,[Kt(Vt)],function(t,e){var n=e[0];return n.value.indexOf(t.geometryType())>=0}],"filter-id-in":[Zt,[Kt(Wt)],function(t,e){var n=e[0];return n.value.indexOf(t.id())>=0}],"filter-in-small":[Zt,[Vt,Kt(Wt)],function(t,e){var n=e[0],r=e[1];return r.value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[Zt,[Vt,Kt(Wt)],function(t,e){var n=e[0],r=e[1];return Un(t.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:Zt,overloads:[[[Zt,Zt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)&&r.evaluate(t)}],[qn(Zt),function(t,e){for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!i.evaluate(t))return!1}return!0}]]},any:{type:Zt,overloads:[[[Zt,Zt],function(t,e){var n=e[0],r=e[1];return n.evaluate(t)||r.evaluate(t)}],[qn(Zt),function(t,e){for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(i.evaluate(t))return!0}return!1}]]},"!":[Zt,[Zt],function(t,e){var n=e[0];return!n.evaluate(t)}],"is-supported-script":[Zt,[Vt],function(t,e){var n=e[0],r=t.globals&&t.globals.isSupportedScript;return!r||r(n.evaluate(t))}],upcase:[Vt,[Vt],function(t,e){var n=e[0];return n.evaluate(t).toUpperCase()}],downcase:[Vt,[Vt],function(t,e){var n=e[0];return n.evaluate(t).toLowerCase()}],concat:[Vt,qn(Wt),function(t,e){return e.map((function(e){return pe(e.evaluate(t))})).join("")}],"resolved-locale":[Vt,[Jt],function(t,e){var n=e[0];return n.evaluate(t).resolvedLocale()}]});var or=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new be,this._defaultValue=e?yr(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function sr(t){return Array.isArray(t)&&t.length>0&&"string"===typeof t[0]&&t[0]in Dn}function ar(t,e){var n=new Oe(Dn,[],e?dr(e):void 0),r=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return r?zn(new or(r,e)):Vn(n.errors)}or.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},or.prototype.evaluate=function(t,e,n){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null;try{var r=this.expression.evaluate(this._evaluator);if(null===r||void 0===r)return this._defaultValue;if(this._enumValues&&!(r in this._enumValues))throw new fe("Expected value to be one of "+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(", ")+", but found "+JSON.stringify(r)+" instead.");return r}catch(i){return this._warningHistory[i.message]||(this._warningHistory[i.message]=!0,"undefined"!==typeof console&&console.warn(i.message)),this._defaultValue}};var ur=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Ce(e.expression)};ur.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},ur.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)};var lr=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Ce(e.expression),n instanceof un&&(this._interpolationType=n.interpolation)};function cr(t,e){if(t=ar(t,e),"error"===t.result)return t;var n=t.value.expression,r=Ee(n);if(!r&&!Zn(e))return Vn([new Gt("","data expressions not supported")]);var i=Pe(n,["zoom"]);if(!i&&!Xn(e))return Vn([new Gt("","zoom expressions not supported")]);var o=fr(n);return o||i?o instanceof Gt?Vn([o]):o instanceof un&&!Yn(e)?Vn([new Gt("",'"interpolate" expressions cannot be used with this property')]):zn(o?new lr(r?"camera":"composite",t.value,o):new ur(r?"constant":"source",t.value)):Vn([new Gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}lr.prototype.evaluateWithoutErrorHandling=function(t,e,n){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n)},lr.prototype.evaluate=function(t,e,n){return this._styleExpression.evaluate(t,e,n)},lr.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?un.interpolationFactor(this._interpolationType,t,e,n):0};var pr=function(t,e){this._parameters=t,this._specification=e,Bt(this,Qn(this._parameters,this._specification))};function hr(t,e){if(Hn(t))return new pr(t,e);if(sr(t)){var n=cr(t,e);if("error"===n.result)throw new Error(n.value.map((function(t){return t.key+": "+t.message})).join(", "));return n.value}var r=t;return"string"===typeof t&&"color"===e.type&&(r=ie.parse(t)),{kind:"constant",evaluate:function(){return r}}}function fr(t){var e=null;if(t instanceof pn)e=fr(t.result);else if(t instanceof cn)for(var n=0,r=t.args;n<r.length;n+=1){var i=r[n];if(e=fr(i),e)break}else(t instanceof Ne||t instanceof un)&&t.input instanceof we&&"zoom"===t.input.name&&(e=t);return e instanceof Gt||t.eachChild((function(t){var n=fr(t);n instanceof Gt?e=n:!e&&n?e=new Gt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new Gt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),e}function dr(t){var e={color:Xt,string:Vt,number:zt,enum:Vt,boolean:Zt,formatted:Qt};return"array"===t.type?Kt(e[t.value]||Wt,t.length):e[t.type]}function yr(t){return"color"===t.type&&Hn(t.default)?new ie(0,0,0,0):"color"===t.type?ie.parse(t.default)||null:void 0===t.default?null:t.default}function gr(t){return"object"===typeof t?["literal",t]:t}function mr(t,e){var n=t.stops;if(!n)return vr(t,e);var r=n&&"object"===typeof n[0][0],i=r||void 0!==t.property,o=r||!i;return n=n.map((function(t){return!i&&e.tokens&&"string"===typeof t[1]?[t[0],Ir(t[1])]:[t[0],gr(t[1])]})),r?br(t,e,n):o?Sr(t,e,n):xr(t,e,n)}function vr(t,e){var n=["get",t.property];if(void 0===t.default)return"string"===e.type?["string",n]:n;if("enum"===e.type)return["match",n,Object.keys(e.values),n,t.default];var r=["color"===e.type?"to-color":e.type,n,gr(t.default)];return"array"===e.type&&r.splice(1,0,e.value,e.length||null),r}function _r(t){switch(t.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function br(t,e,n){for(var r={},i={},o=[],s=0;s<n.length;s++){var a=n[s],u=a[0].zoom;void 0===r[u]&&(r[u]={zoom:u,type:t.type,property:t.property,default:t.default},i[u]=[],o.push(u)),i[u].push([a[0].value,a[1]])}var l=Pr({},e);if("exponential"===l){for(var c=[_r(t),["linear"],["zoom"]],p=0,h=o;p<h.length;p+=1){var f=h[p],d=xr(r[f],e,i[f]);Cr(c,f,d,!1)}return c}for(var y=["step",["zoom"]],g=0,m=o;g<m.length;g+=1){var v=m[g],_=xr(r[v],e,i[v]);Cr(y,v,_,!0)}return Er(y),y}function wr(t,e){return void 0!==t?t:void 0!==e?e:void 0}function xr(t,e,n){var r=Pr(t,e),i=["get",t.property];if("categorical"===r&&"boolean"===typeof n[0][0]){for(var o=["case"],s=0,a=n;s<a.length;s+=1){var u=a[s];o.push(["==",i,u[0]],u[1])}return o.push(gr(wr(t.default,e.default))),o}if("categorical"===r){for(var l=["match",i],c=0,p=n;c<p.length;c+=1){var h=p[c];Cr(l,h[0],h[1],!1)}return l.push(gr(wr(t.default,e.default))),l}if("interval"===r){for(var f=["step",["number",i]],d=0,y=n;d<y.length;d+=1){var g=y[d];Cr(f,g[0],g[1],!0)}return Er(f),void 0===t.default?f:["case",["==",["typeof",i],"number"],f,gr(t.default)]}if("exponential"===r){for(var m=void 0!==t.base?t.base:1,v=[_r(t),["exponential",m],["number",i]],_=0,b=n;_<b.length;_+=1){var w=b[_];Cr(v,w[0],w[1],!1)}return void 0===t.default?v:["case",["==",["typeof",i],"number"],v,gr(t.default)]}throw new Error("Unknown property function type "+r)}function Sr(t,e,n,r){void 0===r&&(r=["zoom"]);var i,o=Pr(t,e),s=!1;if("interval"===o)i=["step",r],s=!0;else{if("exponential"!==o)throw new Error('Unknown zoom function type "'+o+'"');var a=void 0!==t.base?t.base:1;i=[_r(t),["exponential",a],r]}for(var u=0,l=n;u<l.length;u+=1){var c=l[u];Cr(i,c[0],c[1],s)}return Er(i),i}function Er(t){"step"===t[0]&&3===t.length&&(t.push(0),t.push(t[3]))}function Cr(t,e,n,r){t.length>3&&e===t[t.length-2]||(r&&2===t.length||t.push(e),t.push(n))}function Pr(t,e){return t.type?t.type:e.expression.interpolated?"exponential":"interval"}function Ir(t){for(var e=["concat"],n=/{([^{}]+)}/g,r=0,i=n.exec(t);null!==i;i=n.exec(t)){var o=t.slice(r,n.lastIndex-i[0].length);r=n.lastIndex,o.length>0&&e.push(o),e.push(["get",i[1]])}if(1===e.length)return t;if(r<t.length)e.push(t.slice(r));else if(2===e.length)return["to-string",e[1]];return e}function Or(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!Or(r)&&"boolean"!==typeof r)return!1}return!0;default:return!0}}pr.deserialize=function(t){return new pr(t._parameters,t._specification)},pr.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var Mr={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Tr(t){if(null===t||void 0===t)return function(){return!0};Or(t)||(t=jr(t));var e=ar(t,Mr);if("error"===e.result)throw new Error(e.value.map((function(t){return t.key+": "+t.message})).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function Nr(t,e){return t<e?-1:t>e?1:0}function jr(t){if(!t)return!0;var e=t[0];if(t.length<=1)return"any"!==e;var n="=="===e?Lr(t[1],t[2],"=="):"!="===e?Dr(Lr(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Lr(t[1],t[2],e):"any"===e?Ar(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(jr)):"none"===e?["all"].concat(t.slice(1).map(jr).map(Dr)):"in"===e?kr(t[1],t.slice(2)):"!in"===e?Dr(kr(t[1],t.slice(2))):"has"===e?Rr(t[1]):"!has"!==e||Dr(Rr(t[1]));return n}function Lr(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function Ar(t){return["any"].concat(t.map(jr))}function kr(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some((function(t){return typeof t!==typeof e[0]}))?["filter-in-large",t,["literal",e.sort(Nr)]]:["filter-in-small",t,["literal",e]]}}function Rr(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Dr(t){return["!",t]}function Fr(t){return Br(t,{})}function Br(t,e){var n;if(Or(t))return t;if(!t)return!0;var r,i=t[0];if(t.length<=1)return"any"!==i;if("=="===i||"!="===i||"<"===i||">"===i||"<="===i||">="===i){var o=t,s=o[1],a=o[2];r=Ur(s,a,i,e)}else{if("any"===i){var u=t.slice(1).map((function(t){var e={},n=Br(t,e),r=Gr(e);return!0===r?n:["case",r,n,!1]}));return["any"].concat(u)}if("all"===i){var l=t.slice(1).map((function(t){return Br(t,e)}));return l.length>1?["all"].concat(l):(n=[]).concat.apply(n,l)}if("none"===i)return["!",Br(["any"].concat(t.slice(1)),{})];r="in"===i?qr(t[1],t.slice(2)):"!in"===i?qr(t[1],t.slice(2),!0):"has"===i?zr(t[1]):"!has"!==i||["!",zr(t[1])]}return r}function Gr(t){var e=[];for(var n in t){var r="$id"===n?["id"]:["get",n];e.push(["==",["typeof",r],t[n]])}return 0===e.length||(1===e.length?e[0]:["all"].concat(e))}function Ur(t,e,n,r){var i;if("$type"===t)return[n,["geometry-type"],e];if(i="$id"===t?["id"]:["get",t],r&&null!==e){var o=typeof e;r[t]=o}return"=="===n&&"$id"!==t&&null===e?["all",["has",t],["==",i,null]]:"!="===n&&"$id"!==t&&null===e?["any",["!",["has",t]],["!=",i,null]]:[n,i,e]}function qr(t,e,n){if(void 0===n&&(n=!1),0===e.length)return n;var r;r="$type"===t?["geometry-type"]:"$id"===t?["id"]:["get",t];for(var i=!0,o=typeof e[0],s=0,a=e;s<a.length;s+=1){var u=a[s];if(typeof u!==o){i=!1;break}}return!i||"string"!==o&&"number"!==o?[n?"all":"any"].concat(e.map((function(t){return[n?"!=":"==",r,t]}))):["match",r,e,!n,n]}function zr(t){return"$type"===t||("$id"===t?["!=",["id"],null]:["has",t])}function Vr(t){var e=[];return Nt(t,(function(t){t.filter&&(t.filter=Fr(t.filter))})),jt(t,{paint:!0,layout:!0},(function(t){var n=t.path,r=t.value,i=t.reference,o=t.set;sr(r)||("object"!==typeof r||Array.isArray(r)?i.tokens&&"string"===typeof r&&o(Ir(r)):(o(mr(r,i)),e.push(n.join("."))))})),t}function Zr(t){var e=!1;if(7===t.version&&(t=Ft(t),e=!0),8===t.version&&(e=Vr(t),e=!0),!e)throw new Error("cannot migrate from",t.version);return t}function Xr(t){var e=[],n=[],r=[];for(var i in t.sources){var o=t.sources[i];if("vector"===o.type){var s=/^mapbox:\/\/(.*)/.exec(o.url);s&&(e.push(i),n.push(s[1]))}}if(e.length<2)return t;e.forEach((function(e){delete t.sources[e]}));var a=n.join(",");return t.sources[a]={type:"vector",url:"mapbox://"+a},t.layers.forEach((function(t){if(e.indexOf(t.source)>=0&&(t.source=a,"source-layer"in t)){if(r.indexOf(t["source-layer"])>=0)throw new Error("Conflicting source layer names");r.push(t["source-layer"])}})),t}function Yr(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}if("object"===typeof t&&null!==t&&null!==e){if("object"!==typeof e)return!1;var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var i in t)if(!Yr(t[i],e[i]))return!1;return!0}return t===e}var Wr={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Hr(t,e,n){n.push({command:Wr.addSource,args:[t,e[t]]})}function Jr(t,e,n){e.push({command:Wr.removeSource,args:[t]}),n[t]=!0}function Qr(t,e,n,r){Jr(t,n,r),Hr(t,e,n)}function Kr(t,e,n){var r;for(r in t[n])if(t[n].hasOwnProperty(r)&&"data"!==r&&!Yr(t[n][r],e[n][r]))return!1;for(r in e[n])if(e[n].hasOwnProperty(r)&&"data"!==r&&!Yr(t[n][r],e[n][r]))return!1;return!0}function $r(t,e,n,r){var i;for(i in t=t||{},e=e||{},t)t.hasOwnProperty(i)&&(e.hasOwnProperty(i)||Jr(i,n,r));for(i in e)e.hasOwnProperty(i)&&(t.hasOwnProperty(i)?Yr(t[i],e[i])||("geojson"===t[i].type&&"geojson"===e[i].type&&Kr(t,e,i)?n.push({command:Wr.setGeoJSONSourceData,args:[i,e[i].data]}):Qr(i,e,n,r)):Hr(i,e,n))}function ti(t,e,n,r,i,o){var s;for(s in t=t||{},e=e||{},t)t.hasOwnProperty(s)&&(Yr(t[s],e[s])||n.push({command:o,args:[r,s,e[s],i]}));for(s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(Yr(t[s],e[s])||n.push({command:o,args:[r,s,e[s],i]}))}function ei(t){return t.id}function ni(t,e){return t[e.id]=e,t}function ri(t,e,n){t=t||[],e=e||[];var r,i,o,s,a,u,l,c=t.map(ei),p=e.map(ei),h=t.reduce(ni,{}),f=e.reduce(ni,{}),d=c.slice(),y=Object.create(null);for(r=0,i=0;r<c.length;r++)o=c[r],f.hasOwnProperty(o)?i++:(n.push({command:Wr.removeLayer,args:[o]}),d.splice(d.indexOf(o,i),1));for(r=0,i=0;r<p.length;r++)o=p[p.length-1-r],d[d.length-1-r]!==o&&(h.hasOwnProperty(o)?(n.push({command:Wr.removeLayer,args:[o]}),d.splice(d.lastIndexOf(o,d.length-i),1)):i++,u=d[d.length-r],n.push({command:Wr.addLayer,args:[f[o],u]}),d.splice(d.length-r,0,o),y[o]=!0);for(r=0;r<p.length;r++)if(o=p[r],s=h[o],a=f[o],!y[o]&&!Yr(s,a))if(Yr(s.source,a.source)&&Yr(s["source-layer"],a["source-layer"])&&Yr(s.type,a.type)){for(l in ti(s.layout,a.layout,n,o,null,Wr.setLayoutProperty),ti(s.paint,a.paint,n,o,null,Wr.setPaintProperty),Yr(s.filter,a.filter)||n.push({command:Wr.setFilter,args:[o,a.filter]}),Yr(s.minzoom,a.minzoom)&&Yr(s.maxzoom,a.maxzoom)||n.push({command:Wr.setLayerZoomRange,args:[o,a.minzoom,a.maxzoom]}),s)s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?ti(s[l],a[l],n,o,l.slice(6),Wr.setPaintProperty):Yr(s[l],a[l])||n.push({command:Wr.setLayerProperty,args:[o,l,a[l]]}));for(l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&"layout"!==l&&"paint"!==l&&"filter"!==l&&"metadata"!==l&&"minzoom"!==l&&"maxzoom"!==l&&(0===l.indexOf("paint.")?ti(s[l],a[l],n,o,l.slice(6),Wr.setPaintProperty):Yr(s[l],a[l])||n.push({command:Wr.setLayerProperty,args:[o,l,a[l]]}))}else n.push({command:Wr.removeLayer,args:[o]}),u=d[d.lastIndexOf(o)+1],n.push({command:Wr.addLayer,args:[a,u]})}function ii(t,e){if(!t)return[{command:Wr.setStyle,args:[e]}];var n=[];try{if(!Yr(t.version,e.version))return[{command:Wr.setStyle,args:[e]}];Yr(t.center,e.center)||n.push({command:Wr.setCenter,args:[e.center]}),Yr(t.zoom,e.zoom)||n.push({command:Wr.setZoom,args:[e.zoom]}),Yr(t.bearing,e.bearing)||n.push({command:Wr.setBearing,args:[e.bearing]}),Yr(t.pitch,e.pitch)||n.push({command:Wr.setPitch,args:[e.pitch]}),Yr(t.sprite,e.sprite)||n.push({command:Wr.setSprite,args:[e.sprite]}),Yr(t.glyphs,e.glyphs)||n.push({command:Wr.setGlyphs,args:[e.glyphs]}),Yr(t.transition,e.transition)||n.push({command:Wr.setTransition,args:[e.transition]}),Yr(t.light,e.light)||n.push({command:Wr.setLight,args:[e.light]});var r={},i=[];$r(t.sources,e.sources,i,r);var o=[];t.layers&&t.layers.forEach((function(t){r[t.source]?n.push({command:Wr.removeLayer,args:[t.id]}):o.push(t)})),n=n.concat(i),ri(o,e.layers,n)}catch(s){console.warn("Unable to compute style diff:",s),n=[{command:Wr.setStyle,args:[e]}]}return n}var oi=function(t,e,n,r){this.message=(t?t+": ":"")+n,r&&(this.identifier=r),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)};function si(t){this.error=t,this.message=t.message;var e=t.message.match(/line (\d+)/);this.line=e?parseInt(e[1],10):0}function ai(t){var e=t.key,n=t.value;return n?[new oi(e,n,"constants have been deprecated as of v8")]:[]}function ui(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function li(t){return Array.isArray(t)?t.map(li):ui(t)}function ci(t){var e=t.key,n=t.value,r=t.valueSpec||{},i=t.objectElementValidators||{},o=t.style,s=t.styleSpec,a=[],u=Wn(n);if("object"!==u)return[new oi(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],p=r[c]||r["*"],h=void 0;if(i[c])h=i[c];else if(r[c])h=Mi;else if(i["*"])h=i["*"];else{if(!r["*"]){a.push(new oi(e,n[l],'unknown property "'+l+'"'));continue}h=Mi}a=a.concat(h({key:(e?e+".":e)+l,value:n[l],valueSpec:p,style:o,styleSpec:s,object:n,objectKey:l},n))}for(var f in r)i[f]||r[f].required&&void 0===r[f]["default"]&&void 0===n[f]&&a.push(new oi(e,n,'missing required property "'+f+'"'));return a}function pi(t){var e=t.value,n=t.valueSpec,r=t.style,i=t.styleSpec,o=t.key,s=t.arrayElementValidator||Mi;if("array"!==Wn(e))return[new oi(o,e,"array expected, "+Wn(e)+" found")];if(n.length&&e.length!==n.length)return[new oi(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new oi(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var a={type:n.value};i.$version<7&&(a.function=n.function),"object"===Wn(n.value)&&(a=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(s({array:e,arrayIndex:l,value:e[l],valueSpec:a,style:r,styleSpec:i,key:o+"["+l+"]"}));return u}function hi(t){var e=t.key,n=t.value,r=t.valueSpec,i=Wn(n);return"number"!==i?[new oi(e,n,"number expected, "+i+" found")]:"minimum"in r&&n<r.minimum?[new oi(e,n,n+" is less than the minimum value "+r.minimum)]:"maximum"in r&&n>r.maximum?[new oi(e,n,n+" is greater than the maximum value "+r.maximum)]:[]}function fi(t){var e,n,r,i=t.valueSpec,o=ui(t.value.type),s={},a="categorical"!==o&&void 0===t.value.property,u=!a,l="array"===Wn(t.value.stops)&&"array"===Wn(t.value.stops[0])&&"object"===Wn(t.value.stops[0][0]),c=ci({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:p,default:d}});return"identity"===o&&a&&c.push(new oi(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new oi(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Yn(t.valueSpec)&&c.push(new oi(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!Zn(t.valueSpec)?c.push(new oi(t.key,t.value,"property functions not supported")):a&&!Xn(t.valueSpec)&&c.push(new oi(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||c.push(new oi(t.key,t.value,'"property" property is required')),c;function p(t){if("identity"===o)return[new oi(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(pi({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Wn(n)&&0===n.length&&e.push(new oi(t.key,n,"array must have at least one stop")),e}function h(t){var e=[],o=t.value,a=t.key;if("array"!==Wn(o))return[new oi(a,o,"array expected, "+Wn(o)+" found")];if(2!==o.length)return[new oi(a,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==Wn(o[0]))return[new oi(a,o,"object expected, "+Wn(o[0])+" found")];if(void 0===o[0].zoom)return[new oi(a,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new oi(a,o,"object stop key must have value")];if(r&&r>ui(o[0].zoom))return[new oi(a,o[0].zoom,"stop zoom values must appear in ascending order")];ui(o[0].zoom)!==r&&(r=ui(o[0].zoom),n=void 0,s={}),e=e.concat(ci({key:a+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:hi,value:f}}))}else e=e.concat(f({key:a+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return sr(li(o[1]))?e.concat([new oi(a+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(Mi({key:a+"[1]",value:o[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function f(t,r){var a=Wn(t.value),u=ui(t.value),l=null!==t.value?t.value:r;if(e){if(a!==e)return[new oi(t.key,l,a+" stop domain type must match previous stop domain type "+e)]}else e=a;if("number"!==a&&"string"!==a&&"boolean"!==a)return[new oi(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==a&&"categorical"!==o){var c="number expected, "+a+" found";return Zn(i)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new oi(t.key,l,c)]}return"categorical"!==o||"number"!==a||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===a&&void 0!==n&&u<n?[new oi(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in s?[new oi(t.key,l,"stop domain values must be unique")]:(s[u]=!0,[])):[new oi(t.key,l,"integer expected, found "+u)]}function d(t){return Mi({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}function di(t){var e=("property"===t.expressionContext?cr:ar)(li(t.value),t.valueSpec);if("error"===e.result)return e.value.map((function(e){return new oi(""+t.key+e.key,t.value,e.message)}));var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new oi(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Ce(n))return[new oi(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Ce(n))return[new oi(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Pe(n,["zoom","feature-state"]))return[new oi(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ee(n))return[new oi(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function yi(t){var e=t.value,n=t.key,r=Wn(e);return"boolean"!==r?[new oi(n,e,"boolean expected, "+r+" found")]:[]}function gi(t){var e=t.key,n=t.value,r=Wn(n);return"string"!==r?[new oi(e,n,"color expected, "+r+" found")]:null===re(n)?[new oi(e,n,'color expected, "'+n+'" found')]:[]}function mi(t){var e=t.key,n=t.value,r=t.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(ui(n))&&i.push(new oi(e,n,"expected one of ["+r.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(r.values).indexOf(ui(n))&&i.push(new oi(e,n,"expected one of ["+Object.keys(r.values).join(", ")+"], "+JSON.stringify(n)+" found")),i}function vi(t){return Or(li(t.value))?di(Bt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):_i(t)}function _i(t){var e=t.value,n=t.key;if("array"!==Wn(e))return[new oi(n,e,"array expected, "+Wn(e)+" found")];var r,i=t.styleSpec,o=[];if(e.length<1)return[new oi(n,e,"filter array must have at least 1 element")];switch(o=o.concat(mi({key:n+"[0]",value:e[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),ui(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===ui(e[1])&&o.push(new oi(n,e,'"$type" cannot be use with operator "'+e[0]+'"'));case"==":case"!=":3!==e.length&&o.push(new oi(n,e,'filter array for operator "'+e[0]+'" must have 3 elements'));case"in":case"!in":e.length>=2&&(r=Wn(e[1]),"string"!==r&&o.push(new oi(n+"[1]",e[1],"string expected, "+r+" found")));for(var s=2;s<e.length;s++)r=Wn(e[s]),"$type"===ui(e[1])?o=o.concat(mi({key:n+"["+s+"]",value:e[s],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&o.push(new oi(n+"["+s+"]",e[s],"string, number, or boolean expected, "+r+" found"));break;case"any":case"all":case"none":for(var a=1;a<e.length;a++)o=o.concat(_i({key:n+"["+a+"]",value:e[a],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":r=Wn(e[1]),2!==e.length?o.push(new oi(n,e,'filter array for "'+e[0]+'" operator must have 2 elements')):"string"!==r&&o.push(new oi(n+"[1]",e[1],"string expected, "+r+" found"));break}return o}function bi(t,e){var n=t.key,r=t.style,i=t.styleSpec,o=t.value,s=t.objectKey,a=i[e+"_"+t.layerType];if(!a)return[];var u=s.match(/^(.*)-transition$/);if("paint"===e&&u&&a[u[1]]&&a[u[1]].transition)return Mi({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});var l,c=t.valueSpec||a[s];if(!c)return[new oi(n,o,'unknown property "'+s+'"')];if("string"===Wn(o)&&Zn(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new oi(n,o,'"'+s+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var p=[];return"symbol"===t.layerType&&("text-field"===s&&r&&!r.glyphs&&p.push(new oi(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===s&&Hn(li(o))&&"identity"===ui(o.type)&&p.push(new oi(n,o,'"text-font" does not support identity functions'))),p.concat(Mi({key:t.key,value:o,valueSpec:c,style:r,styleSpec:i,expressionContext:"property",propertyType:e,propertyKey:s}))}function wi(t){return bi(t,"paint")}function xi(t){return bi(t,"layout")}function Si(t){var e=[],n=t.value,r=t.key,i=t.style,o=t.styleSpec;n.type||n.ref||e.push(new oi(r,n,'either "type" or "ref" is required'));var s,a=ui(n.type),u=ui(n.ref);if(n.id)for(var l=ui(n.id),c=0;c<t.arrayIndex;c++){var p=i.layers[c];ui(p.id)===l&&e.push(new oi(r,n.id,'duplicate layer id "'+n.id+'", previously used at line '+p.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(t){t in n&&e.push(new oi(r,n[t],'"'+t+'" is prohibited for ref layers'))})),i.layers.forEach((function(t){ui(t.id)===u&&(s=t)})),s?s.ref?e.push(new oi(r,n.ref,"ref cannot reference another ref layer")):a=ui(s.type):e.push(new oi(r,n.ref,'ref layer "'+u+'" not found'));else if("background"!==a)if(n.source){var h=i.sources&&i.sources[n.source],f=h&&ui(h.type);h?"vector"===f&&"raster"===a?e.push(new oi(r,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==a?e.push(new oi(r,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==a?e.push(new oi(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&h.lineMetrics||e.push(new oi(r,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new oi(r,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new oi(r,n.source,'source "'+n.source+'" not found'))}else e.push(new oi(r,n,'missing required property "source"'));return e=e.concat(ci({key:r,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Mi({key:r+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:vi,layout:function(t){return ci({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return xi(Bt({layerType:a},t))}}})},paint:function(t){return ci({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return wi(Bt({layerType:a},t))}}})}}})),e}function Ei(t){var e=t.value,n=t.key,r=t.styleSpec,i=t.style;if(!e.type)return[new oi(n,e,'"type" is required')];var o,s=ui(e.type);switch(s){case"vector":case"raster":case"raster-dem":if(o=ci({key:n,value:e,valueSpec:r["source_"+s.replace("-","_")],style:t.style,styleSpec:r}),"url"in e)for(var a in e)["type","url","tileSize"].indexOf(a)<0&&o.push(new oi(n+"."+a,e[a],'a source with a "url" property may not include a "'+a+'" property'));return o;case"geojson":if(o=ci({key:n,value:e,valueSpec:r.source_geojson,style:i,styleSpec:r}),e.cluster)for(var u in e.clusterProperties){var l=e.clusterProperties[u],c=l[0],p=l[1],h="string"===typeof c?[c,["accumulated"],["get",u]]:c;o.push.apply(o,di({key:n+"."+u+".map",value:p,expressionContext:"cluster-map"})),o.push.apply(o,di({key:n+"."+u+".reduce",value:h,expressionContext:"cluster-reduce"}))}return o;case"video":return ci({key:n,value:e,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return ci({key:n,value:e,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new oi(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return mi({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function Ci(t){var e=t.value,n=t.styleSpec,r=n.light,i=t.style,o=[],s=Wn(e);if(void 0===e)return o;if("object"!==s)return o=o.concat([new oi("light",e,"object expected, "+s+" found")]),o;for(var a in e){var u=a.match(/^(.*)-transition$/);o=u&&r[u[1]]&&r[u[1]].transition?o.concat(Mi({key:a,value:e[a],valueSpec:n.transition,style:i,styleSpec:n})):r[a]?o.concat(Mi({key:a,value:e[a],valueSpec:r[a],style:i,styleSpec:n})):o.concat([new oi(a,e[a],'unknown property "'+a+'"')])}return o}function Pi(t){var e=t.value,n=t.key,r=Wn(e);return"string"!==r?[new oi(n,e,"string expected, "+r+" found")]:[]}function Ii(t){return 0===Pi(t).length?[]:di(t)}var Oi={"*":function(){return[]},array:pi,boolean:yi,number:hi,color:gi,constants:ai,enum:mi,filter:vi,function:fi,layer:Si,object:ci,source:Ei,light:Ci,string:Pi,formatted:Ii};function Mi(t){var e=t.value,n=t.valueSpec,r=t.styleSpec;if(n.expression&&Hn(ui(e)))return fi(t);if(n.expression&&sr(li(e)))return di(t);if(n.type&&Oi[n.type])return Oi[n.type](t);var i=ci(Bt({},t,{valueSpec:n.type?r[n.type]:n}));return i}function Ti(t){var e=t.value,n=t.key,r=Pi(t);return r.length||(-1===e.indexOf("{fontstack}")&&r.push(new oi(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&r.push(new oi(n,e,'"glyphs" url must include a "{range}" token'))),r}function Ni(t,e){e=e||G;var n=[];return n=n.concat(Mi({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:Ti,"*":function(){return[]}}})),t.constants&&(n=n.concat(ai({key:"constants",value:t.constants,style:t,styleSpec:e}))),ji(n)}function ji(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function Li(t){return function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];return ji(t.apply(this,e))}}Ni.source=Li(Ei),Ni.light=Li(Ci),Ni.layer=Li(Si),Ni.filter=Li(vi),Ni.paintProperty=Li(wi),Ni.layoutProperty=Li(xi);var Ai=J((function(t,e){var n=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,12],n=[1,13],r=[1,9],i=[1,10],o=[1,11],s=[1,14],a=[1,15],u=[14,18,22,24],l=[18,22],c=[22,24],p={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(t,e,n,r,i,o,s){var a=o.length-1;switch(i){case 1:this.$=new String(t.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b")),this.$.__line__=this._$.first_line;break;case 2:this.$=new Number(t),this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0),this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1),this.$.__line__=this._$.first_line;break;case 6:return this.$=o[a-1];case 13:this.$={},Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=o[a-1],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[o[a-2],o[a]];break;case 16:this.$={},this.$[o[a][0]]=o[a][1];break;case 17:this.$=o[a-2],o[a-2][o[a][0]]=o[a][1];break;case 18:this.$=[],Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[o[a]];break;case 21:this.$=o[a-2],o[a-2].push(o[a]);break}},table:[{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,12:1,13:2,15:7,16:8,17:s,23:a},{1:[3]},{14:[1,16]},t(u,[2,7]),t(u,[2,8]),t(u,[2,9]),t(u,[2,10]),t(u,[2,11]),t(u,[2,12]),t(u,[2,3]),t(u,[2,4]),t(u,[2,5]),t([14,18,21,22,24],[2,1]),t(u,[2,2]),{3:20,4:e,18:[1,17],19:18,20:19},{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:23,15:7,16:8,17:s,23:a,24:[1,21],25:22},{1:[2,6]},t(u,[2,13]),{18:[1,24],22:[1,25]},t(l,[2,16]),{21:[1,26]},t(u,[2,18]),{22:[1,28],24:[1,27]},t(c,[2,20]),t(u,[2,14]),{3:20,4:e,20:29},{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:30,15:7,16:8,17:s,23:a},t(u,[2,19]),{3:5,4:e,5:6,6:n,7:3,8:r,9:4,10:i,11:o,13:31,15:7,16:8,17:s,23:a},t(l,[2,17]),t(l,[2,15]),t(c,[2,21])],defaultActions:{16:[2,6]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,u=0,l=2,c=1,p=i.slice.call(arguments,1),h=Object.create(this.lexer),f={yy:{}};for(var d in this.yy)Object.prototype.hasOwnProperty.call(this.yy,d)&&(f.yy[d]=this.yy[d]);h.setInput(t,f.yy),f.yy.lexer=h,f.yy.parser=this,"undefined"==typeof h.yylloc&&(h.yylloc={});var y=h.yylloc;i.push(y);var g=h.options&&h.options.ranges;function m(){var t;return t=h.lex()||c,"number"!==typeof t&&(t=e.symbols_[t]||t),t}"function"===typeof f.yy.parseError?this.parseError=f.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;var v,_,b,w,x,S,E,C,P,I={};while(1){if(b=n[n.length-1],this.defaultActions[b]?w=this.defaultActions[b]:(null!==v&&"undefined"!=typeof v||(v=m()),w=o[b]&&o[b][v]),"undefined"===typeof w||!w.length||!w[0]){var O="";for(S in P=[],o[b])this.terminals_[S]&&S>l&&P.push("'"+this.terminals_[S]+"'");O=h.showPosition?"Parse error on line "+(a+1)+":\n"+h.showPosition()+"\nExpecting "+P.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(a+1)+": Unexpected "+(v==c?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(O,{text:h.match,token:this.terminals_[v]||v,line:h.yylineno,loc:y,expected:P})}if(w[0]instanceof Array&&w.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+v);switch(w[0]){case 1:n.push(v),r.push(h.yytext),i.push(h.yylloc),n.push(w[1]),v=null,_?(v=_,_=null):(u=h.yyleng,s=h.yytext,a=h.yylineno,y=h.yylloc);break;case 2:if(E=this.productions_[w[1]][1],I.$=r[r.length-E],I._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},g&&(I._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),x=this.performAction.apply(I,[s,u,a,f.yy,w[1],r,i].concat(p)),"undefined"!==typeof x)return x;E&&(n=n.slice(0,-1*E*2),r=r.slice(0,-1*E),i=i.slice(0,-1*E)),n.push(this.productions_[w[1]][0]),r.push(I.$),i.push(I._$),C=o[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}},h=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);return e?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if(n=this._input.match(this.rules[i[o]]),n&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(t=this.test_match(n,i[o]),!1!==t)return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?(t=this.test_match(e,i[r]),!1!==t&&t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){var t=this.conditionStack.length-1;return t>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions["INITIAL"].rules},topState:function(t){return t=this.conditionStack.length-1-Math.abs(t||0),t>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:break;case 1:return 6;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}};return t}();function f(){this.yy={}}return p.lexer=h,f.prototype=p,p.Parser=f,new f}();"undefined"!==typeof H&&(e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)})}));Ai.parser,Ai.Parser,Ai.parse;function ki(t,e){if(t instanceof String||"string"===typeof t||t instanceof n)try{t=Ai.parse(t.toString())}catch(r){return[new si(r)]}return e=e||G,Ni(t,e)}var Ri={StyleExpression:or,isExpression:sr,createExpression:ar,createPropertyExpression:cr,normalizePropertyExpression:hr,ZoomConstantExpression:ur,ZoomDependentExpression:lr,StylePropertyFunction:pr},Di={convertFunction:mr,createFunction:Qn,isFunction:Hn},Fi={eachSource:Tt,eachLayer:Nt,eachProperty:jt};ki.parsed=ki,ki.latest=ki,e.v8=G,e.latest=G,e.format=Y,e.migrate=Zr,e.composite=Xr,e.diff=ii,e.ValidationError=oi,e.ParsingError=si,e.expression=Ri,e.featureFilter=Tr,e.Color=ie,e.function=Di,e.validate=ki,e.visit=Fi,Object.defineProperty(e,"__esModule",{value:!0})}))}).call(this,n(8),n(28).Buffer)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=102)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=window.Zondy=window.Zondy||{};r.Event=r.Event||{},r.Object=r.Object||{},r.Object.ContourAnalyse=r.Object.ContourAnalyse||{},r.Object.Theme=r.Object.Theme||{},r.Service=r.Service||{},r.Socket=r.Socket||{},r.Enum=r.Enum||{},r.Enum.Net=r.Enum.Net||{},r.Enum.Theme=r.Enum.Theme||{},r.Enum.Map=r.Enum.Map||{},r.Catalog=r.Catalog||{},r.Util=r.Util||{},r.CRS=r.CRS||{},r.Map=r.Map||{},r.xsd=r.xsd||{},r.XLink=r.XLink||{},r.extent=r.extent||{},r.xml=r.xml||{},r.array=r.array||{},r.string=r.string||{},r.LevelRenderer=r.LevelRenderer||{},r.LevelRenderer.Tool=r.LevelRenderer.Tool||{},r.LevelRenderer.Animation=r.LevelRenderer.Animation||{},r.Feature=r.Feature||{},r.Feature.ShapeParameters=r.Feature.ShapeParameters||{},r.Geometry=r.Geometry||{},r.Client=r.Client||{},r.Source=r.Source||{},r.GeomInteraction=r.GeomInteraction||{},r.Format=r.Format||{},r.Control=r.Control||{},r.OGC=r.OGC||{},e.Zondy=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasContext2D=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0),o=function(t,e){if(t=t||{},e){for(var n in e){var r=e[n];void 0!==r&&(t[n]=r)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&(t.toString=e.toString)}return t},s=function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=function t(e,n){var i,o=Object.prototype.toString;for(i in e=e||{},n)n.hasOwnProperty(i)&&("object"===r(n[i])?("[object Null]"!==o.call(e[i])&&"[object Undefined]"!==o.call(e[i])||(e[i]="[object Array]"===o.call(n[i])?[]:{}),t(e[i],n[i])):e[i]=n[i],""!==n[i]&&null!==n[i]||(e[i]=n[i]));return e},u=function(t,e){var n;if(t=t||{},e)for(var r in t)void 0!==(n=e[r])&&(t[r]=n)},l=function(t,e,n){var r;if(t=t||{},e)for(var i in e)void 0!==(r=e[i])&&"function"!=typeof r&&n.indexOf(i)<0&&(t[i]=r)},c=function(t){for(var e in t=t||{})if(t.hasOwnProperty(e)){if("object"===r(t[e])&&t[e]instanceof Array){for(var n in t[e])t[e][n].destroy&&t[e][n].destroy();t[e].length=0}else"object"===r(t[e])&&t[e]instanceof Object&&t[e].destroy&&t[e].destroy();t[e]=null}},p=function(){for(var t=[],e=0,n=arguments.length;e<n;e++){var r=arguments[e];if("string"==typeof r&&(r=document.getElementById(r)),1===arguments.length)return r;t.push(r)}return t},h=function(t){return!(!t||1!==t.nodeType)},f=function(t,e){for(var n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1);return t},d=function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},y=function(t,e,n,r,i,o,s,a){e&&(t.id=e),n&&(t.style.left=n.x+"px",t.style.top=n.y+"px"),r&&(t.style.width=r.w+"px",t.style.height=r.h+"px"),i&&(t.style.position=i),o&&(t.style.border=o),s&&(t.style.overflow=s),parseFloat(a)>=0&&parseFloat(a)<1?(t.style.filter="alpha(opacity="+100*a+")",t.style.opacity=a):1===parseFloat(a)&&(t.style.filter="",t.style.opacity="")},g=function(t,e){t=t||{};var n="function"==typeof window.Event&&e instanceof window.Event;for(var r in e)(void 0===t[r]||!n&&e.hasOwnProperty&&e.hasOwnProperty(r)&&!t.hasOwnProperty(r))&&(t[r]=e[r]);return!n&&e&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&!t.hasOwnProperty("toString")&&(t.toString=e.toString),t},m=function(t){var e=[];for(var n in t){var i=t[n];if(null!=i&&"function"!=typeof i){var o;if("object"===(void 0===i?"undefined":r(i))&&i.constructor===Array){for(var s,a=[],u=0,l=i.length;u<l;u++)s=i[u],a.push(encodeURIComponent(null===s||void 0===s?"":s));o=a.join(",")}else o=encodeURIComponent(i);e.push(encodeURIComponent(n)+"="+o)}}return e.join("&")},v=function(t){var e=[];for(var n in t){var i=t[n];if(null!=i&&"function"!=typeof i){var o;if("object"===(void 0===i?"undefined":r(i))&&i.constructor===Array){for(var s,a=[],u=0,l=i.length;u<l;u++)s=i[u],a.push(encodeURIComponent(null===s||void 0===s?"":s));o=a.join(",")}else o=encodeURIComponent(i);e.push(encodeURIComponent(n)+":"+o)}}return e.join(";")},_=function(t,e){var n=t;if(e){var r=(t+" ").split(/[?&]/);n+=" "===r.pop()?e:r.length?"&"+e:"?"+e}return n},b=function(t){var e="";if((t=null===t||void 0===t?window.location.href:t).indexOf("?")>-1){var n=t.indexOf("?")+1;t.indexOf("#");var r=t.indexOf("#")>-1?t.indexOf("#"):t.length;e=t.substring(n,r)}for(var i={},o=e.split(/[&;]/),s=0,a=o.length;s<a;++s){var u=o[s].split("=");if(u[0]){var l=u[0];try{l=decodeURIComponent(l)}catch(t){l=unescape(l)}var c=(u[1]||"").replace(/\+/g," ");try{c=decodeURIComponent(c)}catch(t){c=unescape(c)}1==(c=c.split(",")).length&&(c=c[0]),i[l]=c}}return i},w=function(){var t=navigator.userAgent.toLowerCase();return-1===t.indexOf("webkit")&&-1!==t.indexOf("gecko")}(),x=function(){var t,e="",n="",r="pc",i=navigator.userAgent.toLowerCase();return i.indexOf("msie")>-1||i.indexOf("trident")>-1&&i.indexOf("rv")>-1?(e="msie",t=i.match(/msie ([\d.]+)/)||i.match(/rv:([\d.]+)/)):i.indexOf("chrome")>-1?(e="chrome",t=i.match(/chrome\/([\d.]+)/)):i.indexOf("firefox")>-1?(e="firefox",t=i.match(/firefox\/([\d.]+)/)):i.indexOf("opera")>-1?(e="opera",t=i.match(/version\/([\d.]+)/)):i.indexOf("safari")>-1&&(e="safari",t=i.match(/version\/([\d.]+)/)),n=t?t[1]:"",i.indexOf("ipad")>-1||i.indexOf("ipod")>-1||i.indexOf("iphone")>-1?r="apple":i.indexOf("android")>-1&&(n=(t=i.match(/version\/([\d.]+)/))?t[1]:"",r="android"),{name:e,version:n,device:r}}(),S=function(){return x},E=function(){var t=!0,e=S();return document.createElement("canvas").getContext?("firefox"===e.name&&parseFloat(e.version)<5&&(t=!1),"safari"===e.name&&parseFloat(e.version)<4&&(t=!1),"opera"===e.name&&parseFloat(e.version)<10&&(t=!1),"msie"===e.name&&parseFloat(e.version)<9&&(t=!1)):t=!1,t}(),C=function(){return E},P=function(t){if(!t)return!0;var e=t.indexOf("//"),n=document.location.toString(),r=n.indexOf("//");if(-1===e)return!0;var i,o=i=t.substring(0,e),s=n.substring(r+2);r=s.indexOf("/");var a=s.indexOf(":"),u=s.substring(0,r),l=document.location.protocol;if(-1!==a||(u+=":"+("http:"===l.toLowerCase()?80:443)),l.toLowerCase()!==o.toLowerCase())return!1;var c=(o=t.substring(e+2)).indexOf(":");e=o.indexOf("/");var p,h=o.substring(0,e);return-1!==c?p=o.substring(0,c):(p=o.substring(0,e),h+=":"+("http:"===i.toLowerCase()?80:443)),p===document.domain&&h===u},I=function t(e){var n=e;if(null==n)return null;switch(n.constructor){case String:return(n=(n=(n=(n=(n=(n='"'+n.replace(/(["\\])/g,"\\$1")+'"').replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace("<","&lt;")).replace(">","&gt;")).replace(/%/g,"%25")).replace(/&/g,"%26");case Array:for(var i=[],o=0,s=n.length;o<s;o++)i.push(t(n[o]));return"["+i.join(",")+"]";case Number:return isFinite(n)?String(n):null;case Boolean:return String(n);case Date:return"{'__type':\"System.DateTime\",'Year':"+n.getFullYear()+",'Month':"+(n.getMonth()+1)+",'Day':"+n.getDate()+",'Hour':"+n.getHours()+",'Minute':"+n.getMinutes()+",'Second':"+n.getSeconds()+",'Millisecond':"+n.getMilliseconds()+",'TimezoneOffset':"+n.getTimezoneOffset()+"}";default:if("object"===(void 0===n?"undefined":r(n))){if(n.length){for(i=[],o=0,s=n.length;o<s;o++)i.push(t(n[o]));return"["+i.join(",")+"]"}var a=[];for(var u in n)"function"!=typeof n[u]&&"CLASS_NAME"!==u&&a.push("'"+u+"':"+t(n[u]));return a.length>0?"{"+a.join(",")+"}":"{}"}return n.toString()}},O=function(t){return t.responseText&&"string"==typeof t.responseText&&(t=JSON.parse(t.responseText)),t},M=function(t,e){if(t=t||{},e)for(var n in e){var r=e[n];void 0!==r&&"CLASS_NAME"!==n&&"function"!=typeof r&&(t[n]=r)}return t},T=function(t,e,n){if(t=t||{},e)for(var r in e){var i=!1;if(n&&n.length)for(var o=0,s=n.length;o<s;o++)if(r===n[o]){i=!0;break}if(!0!==i){var a=e[r];void 0!==a&&"CLASS_NAME"!==r&&"function"!=typeof a&&(t[r]=a)}}return t},N=function t(e){if(null===e||"object"!==(void 0===e?"undefined":r(e)))return e;if(e instanceof Date)return(n=new Date).setTime(e.getTime()),n;if(e instanceof Array)return e.slice(0);if(e instanceof Object){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}throw new Error("Unable to copy obj! Its type isn't supported.")},j=function(){for(var t="",e=1;e<=32;e++)t+=Math.floor(16*Math.random()).toString(16),8!=e&&12!=e&&16!=e&&20!=e||(t+="-");return t},L=function(t,e){var n=Array.prototype.slice.apply(arguments,[2]);return function(){var r=n.concat(Array.prototype.slice.apply(arguments,[0]));return t.apply(e,r)}},A=function(t,e){return function(n){return t.call(e,n||window.event)}},k=function(t){switch(t.value){case 0:return"Intersect";case 1:return"Disjoin";case 2:return"Include";case 3:return"Adjacent";default:return"Unknown"}},R=function(t){return t.replace(/([\u4E00-\u9FA5]|[\uFE30-\uFFA0])/g,(function(t){return D(t)}))},D=function(t){var e=escape(t).split("%"),n="";""!=e[0]&&(n=e[0]);for(var r=1;r<e.length;r++)"u"==e[r].substring(0,1)?n+=B(F(e[r].substring(1,5))):n+="%"+e[r];return n},F=function(t){for(var e,n="",r="",i=0;i<t.length;i++)n=t.charAt(i),e="0123456789ABCDEF".indexOf(n),r+=U(e);return r},B=function(t){var e="",n="",r="";if(16==t.length){n="1110"+t.substring(0,4),n+="10"+t.substring(4,10),n+="10"+t.substring(10,16);for(var i="0123456789ABCDEF",o=0;o<3;o++)e+="%",r=n.substring(8*o,8*(o+1)),e+=i.charAt(G(r.substring(0,4))),e+=i.charAt(G(r.substring(4,8)));return e}return""},G=function(t){var e=0;if(4==t.length){for(var n=0;n<4;n++)e+=t.charAt(n)*Math.pow(2,3-n);return e}return-1},U=function(t){for(var e="",n=0,r=0;r<4;r++)t>=(n=Math.pow(2,3-r))?(e+="1",t-=n):e+="0";return e},q=function t(e,n){if("[object Object]"===Object.prototype.toString.call(e)&&"[object Object]"===Object.prototype.toString.call(n))for(var r in n)e[r]?e[r]=t(e[r],n[r]):e[r]=n[r];else e="[object Array]"===Object.prototype.toString.call(e)&&"[object Array]"===Object.prototype.toString.call(n)?e.concat(n):n;return e},z=function(t,e,n,i){e.hasOwnProperty(n)&&("object"!=r(t[n])||{"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1}[Object.prototype.toString.call(t[n])]?!i&&n in t||(t[n]=e[n]):V(t[n],e[n],i))},V=function(t,e,n){for(var r in e)z(t,e,r,n);return t},Z=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=function t(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=0;r<e.length;r++)s(this,new e[r](n))},i=0;i<e.length;i++){var o=e[i];s(r,o),s(r.prototype,o.prototype),s(r.prototype,new o)}return r;function s(t,e){var n=Object.getOwnPropertyNames(e);Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(e)));for(var r=0;r<n.length;r++){var i=n[r];if("constructor"!==i&&"prototype"!==i&&"name"!==i&&"length"!==i){var o=Object.getOwnPropertyDescriptor(e,i);window.ActiveXObject?Object.defineProperty(t,i,o||{}):Object.defineProperty(t,i,o)}}}},X=function(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")};e.extend=o,e.isArray=s,e.extendDeep=a,e.copy=u,e.copyExcluce=l,e.reset=c,e.getElement=p,e.isElement=h,e.removeItem=f,e.indexOf=d,e.modifyDOMElement=y,e.applyDefaults=g,e.getParameterString=m,e.getWFParameterString=v,e.urlAppend=_,e.getParameters=b,e.IS_GECKO=w,e.Browser=x,e.getBrowser=S,e.isSupportCanvas=E,e.supportCanvas=C,e.isInTheSameDomain=P,e.toJSON=I,e.transformResult=O,e.copyAttributes=M,e.copyAttributesWithClip=T,e.cloneObject=N,e.newGuid=j,e.bind=L,e.bindAsEventListener=A,e.getTopAnalysisResult=k,e.ChineseToUtf8=R,e.DeepMerge=q,e.merge=V,e.mixin=Z,e.createCanvasContext2D=X,i.Zondy.Util.extend=o,i.Zondy.Util.isArray=s,i.Zondy.Util.extendDeep=a,i.Zondy.Util.copy=u,i.Zondy.Util.copyExcluce=l,i.Zondy.Util.reset=c,i.Zondy.Util.getElement=p,i.Zondy.Util.isElement=h,i.Zondy.Util.removeItem=f,i.Zondy.Util.indexOf=d,i.Zondy.Util.modifyDOMElement=y,i.Zondy.Util.applyDefaults=g,i.Zondy.Util.getParameterString=m,i.Zondy.Util.getWFParameterString=v,i.Zondy.Util.urlAppend=_,i.Zondy.Util.getParameters=b,i.Zondy.IS_GECKO=w,i.Zondy.Browser=x,i.Zondy.Util.getBrowser=S,i.Zondy.Util.isSupportCanvas=E,i.Zondy.Util.supportCanvas=C,i.Zondy.Util.isInTheSameDomain=P,i.Zondy.Util.toJSON=I,i.Zondy.Util.transformResult=O,i.Zondy.Util.copyAttributes=M,i.Zondy.Util.copyAttributesWithClip=T,i.Zondy.Util.cloneObject=N,i.Zondy.Util.newGuid=j,i.Zondy.Util.bind=L,i.Zondy.Util.bindAsEventListener=A,i.Zondy.Util.getTopAnalysisResult=k,i.Zondy.Util.ChineseToUtf8=R,i.Zondy.Util.DeepMerge=q,i.Zondy.Util.merge=V,i.Zondy.Util.mixin=Z,i.Zondy.Util.createCanvasContext2D=X},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IgsServiceBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(62),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=n||{};var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.CLASS_NAME="Zondy.IgsServiceBase",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.CommonServiceBase),r(e,[{key:"destroy",value:function(){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this);var t=this;t.events&&(t.events.un(t.eventListeners),t.events.listeners=null,t.events.destroy(),t.events=null,t.eventListeners=null)}},{key:"processAsync",value:function(t){this.request({method:t&&t.method?t.method:"GET",scope:this,success:this.serviceProcessCompleted,failure:this.serviceProcessFailed,data:t&&t.data?t.data:null,headers:t&&t.headers?t.headers:null})}},{key:"serviceProcessCompleted",value:function(t){(t=(0,i.transformResult)(t)).succeed?this.events&&this.events.triggerEvent("processCompleted",{result:t}):this.events.triggerEvent("processFailed",{error:t})}}]),e}();e.IgsServiceBase=s,Zondy.Service.IgsServiceBase=s},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=void 0;var i=n(0);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={SFCls:"SFeatureCls",OCls:"ObjectCls",ACls:"AnnotationCls",GnetCls:"GNetCls",RDS:"RasterDataset",SFClsInfo:"sfcls_new"};e.XClsType=s,i.Zondy.Enum.XClsType=s;var a={Unknown:0,SFCls:"SFeatureCls",AnnoCls:"AnnotationCls"};e.VectClsType=a,i.Zondy.Enum.VectClsType=a;var u={Unknown:0,Pnt:1,Lin:2,Reg:3};e.FeatureType=u,i.Zondy.Enum.FeatureType=u;var l={Positive:0,LeftOblique:1,RightOblique:2,LeftTowering:3,RightTowering:4};e.FontShape=l,i.Zondy.Enum.FontShape=l;var c={Curved:0,Forward:1,Horizontal:2,Tangent:3};e.LabelLinType=c,i.Zondy.Enum.LabelLinType=c;var p={Curved:0,Forward:1,Horizontal:2,Boundray:3,Outside:4};e.LabelRegType=p,i.Zondy.Enum.LabelRegType=p;var h={PntAnyDir:0,PntEightDir:1,PntOnFea:2};e.LabelPntType=h,i.Zondy.Enum.LabelPntType=h;var f={Auto:0,NoRep:1,OnStep:2};e.RepeatType=f,i.Zondy.Enum.RepeatType=f;var d={AutoSpread:0,Centralization:1,Decentralization:2};e.LabelSpreadType=d,i.Zondy.Enum.LabelSpreadType=d;var y={Left:0,Right:1,Above:2,Below:3,Both:4,NoRes:5};e.LineConstrain=y,i.Zondy.Enum.LineConstrain=y;var g={East:0,North:1,NorthEast:2,NorthWest:3,South:4,SouthEast:5,SouthWest:6,West:7,NoDir:8};e.EightDirType=g,i.Zondy.Enum.EightDirType=g;var m={Reg:0,Arc:1,All:2};e.ISShowArc=m,i.Zondy.Enum.ISShowArc=m;var v=(o(r={UserMode:"UserMode",SysModeCommwayPrefer:"SysModeCommwayPrefer",SysModeHighWayPrefer:"SysModeHighWayPrefer",SysModeMinCost:"SysModeMinCost",SysModeMinDis:"SysModeMinDis"},"SysModeMinDis","SysModeMinDis"),o(r,"SysModeSysRecommend","SysModeSysRecommend"),r);e.NetAnalyType=v,i.Zondy.Enum.Net.NetAnalyType=v;var _={Node:1,Edge:2,CNode:3,Chain:4,Center:5,Source:13,Sink:13};e.NetElemType=_,i.Zondy.Enum.Net.NetElemType=_;var b={Adjust:0,NoAdjust:1};e.CLinAdjustType=b,i.Zondy.Enum.Theme.CLinAdjustType=b;var w={Round:0,Square:1,Butt:2};e.CLinHeadType=w,i.Zondy.Enum.Theme.CLinHeadType=w;var x={Round:0,Square:1,Butt:2};e.CLinJointType=x,i.Zondy.Enum.Theme.CLinJointType=x;var S={Byrule:0,Bypoint:1};e.CLinStyleMakeType=S,i.Zondy.Enum.Theme.CLinStyleMakeType=S;var E={Unknown:0,UniqueTheme:1,RangeTheme:2};e.CItemType=E,i.Zondy.Enum.Theme.CItemType=E;var C={Doc:"mapType",Tile:"tileType"};e.MapType=C,i.Zondy.Enum.Map.MapType=C;var P={Show:"show",Hide:"hide",Include:"include",Exclude:"exclude"};e.LayerStatusType=P,i.Zondy.Enum.Map.LayerStatusType=P},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,o.extend)(this,e),this.baseUrl=e&&e.baseUrl?e.baseUrl:null,this.ip=e&&e.ip?e.ip:"localhost",this.port=e&&e.port?e.port:"6163",this.partUrl=e&&e.partUrl?e.partUrl:null,this.networkProtocol=e&&e.networkProtocol?e.networkProtocol:location.protocol.split(":")[0]||"http",this.domain=e&&e.domain?e.domain:""}return r(t,[{key:"getFullUrl",value:function(){var t=this,e=null;if(i.Zondy.Util.isArray(t.ip))for(var n=0;n<t.ip.length;n++){e=new Array;var r=null;r=(0,o.isArray)(t.port)?void 0!==t.port[n]?t.port[n]:"6163":void 0!==t.port?t.port:"6163";var s=null;s=(0,o.isArray)(t.partUrl)?void 0!==t.partUrl[n]?t.partUrl[n]:null:void 0!==t.partUrl?t.partUrl:null,""===t.domain?t.domainStr=t.networkProtocol+"://"+t.ip[n]+":"+r:t.domainStr=t.domain,e.push(encodeURI((t.domainStr+"/"+t.baseUrl+"/"+s).trim()))}else""===t.domain?t.domainStr=t.networkProtocol+"://"+t.ip+":"+t.port:t.domainStr=t.domain,e=encodeURI((t.domainStr+"/"+t.baseUrl+"/"+t.partUrl).trim());return e}}]),t}();e.ServiceBase=s,i.Zondy.Service.ServiceBase=s},function(t,e,n){"use strict";var r=n(97),i=n(180),o=Object.prototype.toString;function s(t){return"[object Array]"===o.call(t)}function a(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return a(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point2D=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),o=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.x=void 0!==t?t:null,o.y=void 0!==n?n:null,o.nearDis=void 0!==i.nearDis?parseFloat(i.nearDis):null,o.CLASS_NAME="Zondy.Object.Point2D",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),r(e,[{key:"getGeometryType",value:function(){return"point"}},{key:"setByOL",value:function(t){if(void 0!==t){var e=t.getCoordinates();this.x=e[0],this.y=e[1]}}},{key:"toString",value:function(){if(null===this.x||null===this.y)return"";var t=this.x+","+this.y;return void 0!==this.nearDis&&(t+=";"+this.nearDis),t}}]),e}();e.Point2D=o,Zondy.Object.Point2D=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CTheme=void 0;var r=n(0),i=n(1),o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=void 0!==e?e:{};(0,i.extend)(this,n),this.Name=n&&n.Name?n.Name:null,this.IsBaseTheme=!n||!n.IsBaseTheme||n.IsBaseTheme,this.Visible=!n||!n.Visible||n.Visible};e.CTheme=o,r.Zondy.Object.Theme.CTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnalysisBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(4),a=n(2),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};n.baseUrl="igs/rest/mrfws";var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.flowID=void 0!==n.flowID?n.flowID:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.ServiceBase),r(e,[{key:"execute",value:function(t,e,n){var r={};if((0,o.copyExcluce)(r,this,["port","ip","baseUrl","partUrl","flowID"]),e||(e="get"),"get"===e.toLowerCase()&&(this.partUrl="execute/"+this.flowID+"?isAsy=false&f=json",null!==r)){var i=(0,o.getWFParameterString)(r);null===i&&""===i||(this.partUrl+="&paraValues="+i)}if("post"===e.toLowerCase()){this.partUrl="execute/"+this.flowID+"?isAsy=false&f=json";var s=new Array;if(null!==r)for(var u in r)if(null!==r[u]){var l={};l.Key=u,l.Value=r[u].toString(),s.push(l)}r=s}var c=this.getFullUrl(),p=new a.IgsServiceBase(c,{eventListeners:{scope:this,processCompleted:t,processFailed:n}});"post"===e.toLowerCase()?p.processAsync({method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}}):p.processAsync()}}]),e}();e.AnalysisBase=u,i.Zondy.Service.AnalysisBase=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CThemeInfo=void 0;var r=n(0),i=n(1);n(20),n(80),n(81);var o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=void 0!==e?e:{};(0,i.extend)(this,n),this.Caption=void 0!==n.Caption?n.Caption:null,this.IsVisible=void 0===n.IsVisible||n.IsVisible,this.MaxScale=void 0!==n.MaxScale?parseFloat(n.MaxScale):0,this.MinScale=void 0!==n.MinScale?parseFloat(n.MinScale):0,this.RegInfo=void 0!==n.RegInfo?n.RegInfo:null,this.LinInfo=void 0!==n.LinInfo?n.LinInfo:null,this.PntInfo=void 0!==n.PntInfo?n.PntInfo:null};e.CThemeInfo=o,r.Zondy.Object.Theme.CThemeInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Tangram=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e||{};(0,o.extend)(this,n)}return r(t,[{key:"setByOL",value:function(t){return null}},{key:"toString",value:function(){return""}},{key:"getGeometryType",value:function(){}},{key:"Trim",value:function(t,e){var n;return n=t.replace(/(^\s+)|(\s+$)/g,""),"g"===e.toLowerCase()&&(n=n.replace(/\s/g,"")),n}}]),t}();e.Tangram=s,i.Zondy.Object.Tangram=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeometryAnalysisBase=void 0;var r=n(0),i=n(4),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};return n.baseUrl="igs/rest/mrgs",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.GeometryAnalysisBase=o,r.Zondy.Service.GeometryAnalysisBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CatalogService=void 0;var r=n(0),i=n(4),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};return n.baseUrl="igs/rest/mrcs",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.CatalogService=o,r.Zondy.Catalog.CatalogService=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapServiceBase=void 0;var r=n(0),i=n(4),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};return n.baseUrl="igs/rest/mrms",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.MapServiceBase=o,r.Zondy.Service.MapServiceBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryServiceBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(4),a=n(54),u=n(28),l=n(2),c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};n.baseUrl="igs/rest/mrfs";var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.resultCallBack=void 0!==n.resultCallBack?n.resultCallBack:null,r.queryParam=void 0!==n.queryParam?n.queryParam:null,r.requestType=void 0!==n.requestType?n.requestType:"GET",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.ServiceBase),r(e,[{key:"processResult",value:function(t){var e=new a.FeatureSet;(0,o.copyExcluce)(e,t,"succeed"),this.resultCallBack(e)}},{key:"processGeoJsonResult",value:function(t){var e={};(0,o.copyExcluce)(e,t,"succeed"),this.resultCallBack(e)}},{key:"restQuery",value:function(t,e,n,r,i,o){this.resultCallBack=n;var s=new l.IgsServiceBase(t,{eventListeners:{scope:this,processCompleted:"geojson"!==o?this.processResult:this.processGeoJsonResult,processFailed:i}});"GET"===r?s.processAsync():s.processAsync({method:"POST",data:JSON.stringify(e),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"query",value:function(t,e,n){if(null!==this.queryParam){var r="";if(this.queryParam instanceof u.QueryParameter){r=this.getFullUrl();var i="",o=null;"GET"===(i=n||(this.requestType?this.requestType:"GET")).toUpperCase()?(r+="?"+this.queryParam.getParameterURL(),r=encodeURI(r)):o=this.queryParam.getParameterObject(),this.restQuery(r,o,t,i,e,this.queryParam.resultFormat.toLowerCase())}}}}]),e}();e.QueryServiceBase=c,i.Zondy.Service.QueryServiceBase=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pushSerializeAndPop=e.serialize=e.pushParseAndPop=e.parseNode=e.makeStructureNS=e.makeSequence=e.OBJECT_PROPERTY_NODE_FACTORY=e.makeSimpleNodeFactory=e.makeArraySerializer=e.makeChildAppender=e.makeObjectPropertySetter=e.makeObjectPropertyPusher=e.makeReplacer=e.makeArrayPusher=e.makeArrayExtender=e.parse=e.getAttributeNS=e.isNode=e.isDocument=e.getAllTextContent_=e.getAllTextContent=e.createElementNS=e.XML_SCHEMA_INSTANCE_URI=e.DOCUMENT=void 0;var r=n(0),i=n(171),o=document.implementation.createDocument("","",null),s=function(t,e){return o.createElementNS(t,e)},a=function(t,e){return u(t,e,[]).join("")},u=function t(e,n,r){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE)n?r.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):r.push(e.nodeValue);else{var i=void 0;for(i=e.firstChild;i;i=i.nextSibling)t(i,n,r)}return r},l=function(t){return t instanceof Document},c=function(t){return t instanceof Node},p=function(t,e,n){return t.getAttributeNS(e,n)||""},h=function(t){return(new DOMParser).parseFromString(t,"application/xml")},f=function(t,e){return function(n,r){var o=t.call(void 0!==e?e:this,n,r);if(void 0!==o){var s=r[r.length-1];(0,i.extend)(s,o)}}},d=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&r[r.length-1].push(i)}},y=function(t,e){return function(n,r){var i=t.call(void 0!==e?e:this,n,r);void 0!==i&&(r[r.length-1]=i)}},g=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);if(void 0!==o){var s=i[i.length-1],a=void 0!==e?e:r.localName;(a in s?s[a]:s[a]=[]).push(o)}}},m=function(t,e,n){return function(r,i){var o=t.call(void 0!==n?n:this,r,i);void 0!==o&&(i[i.length-1][void 0!==e?e:r.localName]=o)}},v=function(t,e){return function(n,r,i){t.call(void 0!==e?e:this,n,r,i),i[i.length-1].node.appendChild(n)}},_=function(t,e){var n=void 0,r=void 0;return function(e,i,o){if(void 0===n){n={};var s={};s[e.localName]=t,n[e.namespaceURI]=s,r=b(e.localName)}P(n,r,i,o)}},b=function(t,e){var n=t;return function(t,r,i){var o=r[r.length-1].node,a=n;void 0===a&&(a=i);var u=void 0!==e?e:o.namespaceURI;return s(u,a)}},w=b(),x=function(t,e){for(var n=e.length,r=new Array(n),i=0;i<n;++i)r[i]=t[e[i]];return r},S=function(t,e,n){var r,i=void 0!==n?n:{},o=void 0;for(o=0,r=t.length;o<r;++o)i[t[o]]=e;return i},E=function(t,e,n,r){var i=void 0;for(i=e.firstElementChild;i;i=i.nextElementSibling){var o=t[i.namespaceURI];if(void 0!==o){var s=o[i.localName];void 0!==s&&s.call(r,i,n)}}},C=function(t,e,n,r,i){return r.push(t),E(e,n,r,i),r.pop()},P=function(t,e,n,r,i,o){for(var s=(void 0!==i?i:n).length,a=void 0,u=void 0,l=0;l<s;++l)void 0!==(a=n[l])&&void 0!==(u=e.call(void 0!==o?o:this,a,r,void 0!==i?i[l]:void 0))&&t[u.namespaceURI][u.localName].call(o,u,a,r)},I=function(t,e,n,r,i,o,s){return i.push(t),P(e,n,r,i,o,s),i.pop()};e.DOCUMENT=o,e.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance",e.createElementNS=s,e.getAllTextContent=a,e.getAllTextContent_=u,e.isDocument=l,e.isNode=c,e.getAttributeNS=p,e.parse=h,e.makeArrayExtender=f,e.makeArrayPusher=d,e.makeReplacer=y,e.makeObjectPropertyPusher=g,e.makeObjectPropertySetter=m,e.makeChildAppender=v,e.makeArraySerializer=_,e.makeSimpleNodeFactory=b,e.OBJECT_PROPERTY_NODE_FACTORY=w,e.makeSequence=x,e.makeStructureNS=S,e.parseNode=E,e.pushParseAndPop=C,e.serialize=P,e.pushSerializeAndPop=I,r.Zondy.xml.DOCUMENT=o,r.Zondy.xml.XML_SCHEMA_INSTANCE_URI="http://www.w3.org/2001/XMLSchema-instance",r.Zondy.xml.createElementNS=s,r.Zondy.xml.getAllTextContent=a,r.Zondy.xml.getAllTextContent_=u,r.Zondy.xml.isDocument=l,r.Zondy.xml.isNode=c,r.Zondy.xml.getAttributeNS=p,r.Zondy.xml.parse=h,r.Zondy.xml.makeArrayExtender=f,r.Zondy.xml.makeArrayPusher=d,r.Zondy.xml.makeReplacer=y,r.Zondy.xml.makeObjectPropertyPusher=g,r.Zondy.xml.makeObjectPropertySetter=m,r.Zondy.xml.makeChildAppender=v,r.Zondy.xml.makeArraySerializer=_,r.Zondy.xml.makeSimpleNodeFactory=b,r.Zondy.xml.OBJECT_PROPERTY_NODE_FACTORY=w,r.Zondy.xml.makeSequence=x,r.Zondy.xml.makeStructureNS=S,r.Zondy.xml.parseNode=E,r.Zondy.xml.pushParseAndPop=C,r.Zondy.xml.serialize=P,r.Zondy.xml.applyTransform=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAttStruct=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.FldNumber=void 0!==e.FldNumber?e.FldNumber:0,this.FldName=void 0!==e.FldName?e.FldName:null,this.FldType=void 0!==e.FldType?e.FldType:null};e.CAttStruct=o,r.Zondy.Object.CAttStruct=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLineInfo=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Color=void 0!==e.Color&&null!==e.Color?e.Color:1,this.LinStyleID=void 0!==e.LinStyleID&&null!==e.LinStyleID?e.LinStyleID:1,this.LinStyleID2=void 0!==e.LinStyleID2&&null!==e.LinStyleID2?e.LinStyleID2:0,this.LinWidth=void 0!==e.LinWidth&&null!==e.LinWidth?e.LinWidth:1,this.Xscale=void 0!==e.Xscale&&null!==e.Xscale?e.Xscale:1,this.Yscale=void 0!==e.Yscale&&null!==e.Yscale?e.Yscale:1};e.CLineInfo=o,r.Zondy.Object.CLineInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureGraphicBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=void 0!==e?e:{};(0,o.extend)(this,n),this.GID=void 0!==n.GID&&null!==n.GID?n.GID:0}return r(t,[{key:"setGID",value:function(t){void 0!==t&&null!==t&&(this.GID=t)}}]),t}();e.FeatureGraphicBase=s,i.Zondy.Object.FeatureGraphicBase=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipBase=void 0;var r=n(0),i=n(8),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.desInfo=void 0!==n.desInfo?n.desInfo:null,r.attOptType=void 0!==n.attOptType?n.attOptType:1,r.infoOptType=void 0!==n.infoOptType?n.infoOptType:1,r.overType=void 0!==n.overType?n.overType:3,r.tolerance=void 0!==n.tolerance?n.tolerance:1e-4,r.isCleanNode=void 0!==n.isCleanNode&&n.isCleanNode,r.isLabelPnt=void 0!==n.isLabelPnt&&n.isLabelPnt,r.isValidReg=void 0!==n.isValidReg&&n.isValidReg,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ClipBase=o,r.Zondy.Service.ClipBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPntInfo=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Angle?e.Angle:0,this.BackClr=void 0!==e.BackClr?e.BackClr:0,this.BackExp=void 0!==e.BackExp?e.BackExp:0,this.FillFlg=void 0!==e.FillFlg?e.FillFlg:0,this.Height=void 0!==e.Height?e.Height:0,this.Width=void 0!==e.Width?e.Width:0,this.OutClr=void 0!==e.OutClr?e.OutClr:[0,0,0],this.SymID=void 0!==e.SymID?e.SymID:0,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:[.05,.05,.05]};e.CPntInfo=o,r.Zondy.Object.Theme.CPntInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnyLine=void 0;var r=n(0),i=n(1),o=function(t,e){var n=void 0!==e?e:{};(0,i.extend)(this,n),this.Arcs=void 0!==t&&null!==t?t:null};e.AnyLine=o,r.Zondy.Object.AnyLine=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CPointInfo=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Angle=void 0!==e.Angle&&null!==e.Angle?e.Angle:1,this.Color=void 0!==e.Color&&null!==e.Color?e.Color:1,this.SymHeight=void 0!==e.SymHeight&&null!==e.SymHeight?e.SymHeight:1,this.SymID=void 0!==e.SymID&&null!==e.SymID?e.SymID:1,this.SymWidth=void 0!==e.SymWidth&&null!==e.SymWidth?e.SymWidth:1};e.CPointInfo=o,r.Zondy.Object.CPointInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRegionInfo=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.EndColor=void 0!==e.EndColor&&null!==e.EndColor?e.EndColor:1,this.FillColor=void 0!==e.FillColor&&null!==e.FillColor?e.FillColor:1,this.FillMode=void 0!==e.FillMode&&null!==e.FillMode?e.FillMode:0,this.OutPenWidth=void 0!==e.OutPenWidth&&null!==e.OutPenWidth?e.OutPenWidth:1,this.PatAngle=void 0!==e.PatAngle&&null!==e.PatAngle?e.PatAngle:1,this.PatColor=void 0!==e.PatColor&&null!==e.PatColor?e.PatColor:1,this.PatHeight=void 0!==e.PatHeight&&null!==e.PatHeight?e.PatHeight:1,this.PatID=void 0!==e.PatID&&null!==e.PatID?e.PatID:1,this.PatWidth=void 0!==e.PatWidth&&null!==e.PatWidth?e.PatWidth:1};e.CRegionInfo=o,r.Zondy.Object.CRegionInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GPoint=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(18),s=n(6),a=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return void 0!==t&&null!==t&&void 0!==n&&null!==n&&(o.Dot=new s.Point2D(t,n)),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.FeatureGraphicBase),r(e,[{key:"setDot",value:function(t){this.Dot=void 0!==t&&null!==t?t:null}}]),e}();e.GPoint=a,i.Zondy.Object.GPoint=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLine=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(18);n(21);var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.Line=void 0!==t&&null!==t?t:null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.FeatureGraphicBase),r(e,[{key:"setLine",value:function(t){this.Line=void 0!==t&&null!==t?t:null}}]),e}();e.GLine=s,i.Zondy.Object.GLine=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GRegion=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(18);n(21);var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.Rings=void 0!==t&&null!==t&&Array.isArray(t)?t:null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.FeatureGraphicBase),r(e,[{key:"setRings",value:function(t){this.Rings=void 0!==t&&null!==t?t:null}}]),e}();e.GRegion=s,i.Zondy.Object.GRegion=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditServiceBase=void 0;var r=n(0),i=n(4),o=n(1),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.guid=void 0!==n.guid?n.guid:(0,o.newGuid)(),r.baseUrl="igs/rest/mrfs",r.f=void 0!==n.f?n.f:"json",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.EditServiceBase=s,r.Zondy.Service.EditServiceBase=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParameter=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(70),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.QueryParameterBase),r(e,[{key:"getParameterURL",value:function(){var t="page="+this.pageIndex.toString();return t+="&pageCount="+this.recordNumber.toString(),t+="&f="+this.resultFormat,this.geometry&&(t+="&geometry="+this.geometry.toString(),t+="&geometryType="+this.geometry.getGeometryType()),this.struct&&(t+="&structs="+(0,o.toJSON)(this.struct)),this.where&&(t+="&where="+this.where),this.rule&&(t+="&rule="+(0,o.toJSON)(this.rule)),this.objectIds&&(t+="&objectIds="+this.objectIds),this.orderField&&(t+="&orderField="+this.orderField),this.isAsc&&(t+="&isAsc="+this.isAsc),this.proj&&(t+="&srsIds="+this.proj),t+"&cursorType="+this.cursorType}},{key:"getParameterObject",value:function(){var t={};return t.f=this.resultFormat,null!==this.struct&&(t.structs=this.struct.toJSON()),null!==this.objectIds?(t.objectIds=this.objectIds,t):(t.page=this.pageIndex.toString(),t.pageCount=this.recordNumber.toString(),null!==this.geometry&&(t.geometry=this.geometry.toString(),t.geometryType=this.geometry.getGeometryType()),null!==this.where&&(t.where=this.where),null!==this.rule&&(t.rule=this.rule.toJSON()),null!==this.orderField&&(t.orderField=this.orderField),null!==this.isAsc&&(t.isAsc=this.isAsc),t.cursorType=this.cursorType,t)}}]),e}();e.QueryParameter=a,i.Zondy.Service.QueryParameter=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryFeatureStruct=void 0;var r=n(0),i=n(1),o=function(t){var e=t||{};(0,i.extend)(this,e),this.IncludeAttribute=void 0===e.IncludeAttribute||"boolean"!=typeof e.IncludeAttribute||e.IncludeAttribute,this.IncludeGeometry=void 0!==e.IncludeGeometry&&"boolean"==typeof e.IncludeGeometry&&e.IncludeGeometry,this.IncludeWebGraphic=void 0!==e.IncludeWebGraphic&&"boolean"==typeof e.IncludeWebGraphic&&e.IncludeWebGraphic};o.prototype.toJSON=function(){return(0,i.toJSON)(this)},e.QueryFeatureStruct=o,r.Zondy.Service.QueryFeatureStruct=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferBase=void 0;var r=n(0),i=n(8),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.srcInfo=void 0!==n.srcInfo?n.srcInfo:null,r.desInfo=void 0!==n.desInfo?n.desInfo:null,r.idstr=void 0!==n.idstr?n.idstr:"",r.angleType=void 0!==n.angleType?n.angleType:0,r.isDissolve=void 0===n.isDissolve||n.isDissolve,r.isDynPrj=void 0!==n.isDynPrj&&n.isDynPrj,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ClassBufferBase=o,r.Zondy.Service.ClassBufferBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffBase=void 0;var r=n(0),i=n(8),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.sfGeometryXML=void 0!==n.sfGeometryXML?n.sfGeometryXML:null,r.attStrctXML=void 0!==n.attStrctXML?n.attStrctXML:null,r.attRowsXML=void 0!==n.attRowsXML?n.attRowsXML:null,r.traceRadius=void 0!==n.traceRadius?n.traceRadius:1e-4,r.resultName=void 0!==n.resultName?n.resultName:null,r.inFormat=void 0!==n.inFormat?n.inFormat:"json",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.FeatureBuffBase=o,r.Zondy.Service.FeatureBuffBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayBase=void 0;var r=n(0),i=n(8),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.srcInfo1=void 0!==n.srcInfo1?n.srcInfo1:null,r.desInfo=void 0!==n.desInfo?n.desInfo:null,r.attOptType=void 0!==n.attOptType?n.attOptType:1,r.infoOptType=void 0!==n.infoOptType?n.infoOptType:1,r.overType=void 0!==n.overType?n.overType:3,r.isCleanNode=void 0!==n.isCleanNode&&n.isCleanNode,r.isLabelPnt=void 0!==n.isLabelPnt&&n.isLabelPnt,r.isValidReg=void 0!==n.isValidReg&&n.isValidReg,r.isReCalculate=void 0===n.isReCalculate||n.isReCalculate,r.radius=void 0!==n.radius?n.radius:.001,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.OverlayBase=o,r.Zondy.Service.OverlayBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectBase=void 0;var r=n(0),i=n(8),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.clsName=void 0!==n.clsName?n.clsName:null,r.desClsName=void 0!==n.desClsName?n.desClsName:null,r.resultName=void 0!==n.resultName?n.resultName:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ProjectBase=o,r.Zondy.Service.ProjectBase=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalServiceBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(11),s=(n(6),n(2)),a=n(35),u=n(36),l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.dots=void 0!==n.dots?n.dots:null,r.projectInfo=void 0!==n.projectInfo?n.projectInfo:null,r.projectInfoBySRSID=void 0!==n.projectInfoBySRSID?n.projectInfoBySRSID:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),r(e,[{key:"execute",value:function(t,e,n){t instanceof a.CProjectParam&&(this.projectInfo=t),t instanceof u.CProjectBySRSID&&(this.projectInfoBySrsID=t);var r={};r.Dots=this.dots,r.ProjectInfo=this.projectInfo,r.ProjectInfoBySrsID=this.projectInfoBySrsID;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(r),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.CalServiceBase=l,i.Zondy.Service.CalServiceBase=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CProjectParam=void 0;var r=n(0),i=n(1),o=function(t){var e=t||{};(0,i.extend)(this,e),this.ProjAngleUnit=void 0!==e.ProjAngleUnit?e.ProjAngleUnit:0,this.ProjLat=void 0!==e.ProjLat?e.ProjLat:0,this.ProjLat1=void 0!==e.ProjLat1?e.ProjLat1:0,this.ProjLat2=void 0!==e.ProjLat2?e.ProjLat2:0,this.ProjLon=void 0!==e.ProjLon?e.ProjLon:0,this.ProjRate=void 0!==e.ProjRate?e.ProjRate:0,this.ProjType=void 0!==e.ProjType?e.ProjType:0,this.ProjTypeID=void 0!==e.ProjTypeID?e.ProjTypeID:0,this.ProjUnit=void 0!==e.ProjUnit?e.ProjUnit:0,this.ProjZoneNO=void 0!==e.ProjZoneNO?e.ProjZoneNO:0,this.ProjZoneType=void 0!==e.ProjZoneType?e.ProjZoneType:0,this.SphereID=void 0!==e.SphereID?e.SphereID:0};e.CProjectParam=o,r.Zondy.Service.CProjectParam=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CProjectBySRSID=void 0;var r=n(0),i=(n(49),function(t,e){this.DesSrsID=t,this.GdbInfo=e});e.CProjectBySRSID=i,r.Zondy.Service.CProjectBySRSID=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderInfoAttribute=void 0;var r=n(0),i=function(t,e){this.name=void 0!==t?t:null,this.Value=void 0!==e?e:null};e.FolderInfoAttribute=i,r.Zondy.Object.Theme.FolderInfoAttribute=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readHref=void 0;var r=n(0),i=function(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")};e.readHref=i,r.Zondy.XLink.readHref=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(15),s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"read",value:function(t){if((0,o.isDocument)(t))return this.readFromDocument(t);if((0,o.isNode)(t))return this.readFromNode(t);if("string"==typeof t){var e=(0,o.parse)(t);return this.readFromDocument(e)}return null}},{key:"readFromDocument",value:function(t){}},{key:"readFromNode",value:function(t){}}]),t}();e.default=s,i.Zondy.Format.XML=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.writeStringTextNode=e.writeNonNegativeIntegerTextNode=e.writeDecimalTextNode=e.writeDateTimeTextNode=e.writeCDATASection=e.writeBooleanTextNode=e.readString=e.readNonNegativeIntegerString=e.readNonNegativeInteger=e.readDecimalString=e.readDecimal=e.readDateTime=e.readBooleanString=e.readBoolean=void 0;var r=n(0),i=n(15),o=n(172),s=function(t){var e=(0,i.getAllTextContent)(t,!1);return a(e)},a=function(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0},u=function(t){var e=(0,i.getAllTextContent)(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3},l=function(t){var e=(0,i.getAllTextContent)(t,!1);return c(e)},c=function(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0},p=function(t){var e=(0,i.getAllTextContent)(t,!1);return h(e)},h=function(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0},f=function(t){return(0,i.getAllTextContent)(t,!1).trim()},d=function(t,e){_(t,e?"1":"0")},y=function(t,e){t.appendChild(i.DOCUMENT.createCDATASection(e))},g=function(t,e){var n=new Date(1e3*e),r=n.getUTCFullYear()+"-"+(0,o.padNumber)(n.getUTCMonth()+1,2)+"-"+(0,o.padNumber)(n.getUTCDate(),2)+"T"+(0,o.padNumber)(n.getUTCHours(),2)+":"+(0,o.padNumber)(n.getUTCMinutes(),2)+":"+(0,o.padNumber)(n.getUTCSeconds(),2)+"Z";t.appendChild(i.DOCUMENT.createTextNode(r))},m=function(t,e){var n=e.toPrecision();t.appendChild(i.DOCUMENT.createTextNode(n))},v=function(t,e){var n=e.toString();t.appendChild(i.DOCUMENT.createTextNode(n))},_=function(t,e){t.appendChild(i.DOCUMENT.createTextNode(e))};e.readBoolean=s,e.readBooleanString=a,e.readDateTime=u,e.readDecimal=l,e.readDecimalString=c,e.readNonNegativeInteger=p,e.readNonNegativeIntegerString=h,e.readString=f,e.writeBooleanTextNode=d,e.writeCDATASection=y,e.writeDateTimeTextNode=g,e.writeDecimalTextNode=m,e.writeNonNegativeIntegerTextNode=v,e.writeStringTextNode=_,r.Zondy.xsd.readBoolean=s,r.Zondy.xsd.readBooleanString=a,r.Zondy.xsd.readDateTime=u,r.Zondy.xsd.readDecimal=l,r.Zondy.xsd.readDecimalString=c,r.Zondy.xsd.readNonNegativeInteger=p,r.Zondy.xsd.readNonNegativeIntegerString=h,r.Zondy.xsd.readString=f,r.Zondy.xsd.writeBooleanTextNode=d,r.Zondy.xsd.writeCDATASection=y,r.Zondy.xsd.writeDateTimeTextNode=g,r.Zondy.xsd.writeDecimalTextNode=m,r.Zondy.xsd.writeNonNegativeIntegerTextNode=v,r.Zondy.xsd.writeStringTextNode=_},function(t,e,n){"use strict";(function(e){var r=n(5),i=n(182),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a={adapter:function(){var t;return("undefined"!=typeof XMLHttpRequest||void 0!==e)&&(t=n(98)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){a.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){a.headers[t]=r.merge(o)})),t.exports=a}).call(this,n(67))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynShowStyle=void 0;var r=n(0),i=n(1),o=(n(43),n(3),n(17),n(22),n(23),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Alpha=void 0!==e.Alpha?e.Alpha:0,this.BugSpare=void 0!==e.BugSpare&&e.BugSpare,this.CustomRender=void 0!==e.CustomRender&&e.CustomRender,this.CustomRenderPath=void 0!==e.CustomRenderPath?e.CustomRenderPath:null,this.DirectionLineClr=void 0!==e.DirectionLineClr?e.DirectionLineClr:0,this.DynNoteFlag=void 0!==e.DynNoteFlag&&e.DynNoteFlag,this.DynNoteInfo=void 0!==e.DynNoteInfo?e.DynNoteInfo:null,this.IsShowArc=void 0!==e.IsShowArc?e.IsShowArc:0,this.ISShowLineDirection=void 0!==e.ISShowLineDirection&&e.ISShowLineDirection,this.LineInfo=void 0!==e.LineInfo?e.LineInfo:null,this.MaxScale=void 0!==e.MaxScale?e.MaxScale:0,this.MinScale=void 0!==e.MinScale?e.MinScale:0,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.SpareLineInfo=void 0!==e.SpareLineInfo?e.SpareLineInfo:null,this.SparePointInfo=void 0!==e.SparePointInfo?e.SparePointInfo:null,this.SpareRegInfo=void 0!==e.SpareRegInfo?e.SpareRegInfo:null,this.SymbleScale=void 0!==e.SymbleScale?e.SymbleScale:0});e.DynShowStyle=o,r.Zondy.Object.DynShowStyle=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDynNoteInfo=void 0;var r=n(0),i=n(1),o=n(3),s=(n(44),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Angle=void 0!==e.Angle?e.Angle:0,this.Backclr=void 0!==e.Backclr?e.Backclr:0,this.Backexp=void 0!==e.Backexp?e.Backexp:0,this.Bold=void 0!==e.Bold?e.Bold:0,this.FieldName=void 0!==e.FieldName?e.FieldName:null,this.FontAngle=void 0!==e.FontAngle?e.FontAngle:0,this.FontColor=void 0!==e.FontColor?e.FontColor:0,this.FontSize=void 0!==e.FontSize?e.FontSize:0,this.FontStyle=void 0!==e.FontStyle?e.FontStyle:0,this.Ifnt=void 0!==e.Ifnt?e.Ifnt:0,this.Ifnx=void 0!==e.Ifnx?e.Ifnx:o.FontShape.Positive,this.IsFilled=void 0!==e.IsFilled&&e.IsFilled,this.IsHzpl=void 0!==e.IsHzpl&&e.IsHzpl,this.IsOvprnt=void 0!==e.IsOvprnt&&e.IsOvprnt,this.LabelLevel=void 0!==e.LabelLevel?e.LabelLevel:0,this.LableType=void 0!==e.LableType?e.LableType:null,this.Offsetx=void 0!==e.Offsetx?e.Offsetx:0,this.Offsety=void 0!==e.Offsety?e.Offsety:0,this.Space=void 0!==e.Space?e.Space:0,this.StrikeThrough=void 0!==e.StrikeThrough?e.StrikeThrough:0,this.UnderLine=void 0!==e.UnderLine?e.UnderLine:0});e.CDynNoteInfo=s,r.Zondy.Object.CDynNoteInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynNoteLableType=void 0;var r=n(0),i=n(1),o=(n(45),n(46),n(47),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.PntInfo=void 0!==e.PntInfo&&null!==e.PntInfo?e.PntInfo:null,this.LinInfo=void 0!==e.LinInfo&&null!==e.LinInfo?e.LinInfo:null,this.RegInfo=void 0!==e.RegInfo&&null!==e.RegInfo?e.RegInfo:null});e.DynNoteLableType=o,r.Zondy.Object.DynNoteLableType=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LablePntInfo=void 0;var r=n(0),i=n(1),o=(n(3),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Ang=void 0!==e.Ang&&null!==e.Ang?e.Ang:null,this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.Distance=void 0!==e.Distance&&null!==e.Distance?e.Distance:0,this.EightDirLableType=void 0!==e.EightDirLableType&&null!==e.EightDirLableType?e.EightDirLableType:null,this.PntType=void 0!==e.PntType&&null!==e.PntType?e.PntType:0});e.LablePntInfo=o,r.Zondy.Object.LablePntInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelLinInfo=void 0;var r=n(0),i=n(1),o=(n(3),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.DistFromLine=void 0!==e.DistFromLine&&null!==e.DistFromLine?e.DistFromLine:0,this.FromLineConstrain=void 0!==e.FromLineConstrain&&null!==e.FromLineConstrain?e.FromLineConstrain:0,this.Interval=void 0!==e.Interval&&null!==e.Interval?e.Interval:0,this.LinType=void 0!==e.LinType&&null!==e.LinType?e.LinType:0,this.Repeat=void 0!==e.Repeat&&null!==e.Repeat?e.Repeat:0,this.SpreadType=void 0!==e.SpreadType&&null!==e.SpreadType?e.SpreadType:null});e.LabelLinInfo=o,r.Zondy.Object.LabelLinInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LabelRegInfo=void 0;var r=n(0),i=n(1),o=(n(3),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.ClientOutLabel=void 0!==e.ClientOutLabel&&null!==e.ClientOutLabel&&e.ClientOutLabel,this.LabelMiniRegion=void 0!==e.LabelMiniRegion&&null!==e.LabelMiniRegion?e.LabelMiniRegion:0,this.MayPlaceOutside=void 0!==e.MayPlaceOutside&&null!==e.MayPlaceOutside?e.MayPlaceOutside:0,this.MiniRegionArea=void 0!==e.MiniRegionArea&&null!==e.MiniRegionArea?e.MiniRegionArea:0,this.Offset=void 0!==e.Offset&&null!==e.Offset?e.Offset:0,this.RegType=void 0!==e.RegType&&null!==e.RegType?e.RegType:0});e.LabelRegInfo=o,r.Zondy.Object.LabelRegInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDisplayStyleExtend=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.Index=void 0!==e.Index?e.Index:0,this.SymbleShow=void 0!==e.SymbleShow&&e.SymbleShow,this.LinPenWidFixed=void 0!==e.LinPenWidFixed&&e.LinPenWidFixed,this.LinSizeFixed=void 0!==e.LinSizeFixed&&e.LinSizeFixed,this.PntPenWidFixed=void 0!==e.PntPenWidFixed&&e.PntPenWidFixed,this.PntSizeFixed=void 0!==e.PntSizeFixed&&e.PntSizeFixed,this.RegPenWidFixed=void 0!==e.RegPenWidFixed&&e.RegPenWidFixed,this.RegSizeFixed=void 0!==e.RegSizeFixed&&e.RegSizeFixed,this.AnnSizeFixed=void 0!==e.AnnSizeFixed&&e.AnnSizeFixed,this.FollowScale=void 0!==e.FollowScale&&e.FollowScale,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.ShowElemRect=void 0!==e.ShowElemRect&&e.ShowElemRect,this.DriverQuality=void 0!==e.DriverQuality?e.DriverQuality:0,this.DynProjFlag=void 0!==e.DynProjFlag&&e.DynProjFlag};e.CDisplayStyleExtend=o,r.Zondy.Object.CDisplayStyleExtend=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CGDBInfo=void 0;var r=n(0),i=function(t){var e=t||{};this.GDBSvrName=void 0!==e.ServerName?e.ServerName:null,this.GDBName=void 0!==e.GDBName?e.GDBName:null,this.User=void 0!==e.User?e.User:null,this.Password=void 0!==e.Password?e.Password:null};e.CGDBInfo=i,r.Zondy.Object.CGDBInfo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0;var r=n(0),i=n(1),o=n(51),s=(n(52),n(3),n(53)),a=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.AttValue=void 0!==e.AttValue&&null!==e.AttValue?e.AttValue:null,this.FID=void 0!==e.FID&&null!==e.FID?e.FID:0,this.bound=void 0!==e.bound&&null!==e.bound?e.bound:null,this.fGeom=void 0!==e.fGeom&&null!==e.fGeom?e.fGeom:null,this.ftype=void 0!==e.ftype&&null!==e.ftype?e.ftype:0,this.GraphicInfo=void 0!==e.GraphicInfo&&null!==e.GraphicInfo?e.GraphicInfo:null};a.prototype.getAttValue=function(t){if(null===this.AttValue)return null;var e=this.AttValue.length;return"number"==typeof t?t>=e?null:this.AttValue[t]:void 0},a.prototype.getGraphicInfo=function(){return null===this.GraphicInfo?null:new s.WebGraphicsInfo(this.GraphicInfo)},a.prototype.getAttValueArray=function(){return this.AttValue},a.prototype.getRectBound=function(){var t=this.bound;return null!==t?new o.Rectangle(t):t},a.prototype.getGeometry=function(){return this.fGeom},a.prototype.getFID=function(){return this.FID},a.prototype.setAttValues=function(t){this.AttValue=t},a.prototype.setBound=function(t){var e=null;"string"==typeof t&&(e=new o.Rectangle(t)),t instanceof String&&(e=new o.Rectangle(t)),t instanceof o.Rectangle&&(e=t),t instanceof ol.extent&&(e=new o.Rectangle).setByOL(t),this.bound=e},a.prototype.setFID=function(t){this.FID=t},a.prototype.setFType=function(t){this.ftype=t},a.prototype.destroy=function(){this.AttValue=null,this.FID=null,this.bound=null,this.fGeom=null,this.ftype=null,this.GraphicInfo=null},e.Feature=a,r.Zondy.Object.Feature=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),o=function(t){function e(t,n,r,i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=o||{},a=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s));return a.xmin=t,a.xmax=r,a.ymin=n,a.ymax=i,a}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),r(e,[{key:"setByOL",value:function(t){void 0!==t&&null!==t&&(this.xmin=t[0],this.ymin=t[1],this.xmax=t[2],this.ymax=t[3])}},{key:"toString",value:function(){return this.xmin+","+this.ymin+","+this.xmax+","+this.ymax}},{key:"getGeometryType",value:function(){return"rect"}},{key:"convertToBound",value:function(){return[this.xmin,this.ymin,this.xmax,this.ymax]}},{key:"intersectsBounds",value:function(t,e){"boolean"==typeof e&&(e={inclusive:e}),null===(e=e||{}).inclusive&&(e.inclusive=!0);var n=!1,r=this.xmin===t.xmax||this.xmax===t.xmin||this.ymax===t.ymin||this.ymin===t.ymax;if(e.inclusive||!r){var i=t.ymin>=this.ymin&&t.ymin<=this.ymax||this.ymin>=t.ymin&&this.ymin<=t.ymax,o=t.ymax>=this.ymin&&t.ymax<=this.ymax||this.ymax>t.ymin&&this.ymax<t.ymax,s=t.xmin>=this.xmin&&t.xmin<=this.xmax||this.xmin>=t.xmin&&this.xmin<=t.xmax,a=t.xmax>=this.xmin&&t.xmax<=this.xmax||this.xmax>=t.xmin&&this.xmax<=t.xmax;n=(i||o)&&(s||a)}return n}}]),e}();e.Rectangle=o,Zondy.Object.Rectangle=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureGeometry=void 0;var r=n(0),i=n(1),o=(n(24),n(25),n(26),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.PntGeom=void 0!==e.PntGeom&&null!==e.PntGeom?e.PntGeom:null,this.LinGeom=void 0!==e.LinGeom&&null!==e.LinGeom?e.LinGeom:null,this.RegGeom=void 0!==e.RegGeom&&null!==e.RegGeom?e.RegGeom:null});o.prototype.setPntGeom=function(t){this.PntGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},o.prototype.setLine=function(t){this.LinGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},o.prototype.setRegGeom=function(t){this.RegGeom=void 0!==t&&null!==t&&Array.isArray(t)?t:null},e.FeatureGeometry=o,r.Zondy.Object.FeatureGeometry=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WebGraphicsInfo=void 0;var r=n(0),i=n(1),o=(n(3),n(22),n(17),n(23),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.InfoType=void 0!==e.InfoType&&null!==e.InfoType?e.InfoType:0,this.PntInfo=void 0!==e.PntInfo&&null!==e.PntInfo?e.PntInfo:null,this.LinInfo=void 0!==e.LinInfo&&null!==e.LinInfo?e.LinInfo:null,this.RegInfo=void 0!==e.RegInfo&&null!==e.RegInfo?e.RegInfo:null});e.WebGraphicsInfo=o,r.Zondy.Object.WebGraphicsInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureSet=void 0;var r=n(0),i=n(1),o=(n(16),n(50)),s=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.TotalCount=void 0!==e.TotalCount&&null!==e.TotalCount?e.TotalCount:0,this.AttStruct=void 0!==e.AttStruct&&null!==e.AttStruct?e.AttStruct:null,this.SFEleArray=void 0!==e.SFEleArray&&null!==e.SFEleArray?e.SFEleArray:new Array};s.prototype.clear=function(){this.AttStruct=null,this.SFEleArray=new Array},s.prototype.addFeature=function(t){t instanceof Array?this.SFEleArray.concat(t):this.SFEleArray.push(t)},s.prototype.getFeaturesLength=function(){return this.SFEleArray instanceof Array?this.SFEleArray.length:0},s.prototype.getFeatureByIndex=function(t){if(t>=this.getFeaturesLength())return null;var e=this.SFEleArray[t];return e instanceof o.Feature?e:new o.Feature(this.SFEleArray[t])},s.prototype.getAttType=function(t){var e;return null==this.AttStruct||null==(e="number"==typeof t?t:this.getAttIndexByAttName(t))?null:this.AttStruct.FldType[e]},s.prototype.getAttIndexByAttName=function(t){if(null==this.AttStruct)return null;if(null==this.AttStruct.FldName)return null;for(var e=this.AttStruct.FldName.length,n=0;n<e;n++)if(this.AttStruct.FldName[n]==t)return n;return null},s.prototype.getAttNameByIndex=function(t){return null==this.AttStruct||null==this.AttStruct.FldName||this.AttStruct.FldName.length<=t?null:this.AttStruct.FldName[t]},e.FeatureSet=s,r.Zondy.Object.FeatureSet=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),o=n(6),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.pointArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),r(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t)for(var e=t.getLinearRing(0).getCoordinates(),n=e.length,r=0;r<n;r++)this.pointArr[r]=new o.Point2D(e[r][0],e[r][1])}},{key:"toString",value:function(){if(null===this.pointArr||0===this.pointArr.length)return"";for(var t="",e=0;e<this.pointArr.length;e++)t+=this.pointArr[e].x+","+this.pointArr[e].y+",";return t.substring(0,t.length-1)}},{key:"getGeometryType",value:function(){return"polygon"}}]),e}();e.Polygon=s,Zondy.Object.Polygon=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourNoteParam=void 0;var r=n(0),i=function(t){var e=void 0!=t?t:{};this.IsClipLine=void 0==e.IsClipLine||e.IsClipLine,this.isXYScaleOut=void 0!=e.isXYScaleOut&&e.isXYScaleOut,this.NoteDirection=void 0!=e.NoteDirection?e.NoteDirection:1,this.LineWidth=void 0!=e.LineWidth?e.LineWidth:.05,this.MaxAngle=void 0!=e.MaxAngle?e.MaxAngle:90,this.MinDist=void 0!=e.MinDist?e.MinDist:10,this.IsAbs=void 0!=e.IsAbs&&e.IsAbs,this.IsComma=void 0!=e.IsComma&&e.IsComma,this.DigitNum=void 0!=e.DigitNum?e.DigitNum:0,this.FormatNo=void 0!=e.FormatNo?e.FormatNo:0,this.LogFlag=void 0!=e.LogFlag?e.LogFlag:0,this.Prefix=void 0!=e.Prefix?e.Prefix:"",this.Suffix=void 0!=e.Suffix?e.Suffix:"",this.ColorNo=void 0!=e.ColorNo?e.ColorNo:0,this.FixSize=void 0!=e.FixSize?e.FixSize:.01,this.FontNo=void 0!=e.FontNo?e.FontNo:0};e.ContourNoteParam=i,r.Zondy.Object.ContourAnalyse.ContourNoteParam=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourParam=void 0;var r=n(0),i=(n(56),n(58),n(59),function(t){var e=void 0!=t?t:{};this.IsSmoothLine=void 0!=e.IsSmoothLine&&e.IsSmoothLine,this.SmoothGrade=void 0!=e.SmoothGrade?e.SmoothGrade:1,this.IsMakeReg=void 0!=e.IsMakeReg&&e.IsMakeReg,this.IsMakeNote=void 0!=e.IsMakeNote&&e.IsMakeNote,this.IsMakeSLin=void 0!=e.IsMakeSLin&&e.IsMakeSLin,this.MapWay=void 0!=e.MapWay?e.MapWay:1,this.FrameWidth=void 0!=e.FrameWidth?e.FrameWidth:1,this.FrameHeight=void 0!=e.FrameHeight?e.FrameHeight:1,this.IsDrawColorScl=void 0!=e.IsDrawColorScl&&e.IsDrawColorScl,this.IsSaveEdge=void 0!=e.IsSaveEdge&&e.IsSaveEdge,this.NoteParam=void 0!=e.NoteParam?e.NoteParam:null,this.SlopLineParam=void 0!=e.SlopLineParam?e.SlopLineParam:null,this.ZValues=void 0!=e.ZValues?e.ZValues:null});e.ContourParam=i,r.Zondy.Object.ContourAnalyse.ContourParam=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlopLineParam=void 0;var r=n(0),i=function(t){var e=void 0!=t?t:{};this.XScale=void 0!=e.XScale?e.XScale:2,this.YScale=void 0!=e.YScale?e.YScale:10,this.LineType=void 0!=e.LineType?e.LineType:0,this.SubLineType=void 0!=e.SubLineType?e.SubLineType:0};e.SlopLineParam=i,r.Zondy.Object.ContourAnalyse.SlopLineParam=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourZValue=void 0;var r=n(0),i=(n(17),n(60),function(t){var e=void 0!=t?t:{};this.ZValue=void 0!=e.ZValue?e.ZValue:1,this.LineInfo=void 0!=e.LineInfo?e.LineInfo:null,this.RegInfo=void 0!=e.RegInfo?e.RegInfo:null,this.IsOutputNote=void 0!=e.IsOutputNote&&e.IsOutputNote});e.ContourZValue=i,r.Zondy.Object.ContourAnalyse.ContourZValue=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourRegionInfo=void 0;var r=n(0),i=function(t){var e=void 0!=t?t:{};this.PatID=void 0!=e.PatID?e.PatID:0,this.FillMode=void 0!=e.FillMode?e.FillMode:0,this.FillColor=void 0!=e.FillColor?e.FillColor:1,this.PatHeight=void 0!=e.PatHeight?e.PatHeight:1,this.PatWidth=void 0!=e.PatWidth?e.PatWidth:1,this.PatAngle=void 0!=e.PatAngle?e.PatAngle:1,this.PatColor=void 0!=e.PatColor?e.PatColor:1,this.OutPenWidth=void 0!=e.OutPenWidth?e.OutPenWidth:1,this.OverMethod=void 0!=e.OverMethod?e.OverMethod:0};e.ContourRegionInfo=i,r.Zondy.Object.ContourAnalyse.ContourRegionInfo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MeshingParam=void 0;var r=n(0),i=function(t){var e=void 0!=t?t:{};this.SfClsURL=void 0!=e.SfClsURL?e.SfClsURL:null,this.FieldName=void 0!=e.FieldName?e.FieldName:null,this.XCellNum=void 0!=e.XCellNum?e.XCellNum:200,this.Bound=void 0!=e.Bound?e.Bound:null};e.MeshingParam=i,r.Zondy.Object.ContourAnalyse.MeshingParam=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommonServiceBase=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(63),a=n(64),u=n(65),l=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=this;this.EVENT_TYPES=["processCompleted","processFailed"],this.events=null,this.eventListeners=null,this.url=null,this.urls=null,this.index=null,this.length=null,this.options=null,this.totalTimes=null,this.POLLING_TIMES=3,this._processSuccess=null,this._processFailed=null,this.isInTheSameDomain=null,(0,o.isArray)(e)?(r.urls=e,r.length=e.length,r.totalTimes=r.length,1===r.length?r.url=e[0]:(r.index=parseInt(Math.random()*r.length),r.url=e[r.index])):(r.totalTimes=1,r.url=e),(n=n||{})&&(0,o.extend)(this,n),r.isInTheSameDomain=(0,o.isInTheSameDomain)(r.url),r.events=new s.Events(r,null,r.EVENT_TYPES,!0),r.eventListeners instanceof Object&&r.events.on(r.eventListeners)}return r(t,[{key:"destroy",value:function(){var t=this;(0,o.isArray)(t.urls)&&(t.urls=null,t.index=null,t.length=null,t.totalTimes=null),t.url=null,t.options=null,t._processSuccess=null,t._processFailed=null,t.isInTheSameDomain=null,t.EVENT_TYPES=null,t.events&&(t.events.destroy(),t.events=null),t.eventListeners&&(t.eventListeners=null)}},{key:"request",value:function(t){var e=this;t.url=t.url||e.url,t.isInTheSameDomain=e.isInTheSameDomain,e.calculatePollingTimes(),e._processSuccess=t.success,e._processFailed=t.failure,t.scope=e,t.success=e.getUrlCompleted,t.failure=e.getUrlFailed,e.options=t,e._commit(e.options)}},{key:"getUrlCompleted",value:function(t){this._processSuccess(t)}},{key:"getUrlFailed",value:function(t){this.totalTimes>0?(this.totalTimes--,this.ajaxPolling()):this._processFailed(t)}},{key:"ajaxPolling",value:function(){var t=this,e=t.options.url,n=/^http:\/\/([a-z]{9}|(\d+\.){3}\d+):\d{0,4}/;t.index=parseInt(Math.random()*t.length),t.url=t.urls[t.index],e=e.replace(n,n.exec(t.url)[0]),t.options.url=e,t.options.isInTheSameDomain=(0,o.isInTheSameDomain)(e),t._commit(t.options)}},{key:"calculatePollingTimes",value:function(){var t=this;t.times?t.totalTimes>t.POLLING_TIMES?t.times>t.POLLING_TIMES?t.totalTimes=t.POLLING_TIMES:t.totalTimes=t.times:t.times<t.totalTimes&&(t.totalTimes=t.times):t.totalTimes>t.POLLING_TIMES&&(t.totalTimes=t.POLLING_TIMES),t.totalTimes--}},{key:"serviceProcessCompleted",value:function(t){t=(0,o.transformResult)(t),this.events.triggerEvent("processCompleted",{result:t})}},{key:"serviceProcessFailed",value:function(t){var e=(t=(0,o.transformResult)(t)).error||t;this.events.triggerEvent("processFailed",{error:e})}},{key:"_commit",value:function(t){"POST"!==t.method&&"PUT"!==t.method||(t.params&&(t.url=(0,o.urlAppend)(t.url,(0,o.getParameterString)(t.params||{}))),t.params=t.data),u.FetchRequest.commit(t.method,t.url,t.params,{headers:t.headers,withCredentials:t.withCredentials,timeout:t.async?0:null,proxy:t.proxy}).then((function(t){return t.text?t.text():t.json()})).then((function(e){var n=null;"string"!=typeof e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()?"string"==typeof e&&(n=(new a.JSONFormat).read(e)):(n={},"true"===e.toLowerCase()?n.succeed=!0:n.error=!0),(!n&&isNaN(n)||n.error)&&(n=n&&n.error?{error:n.error}:{error:!0}),n.error?(t.scope?(0,o.bind)(t.failure,t.scope):t.failure)(n):(isNaN(n)||(n={value:n}),"string"==typeof n&&(n={value:n}),"[object Array]"!==Object.prototype.toString.call(n)?n.succeed=void 0===n.succeed||n.succeed:n={value:n,succeed:!0},(t.scope?(0,o.bind)(t.success,t.scope):t.success)(n))}))}}]),t}();e.CommonServiceBase=l,i.Zondy.Service.CommonServiceBase=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Events=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=function(t,e,n,r){if(this.listeners={},this.object=t,this.eventTypes=[],this.extensions={},this.extensionCount={},(0,i.extend)(this,r),null!=n)for(var o=0,s=n.length;o<s;o++)this.addEventType(n[o])};o.prototype.destroy=function(){for(var t in this.extensions)"boolean"!=typeof this.extensions[t]&&this.extensions[t].destroy();this.extensions=null,this.listeners=null,this.object=null,this.eventTypes=null},o.prototype.addEventType=function(t){this.listeners[t]||(this.eventTypes.push(t),this.listeners[t]=[])},o.prototype.on=function(t){for(var e in t)"scope"!==e&&t.hasOwnProperty(e)&&this.register(e,t.scope,t[e])},o.prototype.register=function(t,e,n,s){if(t in o&&!this.extensions[t]&&(this.extensions[t]=new o[t](this)),null!=n&&-1!==(0,i.indexOf)(this.eventTypes,t)){null==e&&(e=this.object);var a=this.listeners[t];a||(a=[],this.listeners[t]=a,this.extensionCount[t]=0);var u={obj:e,func:n};s?(a.splice(this.extensionCount[t],0,u),"object"===(void 0===s?"undefined":r(s))&&s.extension&&this.extensionCount[t]++):a.push(u)}},o.prototype.registerPriority=function(t,e,n){this.register(t,e,n,!0)},o.prototype.un=function(t){for(var e in t)"scope"!==e&&t.hasOwnProperty(e)&&this.unregister(e,t.scope,t[e])},o.prototype.unregister=function(t,e,n){null==e&&(e=this.object);var r=this.listeners[t];if(null!=r)for(var i=0,o=r.length;i<o;i++)if(r[i].obj===e&&r[i].func===n){r.splice(i,1);break}},o.prototype.remove=function(t){null!=this.listeners[t]&&(this.listeners[t]=[])},o.prototype.triggerEvent=function(t,e){var n=this.listeners[t];if(n&&0!=n.length){var r;null==e&&(e={}),e.object=this.object,e.type||(e.type=t);for(var i=0,o=(n=n.slice()).length;i<o;i++){var s=n[i];if(void 0!=(r=s.func.apply(s.obj,[e.result]))&&0==r)break}return r}},e.Events=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),o=function(t){this.data=null,this.keepData=!1,this.indent="    ",this.space=" ",this.newline="\n",this.level=0,this.pretty=!1,this.nativeJSON=!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify),(0,i.extend)(this,t),this.options=t,this.serialize={object:function(t){if(null==t)return"null";if(t.constructor===Date)return this.serialize.date.apply(this,[t]);if(t.constructor===Array)return this.serialize.array.apply(this,[t]);var e,n,r,i=["{"];this.level+=1;var o=!1;for(e in t)t.hasOwnProperty(e)&&(n=this.write.apply(this,[e,this.pretty]),r=this.write.apply(this,[t[e],this.pretty]),null!=n&&null!=r&&(o&&i.push(","),i.push(this.writeNewline(),this.writeIndent(),n,":",this.writeSpace(),r),o=!0));return this.level-=1,i.push(this.writeNewline(),this.writeIndent(),"}"),i.join("")},array:function(t){var e,n=["["];this.level+=1;for(var r=0,i=t.length;r<i;++r)null!=(e=this.write.apply(this,[t[r],this.pretty]))&&(r>0&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),e));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"]"),n.join("")},string:function(t){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(t)?'"'+t.replace(/([\x00-\x1f\\"])/g,(function(t,n){var r=e[n];return r||(r=n.charCodeAt(),"\\u00"+Math.floor(r/16).toString(16)+(r%16).toString(16))}))+'"':'"'+t+'"'},number:function(t){return isFinite(t)?String(t):"null"},boolean:function(t){return String(t)},date:function(t){function e(t){return t<10?"0"+t:t}return'"'+t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+"T"+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())+'"'}}};o.prototype.read=function(t,e){var n;if(this.nativeJSON)try{n=JSON.parse(t,e)}catch(t){}return this.keepData&&(this.data=n),n},o.prototype.write=function(t,e){this.pretty=!!e;var n=null,i=void 0===t?"undefined":r(t);if(this.serialize[i])try{n=!this.pretty&&this.nativeJSON?JSON.stringify(t):this.serialize[i].apply(this,[t])}catch(t){Console.error("Trouble serializing: "+t)}return n},o.prototype.writeIndent=function(){var t=[];if(this.pretty)for(var e=0;e<this.level;++e)t.push(this.indent);return t.join("")},o.prototype.writeNewline=function(){return this.pretty?this.newline:""},o.prototype.writeSpace=function(){return this.pretty?this.space:""},e.JSONFormat=o,Zondy.Service.JSONFormat=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FetchRequest=e.RequestTimeout=e.CORS=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(1),n(115),n(119);var i=window.fetch,o=Zondy.CORS=Zondy.CORS||window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,s=Zondy.RequestTimeout=Zondy.RequestTimeout||45e3,a=Zondy.FetchRequest={commit:function(t,e,n,r){switch(t=t?t.toUpperCase():t){case"GET":return this._get(e,n,r);case"POST":return this._post(e,n,r);case"PUT":return this._put(e,n,r);case"DELETE":return this._delete(e,n,r);default:return this._get(e,n,r)}},_get:function(t,e,n){return n=n||{},t=this._processUrl(t,n),t=Zondy.Util.urlAppend(t,this._getParameterString(e||{})),this.urlIsLong(t)?this._postSimulatie("GET",t.substring(0,t.indexOf("?")-1),e,n):this._fetch(t,e,n,"GET")},_delete:function(t,e,n){return n=n||{},t=this._processUrl(t,n),t=Zondy.Util.urlAppend(t,this._getParameterString(e||{})),!this.urlIsLong(t)&&o?this._fetch(t,e,n,"DELETE"):this._postSimulatie("DELETE",t.substring(0,t.indexOf("?")-1),e,n)},_post:function(t,e,n){return n=n||{},this._fetch(this._processUrl(t,n),e,n,"POST")},_put:function(t,e,n){return n=n||{},this._fetch(this._processUrl(t,n),e,n,"PUT")},urlIsLong:function(t){for(var e=0,n=null,r=0,i=t.length;r<i;r++)(n=t.charCodeAt(r))<127?e++:128<=n&&n<=2047?e+=2:2048<=n&&n<=65535&&(e+=3);return!(e<2e3)},_postSimulatie:function(t,e,n,r){return e+=(e.indexOf("?")>-1?"&":"?")+"_method="+t,"string"!=typeof n&&(n=JSON.stringify(n)),this._post(e,n,r)},_processUrl:function(t,e){return this._isMVTRequest(t)||e&&e.proxy&&("function"==typeof e.proxy?t=e.proxy(t):(t=decodeURIComponent(t),t=e.proxy+encodeURIComponent(t))),t},_fetch:function(t,e,n,r){return(n=n||{}).headers=n.headers||{},n.headers["Content-Type"]||(n.headers["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8"),n.timeout?this._timeout(n.timeout,i(t,{method:r,headers:n.headers,body:"PUT"===r||"POST"===r?e:void 0,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:s}).then((function(t){return t}))):i(t,{method:r,body:"PUT"===r||"POST"===r?e:void 0,headers:n.headers,credentials:n.withCredentials?"include":"omit",mode:"cors",timeout:s}).then((function(t){return t}))},_timeout:function(t,e){return new Promise((function(n,r){setTimeout((function(){r(new Error("timeout"))}),t),e.then(n,r)}))},_getParameterString:function(t){var e=[];for(var n in t){var i=t[n];if(null!=i&&"function"!=typeof i){var o;if("object"===(void 0===i?"undefined":r(i))&&i.constructor===Array){for(var s,a=[],u=0,l=i.length;u<l;u++)s=i[u],a.push(encodeURIComponent(null===s||void 0===s?"":s));o="["+a.join(",")+"]"}else o=encodeURIComponent(i);e.push(encodeURIComponent(n)+"="+o)}}return e.join("&")},_isMVTRequest:function(t){return t.indexOf(".mvt")>-1||t.indexOf(".pbf")>-1}};e.CORS=o,e.RequestTimeout=s,e.FetchRequest=a,Zondy.Service.FetchRequest=a,Zondy.Service.CORS=o,Zondy.Service.RequestTimeout=s},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var u,l=[],c=!1,p=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):p=-1,l.length&&f())}function f(){if(!c){var t=a(h);c=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G3DService=void 0;var r=n(0),i=n(4),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};return n.baseUrl="igs/rest/g3d",function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ServiceBase),e}();e.G3DService=o,r.Zondy.Catalog.G3DService=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GDBInfo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(12),o=n(2);n(1);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.serverName=void 0!==n.serverName?n.serverName:null,r.gdbName=void 0!==n.gdbName?n.gdbName:null,r.dsName=void 0!==n.dsName?n.dsName:null,r.rcsName=void 0!==n.rcsName?n.rcsName:null,r.User=void 0!==n.User?n.User:null,r.Password=void 0!==n.Password?n.Password:null,r.containAll=void 0===n.containAll||n.containAll,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),r(e,[{key:"getServerList",value:function(t,e){this.partUrl="datasource?f=json";var n=this.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getGDBList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"?f=json":n.partUrl="datasource/"+n.serverName+"?user="+n.User+"&psw="+n.Password+"&f=json";var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/ds?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/ds?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRcsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/rcs?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/rcs?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getProjectList",value:function(t,e){var n=this;n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"?f=json";var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getProjectInfo",value:function(t,e,n){var r=this;r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+t+"?f=json";var i=r.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}},{key:"AttachGDB",value:function(t,e,n){var r=this;if(null!==r.serverName&&null!==r.gdbName&&null!==t){r.partUrl="gdb/attach/"+r.gdbName+"?gdbSvrName="+r.serverName+"&path="+t+"&f=json",null!==r.User&&null!==r.Password&&(r.partUrl+="&gdbUserName="+r.User+"&gdbPwd="+r.Password);var i=r.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}}},{key:"DetachGDB",value:function(t,e){var n=this;if(null!==n.serverName&&null!==n.gdbName){n.partUrl="gdb/detach/"+n.gdbName+"?gdbSvrName="+n.serverName,null!==n.User&&null!==n.Password&&(n.partUrl+="&gdbUserName="+n.User+"&gdbPwd="+n.Password);var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}}},{key:"CreateGDB",value:function(t,e,n){var r=this;if(null!==r.serverName&&null!==r.gdbName&&("mapgislocal"!==r.serverName.toLowerCase()||null!==t)){r.partUrl="gdb/creat/"+r.gdbName+"?gdbSvrName="+r.serverName+"&path="+t+"&f=json",null!==r.User&&null!==r.Password&&(r.partUrl+="&gdbUserName="+r.User+"&gdbPwd="+r.Password);var i=r.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}}},{key:"DeleteGDB",value:function(t,e){var n=this;if(null!==n.serverName&&null!==n.gdbName){n.partUrl="gdb/delete/"+n.gdbName+"?gdbSvrName="+n.serverName,null!==n.User&&null!==n.Password&&(n.partUrl+="&gdbUserName="+n.User+"&gdbPwd="+n.Password);var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}();e.GDBInfo=s,Zondy.Catalog.GDBInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryParameterBase=void 0;var r=n(0),i=n(1),o=n(29);n(71);var s=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e||{};(0,i.extend)(this,n),this.geometry=void 0!==n.geometry?n.geometry:null,this.where=void 0!==n.where?n.where:null,this.rule=void 0!==n.rule?n.rule:null,this.objectIds=void 0!==n.objectIds?n.objectIds:null,this.pageIndex=void 0!==n.pageIndex?n.pageIndex:0,this.recordNumber=void 0!==n.recordNumber?n.recordNumber:20,this.resultFormat=void 0!==n.resultFormat?n.resultFormat:"json",this.struct=void 0!==n.struct?n.struct:new o.QueryFeatureStruct,this.orderField=void 0!==n.orderField?n.orderField:null,this.isAsc=void 0!==n.isAsc&&n.isAsc,this.cursorType=void 0!==n.cursorType?n.cursorType:"forward"};e.QueryParameterBase=s,r.Zondy.Service.QueryParameterBase=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryFeatureRule=void 0;var r=n(0),i=n(1),o=function(t){var e=t||{};(0,i.extend)(this,e),this.CompareRectOnly=void 0!==e.CompareRectOnly&&"boolean"==typeof e.CompareRectOnly&&e.CompareRectOnly,this.EnableDisplayCondition=void 0!==e.EnableDisplayCondition&&"boolean"==typeof e.EnableDisplayCondition&&e.EnableDisplayCondition,this.MustInside=void 0!==e.MustInside&&"boolean"==typeof e.MustInside&&e.MustInside,this.Intersect=void 0!==e.Intersect&&"boolean"==typeof e.Intersect&&e.Intersect};o.prototype.toJSON=function(){return(0,i.toJSON)(this)},e.QueryFeatureRule=o,r.Zondy.Service.QueryFeatureRule=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiGeoQueryParameter=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.geometry=void 0!==e.geometry?e.geometry:null,this.geometryType=void 0!==e.geometryType?e.geometryType:null,this.resultFormat=void 0!==e.resultFormat?e.resultFormat:"json",this.nearDis=void 0!==e.nearDis?e.nearDis:1e-4};o.prototype.getParameterURL=function(){var t="";return t+="?f="+this.resultFormat,t+="&geometryType="+this.geometryType,t+"&nearDis="+this.nearDis},e.MultiGeoQueryParameter=o,r.Zondy.Service.MultiGeoQueryParameter=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjClsQueryParameter=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.objectIds=void 0!==e.objectIds?e.objectIds:null,this.where=void 0!==e.where?e.where:null,this.resultFormat=void 0!==e.resultFormat?e.resultFormat:"json"};o.prototype.getParameterURL=function(){var t="";return t+="&f="+this.resultFormat,null!==this.objectIds?t+="&objectIds="+this.objectIds:null!==this.where&&(t+="&where="+this.where),t},e.ObjClsQueryParameter=o,r.Zondy.Service.ObjClsQueryParameter=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAllOtherDataItemInfoSource=void 0;var r=n(0),i={DefaultThemeInfo:1,DataItemIntrinsicInfo:2};e.CAllOtherDataItemInfoSource=i,r.Zondy.Object.Theme.CAllOtherDataItemInfoSource=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAnnInfo=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Ovprnt?e.Ovprnt:0,this.BackClr=void 0!==e.BackClr?e.BackClr:0,this.BackExp=void 0!==e.BackExp?e.BackExp:0,this.Chnt=void 0!==e.Chnt?e.Chnt:0,this.Color=void 0!==e.Color?e.Color:0,this.FontAngle=void 0!==e.FontAngle?e.FontAngle:0,this.Height=void 0!==e.Height?e.Height:0,this.Ifnt=void 0!==e.Ifnt?e.Ifnt:0,this.Ifnx=void 0!==e.Ifnx?e.Ifnx:0,this.IsFilled=void 0!==e.IsFilled&&e.IsFilled,this.IsHzpl=void 0===e.IsHzpl||e.IsHzpl,this.OffsetX=void 0!==e.OffsetX?e.OffsetX:0,this.OffsetY=void 0!==e.OffsetY?e.OffsetY:0,this.Space=void 0!==e.Space?e.Space:0,this.Width=void 0!==e.Width?e.Width:0};e.CAnnInfo=o,r.Zondy.Object.Theme.CAnnInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartLabelFormat=void 0;var r=n(0),i={Unknown:0,Value:1,Percent:2};e.CChartLabelFormat=i,r.Zondy.Object.Theme.CChartLabelFormat=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartTheme=void 0;var r=n(0),i=n(7),o=n(78);n(79),n(82);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.ChartType=void 0!==n.ChartType?n.ChartType:o.CChartType.Bar,r.ChartThemeInfoArr=void 0!==n.ChartThemeInfoArr?n.ChartThemeInfoArr:null,r.RepresentInfo=void 0!==n.RepresentInfo?n.RepresentInfo:null,r.Type="CChartTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CChartTheme=s,r.Zondy.Object.Theme.CChartTheme=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartType=void 0;var r=n(0),i={Unknown:0,Bar:1,Bar3D:2,Pie:3,Pie3D:4,Line:5,Line3D:6,Point:7};e.CChartType=i,r.Zondy.Object.Theme.CChartType=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartThemeInfo=void 0;var r=n(0),i=n(9),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.Expression=void 0!==t?t:"",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CThemeInfo),e}();e.CChartThemeInfo=o,r.Zondy.Object.Theme.CChartThemeInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CLinInfo=void 0;var r=n(0),i=n(1),o=n(3),s=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.AdjustFlg=void 0!==e.AdjustFlg?e.AdjustFlg:o.CLinAdjustType.Adjust,this.HeadType=void 0!==e.HeadType?e.HeadType:o.CLinHeadType.Round,this.JointType=void 0!==e.JointType?e.JointType:o.CLinJointType.Round,this.LinStyID=void 0!==e.LinStyID?e.LinStyID:0,this.MakeMethod=void 0!==e.MakeMethod?e.MakeMethod:o.CLinStyleMakeType.Byrule,this.OutClr=void 0!==e.OutClr?e.OutClr:[46,4,3],this.XScale=void 0!==e.XScale?e.XScale:10,this.YScale=void 0!==e.YScale?e.YScale:10,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:[.05,.05,.05]};e.CLinInfo=s,r.Zondy.Object.Theme.CLinInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRegInfo=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.LibID=void 0!==e.LibID?e.LibID:0,this.Ovprnt=void 0!==e.Ovprnt&&e.Ovprnt,this.Angle=void 0!==e.Angle?e.Angle:0,this.EndClr=void 0!==e.EndClr?e.EndClr:0,this.FillClr=void 0!==e.FillClr?e.FillClr:46,this.FillMode=void 0!==e.FillMode?e.FillMode:0,this.FullPatFlg=void 0===e.FullPatFlg||e.FullPatFlg,this.PatClr=void 0!==e.PatClr?e.PatClr:3,this.PatHeight=void 0!==e.PatHeight?e.PatHeight:5,this.PatID=void 0!==e.PatID?e.PatID:0,this.PatWidth=void 0!==e.PatWidth?e.PatWidth:5,this.OutPenW=void 0!==e.OutPenW?e.OutPenW:1};e.CRegInfo=o,r.Zondy.Object.Theme.CRegInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CChartThemeRepresentInfo=void 0;var r=n(0),i=n(1),o=n(75),s=n(76),a=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.AnnInfoLabel=void 0!==e.AnnInfoLabel?e.AnnInfoLabel:new o.CAnnInfo,this.DigitLabel=void 0!==e.DigitLabel?e.DigitLabel:0,this.FormatLabel=void 0!==e.FormatLabel?e.FormatLabel:s.CChartLabelFormat.Unknown,this.IsDrawLabel=void 0===e.IsDrawLabel||e.IsDrawLabel,this.LineColor=void 0!==e.LineColor?e.LineColor:-1,this.MaxLength=void 0!==e.MaxLength?e.MaxLength:30,this.MinRadius=void 0!==e.MinRadius?e.MinRadius:10,this.PieSizeFixFlag=void 0!==e.PieSizeFixFlag?e.PieSizeFixFlag:0,this.PieTiltedAngle=void 0!==e.PieTiltedAngle?e.PieTiltedAngle:30,this.PlotRadius=void 0!==e.PlotRadius?e.PlotRadius:1,this.ThickPersent=void 0!==e.ThickPersent?e.ThickPersent:10,this.Width=void 0!==e.Width?e.Width:3};e.CChartThemeRepresentInfo=a,r.Zondy.Object.Theme.CChartThemeRepresentInfo=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDotDensityTheme=void 0;var r=n(0),i=n(7);n(20);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.Expression=void 0!==n.Expression?n.Expression:"",r.Info=void 0!==n.Info?n.Info:null,r.Value=void 0!==n.Value?n.Value:null,r.Type="CDotDensityTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CDotDensityTheme=o,r.Zondy.Object.Theme.CDotDensityTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CFourColorTheme=void 0;var r=n(0),i=n(7),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.ClrInfo=void 0!==n.ClrInfo?n.ClrInfo:[25,57,89,121],r.Type="CFourColorTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CFourColorTheme=o,r.Zondy.Object.Theme.CFourColorTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CGraduatedSymbolTheme=void 0;var r=n(0),i=n(7);n(20);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.BaseValue=void 0!==n.BaseValue?n.BaseValue:141e-6,r.DispMinus=void 0!==n.DispMinus&&n.DispMinus,r.DispZero=void 0!==n.DispZero&&n.DispZero,r.Expression=void 0!==n.Expression?n.Expression:null,r.MinusPntInfo=void 0!==n.MinusPntInfo?n.MinusPntInfo:null,r.PlusPntInfo=void 0!==n.PlusPntInfo?n.PlusPntInfo:null,r.ZeroPntInfo=void 0!==n.ZeroPntInfo?n.ZeroPntInfo:null,r.Type="CGraduatedSymbolTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CGraduatedSymbolTheme=o,r.Zondy.Object.Theme.CGraduatedSymbolTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CMultiClassTheme=void 0;var r=n(0),i=n(7);n(9),n(87);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.DefaultInfo=void 0!==n.DefaultInfo?n.DefaultInfo:null,r.ExpInfoArr=void 0!==n.ExpInfoArr?n.ExpInfoArr:null,r.MultiClassThemeInfoArr=void 0!==n.MultiClassThemeInfoArr?n.MultiClassThemeInfoArr:null,r.GeoInfoType=void 0!==n.GeoInfoType?n.GeoInfoType:null,r.Type="CMultiClassTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CMultiClassTheme=o,r.Zondy.Object.Theme.CMultiClassTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpInfo=void 0;var r=n(0),i=n(1),o=function(t,e,n){var r=void 0!==n?n:{};(0,i.extend)(this,r),this.Expression=void 0!==t?t:"",this.ItemValueArr=void 0!==e?e:null};e.ExpInfo=o,r.Zondy.Object.Theme.ExpInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRandomTheme=void 0;var r=n(0),i=n(7),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.Type="CRandomTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CRandomTheme=o,r.Zondy.Object.Theme.CRandomTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRangeTheme=void 0;var r=n(0),i=n(7),o=n(74);n(9),n(90);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.AllOtherDataItemInfoSource=void 0!==n.AllOtherDataItemInfoSource?n.AllOtherDataItemInfoSource:o.CAllOtherDataItemInfoSource.DefaultThemeInfo,r.Expression=void 0!==n.Expression?n.Expression:"",r.DefaultInfo=void 0!==n.DefaultInfo?n.DefaultInfo:null,r.RangeThemeInfoArr=void 0!==n.RangeThemeInfoArr?n.RangeThemeInfoArr:null,r.GeoInfoType=void 0!==n.GeoInfoType?n.GeoInfoType:null,r.Type="CRangeTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CRangeTheme=s,r.Zondy.Object.Theme.CRangeTheme=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CRangeThemeInfo=void 0;var r=n(0),i=n(9),o=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.StartValue=void 0!==t?t:"",o.EndValue=void 0!==n?n:"",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CThemeInfo),e}();e.CRangeThemeInfo=o,r.Zondy.Object.Theme.CRangeThemeInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSimpleTheme=void 0;var r=n(0),i=n(7),o=n(9),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.ThemeInfo=void 0!==n.ThemeInfo?n.ThemeInfo:new o.CThemeInfo,r.Type="CSimpleTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CSimpleTheme=s,r.Zondy.Object.Theme.CSimpleTheme=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUniqueTheme=void 0;var r=n(0),i=n(7);n(9),n(93);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.DefaultInfo=void 0!==n.DefaultInfo?n.DefaultInfo:null,r.Expression=void 0!==n.Expression?n.Expression:"",r.UniqueThemeInfoArr=void 0!==n.UniqueThemeInfoArr?n.UniqueThemeInfoArr:null,r.GeoInfoType=void 0!==n.GeoInfoType?n.GeoInfoType:null,r.Type="CUniqueTheme",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CTheme),e}();e.CUniqueTheme=o,r.Zondy.Object.Theme.CUniqueTheme=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CUniqueThemeInfo=void 0;var r=n(0),i=n(9),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.Value=void 0!==t?t:"",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CThemeInfo),e}();e.CUniqueThemeInfo=o,r.Zondy.Object.Theme.CUniqueThemeInfo=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FolderInfo=void 0;var r=n(0),i=(n(37),function(t,e){this.name=void 0!==t?t:null,this.attribute=void 0!==e?e:null});e.FolderInfo=i,r.Zondy.Object.Theme.FolderInfo=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=void 0;var r=n(0),i=(n(7),function(t,e){this.LayerName=void 0!==t?t:null,this.ThemeArr=void 0!==e?e:null});e.ThemesInfo=i,r.Zondy.Object.Theme.ThemesInfo=i},function(t,e,n){t.exports=n(179)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(5),i=n(183),o=n(185),s=n(186),a=n(187),u=n(99);t.exports=function(t){return new Promise((function(e,l){var c=t.data,p=t.headers;r.isFormData(c)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var f=t.auth.username||"",d=t.auth.password||"";p.Authorization="Basic "+btoa(f+":"+d)}if(h.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};i(e,l,r),h=null}},h.onerror=function(){l(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){l(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=n(188),g=(t.withCredentials||a(t.url))&&t.xsrfCookieName?y.read(t.xsrfCookieName):void 0;g&&(p[t.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(p,(function(t,e){void 0===c&&"content-type"===e.toLowerCase()?delete p[e]:h.setRequestHeader(e,t)})),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),l(t),h=null)})),void 0===c&&(c=null),h.send(c)}))}},function(t,e,n){"use strict";var r=n(184);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";n(103)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMSInfo=e.OGCWMTSInfo=e.WMTSCapabilities=e.WMSCapabilities=e.ThemesInfo=e.ThemeOper=e.ItemValue=e.FolderInfoAttribute=e.FolderInfo=e.ExpInfo=e.CUniqueThemeInfo=e.CUniqueTheme=e.CThemeInfo=e.CTheme=e.CSimpleTheme=e.CRegInfo=e.CRangeThemeInfo=e.CRangeTheme=e.CRandomTheme=e.CPntInfo=e.CMultiClassTheme=e.CLinInfo=e.CGraduatedSymbolTheme=e.CFourColorTheme=e.CDotDensityTheme=e.CChartType=e.CChartThemeRepresentInfo=e.CChartThemeInfo=e.CChartTheme=e.CChartLabelFormat=e.CAnnInfo=e.CAllOtherDataItemInfoSource=e.MapServiceBase=e.GetTileImageService=e.GetMapInfoService=e.GetMapImageService=e.GetLayerImageService=e.GetDocImageService=e.TopAnalysis=e.Smooth=e.ProjectRang=e.ProjectDots=e.GeometryAnalysisBase=e.CProjectParam=e.CProjectBySRSID=e.CalServiceBase=e.CalPolyLineLength=e.CalArea=e.ProjectBySRID=e.ProjectByLayer=e.ProjectBase=e.OverlayByPolygon=e.OverlayByLayer=e.OverlayBase=e.NetAnalysis=e.FeatureBuffBySingleRing=e.FeatureBuffByMultiplyRing=e.FeatureBuffBase=e.ContourAnalyse=e.ClipByPolygon=e.ClipByLayer=e.ClipByCircle=e.ClipBase=e.ClassBufferBySingleRing=e.ClassBufferByMultiplyRing=e.ClassBufferBase=e.AnalysisBase=e.QueryServiceBase=e.QueryParameterBase=e.QueryParameter=e.QueryLayerFeature=e.QueryFeatureStruct=e.QueryFeatureRule=e.QueryDocFeature=e.QueryByLayerParameter=e.ObjClsQueryParameter=e.ObjClsQuery=e.MultiGeoQueryParameter=e.MultiGeoQuery=e.EditServiceBase=e.EditLayerFeature=e.EditDocFeature=e.SystomInfo=e.VectorLayer=e.TileLayer=e.CatalogService=e.MapDoc=e.GDBInfo=e.ColorInfo=e.JSONFormat=e.IgsServiceBase=e.FetchRequest=e.RequestTimeout=e.CORS=e.Events=e.CommonServiceBase=void 0,e.G3DService=e.G3DMapDoc=e.SlopLineParam=e.NetAnalysisExtent=e.NetAnalyse=e.MeshingParam=e.ContourRegionInfo=e.ContourZValue=e.ContourParam=e.ContourNoteParam=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=e.WebGraphicsInfo=e.VectCls=e.Tangram=e.Rectangle=e.PolyLine=e.Polygon=e.Point2D=e.MultiPolygon=e.LablePntInfo=e.LabelRegInfo=e.LabelLinInfo=e.GRegion=e.GPoint=e.GLine=e.FeatureSet=e.FeatureGraphicBase=e.FeatureGeometry=e.Feature=e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=e.DynShowStyle=e.DynNoteLableType=e.CRegionInfo=e.CPointInfo=e.CLineInfo=e.Circle=e.CGDBInfo=e.CDynNoteInfo=e.CDisplayStyleExtend=e.CDisplayStyle=e.CAttDataRow=e.CAttStruct=e.Zondy=e.Arc=e.AnyLine=e.ServiceBase=void 0;var r=n(4),i=n(104),o=n(112),s=n(120),a=n(122),u=n(123),l=n(129),c=n(137),p=n(152),h=n(160),f=n(166),d=n(169);e.ServiceBase=r.ServiceBase,e.AnyLine=i.AnyLine,e.Arc=i.Arc,e.Zondy=i.Zondy,e.CAttStruct=i.CAttStruct,e.CAttDataRow=i.CAttDataRow,e.CDisplayStyle=i.CDisplayStyle,e.CDisplayStyleExtend=i.CDisplayStyleExtend,e.CDynNoteInfo=i.CDynNoteInfo,e.CGDBInfo=i.CGDBInfo,e.Circle=i.Circle,e.CLineInfo=i.CLineInfo,e.CPointInfo=i.CPointInfo,e.CRegionInfo=i.CRegionInfo,e.DynNoteLableType=i.DynNoteLableType,e.DynShowStyle=i.DynShowStyle,e.XClsType=i.XClsType,e.VectClsType=i.VectClsType,e.FeatureType=i.FeatureType,e.FontShape=i.FontShape,e.LabelLinType=i.LabelLinType,e.LabelRegType=i.LabelRegType,e.LabelPntType=i.LabelPntType,e.RepeatType=i.RepeatType,e.LabelSpreadType=i.LabelSpreadType,e.LineConstrain=i.LineConstrain,e.EightDirType=i.EightDirType,e.ISShowArc=i.ISShowArc,e.NetAnalyType=i.NetAnalyType,e.NetElemType=i.NetElemType,e.CLinAdjustType=i.CLinAdjustType,e.CLinHeadType=i.CLinHeadType,e.CLinJointType=i.CLinJointType,e.CLinStyleMakeType=i.CLinStyleMakeType,e.CItemType=i.CItemType,e.MapType=i.MapType,e.LayerStatusType=i.LayerStatusType,e.Feature=i.Feature,e.FeatureGeometry=i.FeatureGeometry,e.FeatureGraphicBase=i.FeatureGraphicBase,e.FeatureSet=i.FeatureSet,e.GLine=i.GLine,e.GPoint=i.GPoint,e.GRegion=i.GRegion,e.LabelLinInfo=i.LabelLinInfo,e.LabelRegInfo=i.LabelRegInfo,e.LablePntInfo=i.LablePntInfo,e.MultiPolygon=i.MultiPolygon,e.Point2D=i.Point2D,e.Polygon=i.Polygon,e.PolyLine=i.PolyLine,e.Rectangle=i.Rectangle,e.Tangram=i.Tangram,e.VectCls=i.VectCls,e.WebGraphicsInfo=i.WebGraphicsInfo,e.extend=i.extend,e.isArray=i.isArray,e.extendDeep=i.extendDeep,e.copy=i.copy,e.copyExcluce=i.copyExcluce,e.reset=i.reset,e.getElement=i.getElement,e.isElement=i.isElement,e.removeItem=i.removeItem,e.indexOf=i.indexOf,e.modifyDOMElement=i.modifyDOMElement,e.applyDefaults=i.applyDefaults,e.getParameterString=i.getParameterString,e.getWFParameterString=i.getWFParameterString,e.urlAppend=i.urlAppend,e.getParameters=i.getParameters,e.IS_GECKO=i.IS_GECKO,e.Browser=i.Browser,e.getBrowser=i.getBrowser,e.isSupportCanvas=i.isSupportCanvas,e.supportCanvas=i.supportCanvas,e.isInTheSameDomain=i.isInTheSameDomain,e.toJSON=i.toJSON,e.transformResult=i.transformResult,e.copyAttributes=i.copyAttributes,e.copyAttributesWithClip=i.copyAttributesWithClip,e.cloneObject=i.cloneObject,e.newGuid=i.newGuid,e.bind=i.bind,e.bindAsEventListener=i.bindAsEventListener,e.getTopAnalysisResult=i.getTopAnalysisResult,e.ChineseToUtf8=i.ChineseToUtf8,e.DeepMerge=i.DeepMerge,e.merge=i.merge,e.mixin=i.mixin,e.ContourNoteParam=o.ContourNoteParam,e.ContourParam=o.ContourParam,e.ContourZValue=o.ContourZValue,e.ContourRegionInfo=o.ContourRegionInfo,e.MeshingParam=o.MeshingParam,e.NetAnalyse=o.NetAnalyse,e.NetAnalysisExtent=o.NetAnalysisExtent,e.SlopLineParam=o.SlopLineParam,e.G3DMapDoc=s.G3DMapDoc,e.G3DService=s.G3DService,e.CommonServiceBase=a.CommonServiceBase,e.Events=a.Events,e.CORS=a.CORS,e.RequestTimeout=a.RequestTimeout,e.FetchRequest=a.FetchRequest,e.IgsServiceBase=a.IgsServiceBase,e.JSONFormat=a.JSONFormat,e.ColorInfo=u.ColorInfo,e.GDBInfo=u.GDBInfo,e.MapDoc=u.MapDoc,e.CatalogService=u.CatalogService,e.TileLayer=u.TileLayer,e.VectorLayer=u.VectorLayer,e.SystomInfo=u.SystomInfo,e.EditDocFeature=l.EditDocFeature,e.EditLayerFeature=l.EditLayerFeature,e.EditServiceBase=l.EditServiceBase,e.MultiGeoQuery=l.MultiGeoQuery,e.MultiGeoQueryParameter=l.MultiGeoQueryParameter,e.ObjClsQuery=l.ObjClsQuery,e.ObjClsQueryParameter=l.ObjClsQueryParameter,e.QueryByLayerParameter=l.QueryByLayerParameter,e.QueryDocFeature=l.QueryDocFeature,e.QueryFeatureRule=l.QueryFeatureRule,e.QueryFeatureStruct=l.QueryFeatureStruct,e.QueryLayerFeature=l.QueryLayerFeature,e.QueryParameter=l.QueryParameter,e.QueryParameterBase=l.QueryParameterBase,e.QueryServiceBase=l.QueryServiceBase,e.AnalysisBase=c.AnalysisBase,e.ClassBufferBase=c.ClassBufferBase,e.ClassBufferByMultiplyRing=c.ClassBufferByMultiplyRing,e.ClassBufferBySingleRing=c.ClassBufferBySingleRing,e.ClipBase=c.ClipBase,e.ClipByCircle=c.ClipByCircle,e.ClipByLayer=c.ClipByLayer,e.ClipByPolygon=c.ClipByPolygon,e.ContourAnalyse=c.ContourAnalyse,e.FeatureBuffBase=c.FeatureBuffBase,e.FeatureBuffByMultiplyRing=c.FeatureBuffByMultiplyRing,e.FeatureBuffBySingleRing=c.FeatureBuffBySingleRing,e.NetAnalysis=c.NetAnalysis,e.OverlayBase=c.OverlayBase,e.OverlayByLayer=c.OverlayByLayer,e.OverlayByPolygon=c.OverlayByPolygon,e.ProjectBase=c.ProjectBase,e.ProjectByLayer=c.ProjectByLayer,e.ProjectBySRID=c.ProjectBySRID,e.CalArea=p.CalArea,e.CalPolyLineLength=p.CalPolyLineLength,e.CalServiceBase=p.CalServiceBase,e.CProjectBySRSID=p.CProjectBySRSID,e.CProjectParam=p.CProjectParam,e.GeometryAnalysisBase=p.GeometryAnalysisBase,e.ProjectDots=p.ProjectDots,e.ProjectRang=p.ProjectRang,e.Smooth=p.Smooth,e.TopAnalysis=p.TopAnalysis,e.GetDocImageService=h.GetDocImageService,e.GetLayerImageService=h.GetLayerImageService,e.GetMapImageService=h.GetMapImageService,e.GetMapInfoService=h.GetMapInfoService,e.GetTileImageService=h.GetTileImageService,e.MapServiceBase=h.MapServiceBase,e.CAllOtherDataItemInfoSource=f.CAllOtherDataItemInfoSource,e.CAnnInfo=f.CAnnInfo,e.CChartLabelFormat=f.CChartLabelFormat,e.CChartTheme=f.CChartTheme,e.CChartThemeInfo=f.CChartThemeInfo,e.CChartThemeRepresentInfo=f.CChartThemeRepresentInfo,e.CChartType=f.CChartType,e.CDotDensityTheme=f.CDotDensityTheme,e.CFourColorTheme=f.CFourColorTheme,e.CGraduatedSymbolTheme=f.CGraduatedSymbolTheme,e.CLinInfo=f.CLinInfo,e.CMultiClassTheme=f.CMultiClassTheme,e.CPntInfo=f.CPntInfo,e.CRandomTheme=f.CRandomTheme,e.CRangeTheme=f.CRangeTheme,e.CRangeThemeInfo=f.CRangeThemeInfo,e.CRegInfo=f.CRegInfo,e.CSimpleTheme=f.CSimpleTheme,e.CTheme=f.CTheme,e.CThemeInfo=f.CThemeInfo,e.CUniqueTheme=f.CUniqueTheme,e.CUniqueThemeInfo=f.CUniqueThemeInfo,e.ExpInfo=f.ExpInfo,e.FolderInfo=f.FolderInfo,e.FolderInfoAttribute=f.FolderInfoAttribute,e.ItemValue=f.ItemValue,e.ThemeOper=f.ThemeOper,e.ThemesInfo=f.ThemesInfo,e.WMSCapabilities=d.WMSCapabilities,e.WMTSCapabilities=d.WMTSCapabilities,e.OGCWMTSInfo=d.OGCWMTSInfo,e.OGCWMSInfo=d.OGCWMSInfo},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCanvasContext2D=e.mixin=e.merge=e.DeepMerge=e.ChineseToUtf8=e.getTopAnalysisResult=e.bindAsEventListener=e.bind=e.newGuid=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.transformResult=e.toJSON=e.isInTheSameDomain=e.supportCanvas=e.isSupportCanvas=e.getBrowser=e.Browser=e.IS_GECKO=e.getParameters=e.urlAppend=e.getWFParameterString=e.getParameterString=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isElement=e.getElement=e.reset=e.copyExcluce=e.copy=e.extendDeep=e.isArray=e.extend=e.WebGraphicsInfo=e.VectCls=e.Tangram=e.Rectangle=e.PolyLine=e.Polygon=e.Point2D=e.MultiPolygon=e.LablePntInfo=e.LabelRegInfo=e.LabelLinInfo=e.GRegion=e.GPoint=e.GLine=e.FeatureSet=e.FeatureGraphicBase=e.FeatureGeometry=e.Feature=e.LayerStatusType=e.MapType=e.CItemType=e.CLinStyleMakeType=e.CLinJointType=e.CLinHeadType=e.CLinAdjustType=e.NetElemType=e.NetAnalyType=e.ISShowArc=e.EightDirType=e.LineConstrain=e.LabelSpreadType=e.RepeatType=e.LabelPntType=e.LabelRegType=e.LabelLinType=e.FontShape=e.FeatureType=e.VectClsType=e.XClsType=e.DynShowStyle=e.DynNoteLableType=e.CRegionInfo=e.CPointInfo=e.CLineInfo=e.Circle=e.CGDBInfo=e.CDynNoteInfo=e.CDisplayStyleExtend=e.CDisplayStyle=e.CAttDataRow=e.CAttStruct=e.Zondy=e.Arc=e.AnyLine=void 0;var r=n(21),i=n(105),o=n(0),s=n(16),a=n(106),u=n(107),l=n(48),c=n(43),p=n(49),h=n(108),f=n(17),d=n(22),y=n(23),g=n(44),m=n(42),v=n(3),_=n(50),b=n(52),w=n(18),x=n(54),S=n(25),E=n(24),C=n(26),P=n(46),I=n(47),O=n(45),M=n(109),T=n(6),N=n(55),j=n(110),L=n(51),A=n(10),k=n(111),R=n(53),D=n(1);e.AnyLine=r.AnyLine,e.Arc=i.Arc,e.Zondy=o.Zondy,e.CAttStruct=s.CAttStruct,e.CAttDataRow=a.CAttDataRow,e.CDisplayStyle=u.CDisplayStyle,e.CDisplayStyleExtend=l.CDisplayStyleExtend,e.CDynNoteInfo=c.CDynNoteInfo,e.CGDBInfo=p.CGDBInfo,e.Circle=h.Circle,e.CLineInfo=f.CLineInfo,e.CPointInfo=d.CPointInfo,e.CRegionInfo=y.CRegionInfo,e.DynNoteLableType=g.DynNoteLableType,e.DynShowStyle=m.DynShowStyle,e.XClsType=v.XClsType,e.VectClsType=v.VectClsType,e.FeatureType=v.FeatureType,e.FontShape=v.FontShape,e.LabelLinType=v.LabelLinType,e.LabelRegType=v.LabelRegType,e.LabelPntType=v.LabelPntType,e.RepeatType=v.RepeatType,e.LabelSpreadType=v.LabelSpreadType,e.LineConstrain=v.LineConstrain,e.EightDirType=v.EightDirType,e.ISShowArc=v.ISShowArc,e.NetAnalyType=v.NetAnalyType,e.NetElemType=v.NetElemType,e.CLinAdjustType=v.CLinAdjustType,e.CLinHeadType=v.CLinHeadType,e.CLinJointType=v.CLinJointType,e.CLinStyleMakeType=v.CLinStyleMakeType,e.CItemType=v.CItemType,e.MapType=v.MapType,e.LayerStatusType=v.LayerStatusType,e.Feature=_.Feature,e.FeatureGeometry=b.FeatureGeometry,e.FeatureGraphicBase=w.FeatureGraphicBase,e.FeatureSet=x.FeatureSet,e.GLine=S.GLine,e.GPoint=E.GPoint,e.GRegion=C.GRegion,e.LabelLinInfo=P.LabelLinInfo,e.LabelRegInfo=I.LabelRegInfo,e.LablePntInfo=O.LablePntInfo,e.MultiPolygon=M.MultiPolygon,e.Point2D=T.Point2D,e.Polygon=N.Polygon,e.PolyLine=j.PolyLine,e.Rectangle=L.Rectangle,e.Tangram=A.Tangram,e.VectCls=k.VectCls,e.WebGraphicsInfo=R.WebGraphicsInfo,e.extend=D.extend,e.isArray=D.isArray,e.extendDeep=D.extendDeep,e.copy=D.copy,e.copyExcluce=D.copyExcluce,e.reset=D.reset,e.getElement=D.getElement,e.isElement=D.isElement,e.removeItem=D.removeItem,e.indexOf=D.indexOf,e.modifyDOMElement=D.modifyDOMElement,e.applyDefaults=D.applyDefaults,e.getParameterString=D.getParameterString,e.getWFParameterString=D.getWFParameterString,e.urlAppend=D.urlAppend,e.getParameters=D.getParameters,e.IS_GECKO=D.IS_GECKO,e.Browser=D.Browser,e.getBrowser=D.getBrowser,e.isSupportCanvas=D.isSupportCanvas,e.supportCanvas=D.supportCanvas,e.isInTheSameDomain=D.isInTheSameDomain,e.toJSON=D.toJSON,e.transformResult=D.transformResult,e.copyAttributes=D.copyAttributes,e.copyAttributesWithClip=D.copyAttributesWithClip,e.cloneObject=D.cloneObject,e.newGuid=D.newGuid,e.bind=D.bind,e.bindAsEventListener=D.bindAsEventListener,e.getTopAnalysisResult=D.getTopAnalysisResult,e.ChineseToUtf8=D.ChineseToUtf8,e.DeepMerge=D.DeepMerge,e.merge=D.merge,e.mixin=D.mixin,e.createCanvasContext2D=D.createCanvasContext2D},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arc=void 0;var r=n(0),i=n(1),o=function(t,e){this.ArcID=0;var n=void 0!==e?e:{};(0,i.extend)(this,n),this.Dots=void 0!==t&&null!==t?t:null};e.Arc=o,r.Zondy.Object.Arc=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CAttDataRow=void 0;var r=n(0),i=n(1),o=function(t,e,n){var r=void 0!==n?n:{};(0,i.extend)(this,r),this.FID=void 0!==e?e:0,this.Values=void 0!==t?t:null};e.CAttDataRow=o,r.Zondy.Object.CAttDataRow=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CDisplayStyle=void 0;var r=n(0),i=n(1),o=(n(42),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.AnnSizeFixed=void 0!==e.AnnSizeFixed&&e.AnnSizeFixed,this.DriverQuality=void 0!==e.DriverQuality?e.DriverQuality:0,this.DynProjFlag=void 0!==e.DynProjFlag&&e.DynProjFlag,this.FollowScale=void 0!==e.FollowScale&&e.FollowScale,this.LinPenWidFixed=void 0!==e.LinPenWidFixed&&e.LinPenWidFixed,this.LinSizeFixed=void 0!==e.LinSizeFixed&&e.LinSizeFixed,this.PntPenWidFixed=void 0!==e.PntPenWidFixed&&e.PntPenWidFixed,this.PntSizeFixed=void 0!==e.PntSizeFixed&&e.PntSizeFixed,this.RegPenWidFixed=void 0!==e.RegPenWidFixed&&e.RegPenWidFixed,this.RegSizeFixed=void 0!==e.RegSizeFixed&&e.RegSizeFixed,this.ShowCoordPnt=void 0!==e.ShowCoordPnt&&e.ShowCoordPnt,this.ShowElemRect=void 0!==e.ShowElemRect&&e.ShowElemRect,this.ShowStyle=void 0!==e.ShowStyle?e.ShowStyle:null,this.SymbleShow=void 0!==e.SymbleShow&&e.SymbleShow});e.CDisplayStyle=o,r.Zondy.Object.CDisplayStyle=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(10);n(6);var s=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.point=void 0!==t&&null!==t?t:null,o.radious=void 0!==n&&null!==n?n:null,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Tangram),r(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t){var e=t.getCenter(),n=t.getRadius();this.point=new i.Zondy.Object.Point2D(e[0],e[1]),this.radious=n}}},{key:"toString",value:function(){return null===this.point||0===this.point.length||null===this.radious?"":this.point.x+","+this.point.y+","+this.radious}},{key:"getGeometryType",value:function(){return"Circle"}}]),e}();e.Circle=s,i.Zondy.Object.Circle=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiPolygon=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),o=n(6),s=n(55),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.polygonArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),r(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t){this.polygonArr=[];for(var e=t.getLinearRingCount(),n=t.getLinearRings(),r=0;r<e;r++){for(var i=n[r].getCoordinates(),a=i.length,u=[],l=0;l<a;l++)u[l]=new o.Point2D(i[l][0],i[l][1]);this.polygonArr[r]=new s.Polygon(u)}}}},{key:"toString",value:function(){if(void 0===this.polygonArr||null===this.polygonArr||0===this.polygonArr.length)return"";for(var t="",e=0;e<this.polygonArr.length;e++)t+=this.polygonArr[e].toString()+";";return t.substring(0,t.length-1)}},{key:"getGeometryType",value:function(){return"multiPolygon"}}]),e}();e.MultiPolygon=a,Zondy.Object.MultiPolygon=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PolyLine=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(10),o=n(6),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.nearDis=void 0!==r.nearDis&&null!==r.nearDis?parseFloat(r.nearDis):null,i.pointArr=void 0!==t&&null!==t&&Array.isArray(t)?t:new Array,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Tangram),r(e,[{key:"setByOL",value:function(t){if(void 0!==t&&null!==t)for(var e=t.getCoordinates(),n=e.length,r=0;r<n;r++)this.pointArr[r]=new o.Point2D(e[r][0],e[r][1])}},{key:"toString",value:function(){if(null===this.pointArr||0===this.pointArr.length)return"";for(var t=this.pointArr[0].x+","+this.pointArr[0].y,e=1;e<this.pointArr.length;e++)t+=","+this.pointArr[e].x+","+this.pointArr[e].y;return void 0!==this.nearDis&&null!==this.nearDis?t+=";"+this.nearDis:t=t.substring(0,t.length-1),this.Trim(t,"g")}},{key:"getGeometryType",value:function(){return"line"}}]),e}();e.PolyLine=s,Zondy.Object.PolyLine=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectCls=void 0;var r=n(0),i=n(1),o=n(3),s=(n(16),function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.clsType=void 0!==e.clsType?e.clsType:o.VectClsType.SFCls,this.clsName=void 0!==e.clsName?e.clsName:null,this.geoType=void 0!==e.geoType?e.geoType:1,this.srefName=void 0!==e.srefName?encodeURI(e.srefName):"",this.dsName=void 0!==e.dsName?encodeURI(e.dsName):"",this.attStruct=void 0!==e.attStruct?e.attStruct:null});e.VectCls=s,r.Zondy.Object.VectCls=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlopLineParam=e.NetAnalysisExtent=e.NetAnalyse=e.MeshingParam=e.ContourRegionInfo=e.ContourZValue=e.ContourParam=e.ContourNoteParam=void 0;var r=n(56),i=n(57),o=n(59),s=n(60),a=n(61),u=n(113),l=n(114),c=n(58);e.ContourNoteParam=r.ContourNoteParam,e.ContourParam=i.ContourParam,e.ContourZValue=o.ContourZValue,e.ContourRegionInfo=s.ContourRegionInfo,e.MeshingParam=a.MeshingParam,e.NetAnalyse=u.NetAnalyse,e.NetAnalysisExtent=l.NetAnalysisExtent,e.SlopLineParam=c.SlopLineParam},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalyse=void 0;var r=n(0),i=n(1),o=function(t){var e=void 0!==t?t:{};(0,i.extend)(this,e),this.netCls=void 0!==e.netCls?e.netCls:null,this.flagPosStr=void 0!==e.flagPosStr?e.flagPosStr:null,this.barrierPosStr=void 0!==e.barrierPosStr?e.barrierPosStr:null,this.weight=void 0!==e.weight?e.weight:null,this.mode=void 0!==e.mode?e.mode:null,this.isTour=void 0!==e.isTour&&e.isTour,this.isTravel=void 0!==e.isTravel&&e.isTravel,this.usedTWgt=void 0!==e.usedTWgt&&e.usedTWgt,this.turnWgt=void 0!==e.turnWgt?e.turnWgt:null,this.roadName=void 0!==e.roadName?e.roadName:"name"};e.NetAnalyse=o,r.Zondy.Object.NetAnalyse=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalysisExtent=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=(n(1),n(4)),s=n(2),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.netClsUrl=void 0!==n.netClsUrl?n.netClsUrl:null,r.flagPosStr=void 0!==n.flagPosStr?n.flagPosStr:null,r.analyTp=void 0!==n.analyTp?n.analyTp:"UserMode",r.weight=void 0!==n.weight?n.weight:",Weight1,Weight1",r.outFormat=void 0!==n.outFormat?n.outFormat:"JSON",r.elementType=void 0!==n.elementType?n.elementType:2,r.nearDis=void 0!==n.nearDis?n.nearDis:.001,r.barrierPosStr=void 0!==n.barrierPosStr?n.barrierPosStr:null,r.roadName=void 0!==n.roadName?n.roadName:"name",r.baseUrl="igs/rest/netAnaly",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),r(e,[{key:"getNetInfo",value:function(t,e,n,r){null!=t&&void 0!=t||(t="weight"),this.partUrl="netClsInfo?netCls="+this.netClsUrl+"&type="+t;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"addNetFlag",value:function(t,e,n,r,i){var o={};null!=r&&"POST"==r.toUpperCase()?(o.dotVal=t,this.partUrl="netClsFlag?netCls="+this.netClsUrl+"&type="+this.elementType+"&nearDis="+this.nearDis):this.partUrl="netClsFlag?netCls="+this.netClsUrl+"&type="+this.elementType+"&value="+t+"&nearDis="+this.nearDis;var a=this.getFullUrl(),u=new s.IgsServiceBase(a,{eventListeners:{scope:this,processCompleted:e,processFailed:n}});null!=r&&"POST"==r.toUpperCase()?u.processAsync({method:"POST",data:JSON.stringify(o),headers:{"Content-Type":"text/plain;charset=UTF-8"}}):u.processAsync()}},{key:"netAnalyse",value:function(t,e,n,r){this.partUrl="netAnalyse";var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"comNetAnalyse",value:function(t,e,n,r){this.partUrl="comNetAnalyse";var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"pluNetAnalyse",value:function(t,e,n,r){this.partUrl="pluNetAnalyse";var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.NetAnalysisExtent=a,i.Zondy.Service.NetAnalysisExtent=a},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{default:t}}(n(116));window.Promise=r.default},function(t,e,n){"use strict";(function(r){var i,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(r,a){"object"===s(e)&&void 0!==t?t.exports=a():void 0===(o="function"==typeof(i=a)?i.call(e,n,e,t):i)||(t.exports=o)}(0,(function(){var t=setTimeout;function e(){}function n(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void o(e.promise,t)}i(e.promise,r)}else(1===t._state?i:o)(e.promise,t._value)}))):t._deferreds.push(e)}function i(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===(void 0===e?"undefined":s(e))||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void a(t);if("function"==typeof n)return void u(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,a(t)}catch(e){o(t,e)}}function o(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,r=t._deferreds.length;e<r;e++)n(t,t._deferreds[e]);t._deferreds=null}function u(t,e){var n=!1;try{t((function(t){n||(n=!0,i(e,t))}),(function(t){n||(n=!0,o(e,t))}))}catch(t){if(n)return;n=!0,o(e,t)}}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}var c=l.prototype;return c.catch=function(t){return this.then(null,t)},c.then=function(t,r){var i=new this.constructor(e);return n(this,new function(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}(t,r,i)),i},l.all=function(t){return new l((function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"===(void 0===a?"undefined":s(a))||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,(function(e){o(t,e)}),n)}r[t]=a,0==--i&&e(r)}catch(t){n(t)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},l.resolve=function(t){return t&&"object"===(void 0===t?"undefined":s(t))&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},l._immediateFn="function"==typeof r&&function(t){r(t)}||function(e){t(e,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},l}))}).call(this,n(117).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(118),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(66))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},s=!1,a=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var s={callback:t,args:e};return o[i]=s,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(s)setTimeout(c,0,t);else{var e=o[t];if(e){s=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{l(t),s=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(66),n(67))},function(t,e,n){"use strict";!function(e){if(e.__disableNativeFetch||!e.fetch){a.prototype.append=function(t,e){t=o(t),e=s(e);var n=this.map[t];n||(n=[],this.map[t]=n),n.push(e)},a.prototype.delete=function(t){delete this.map[o(t)]},a.prototype.get=function(t){var e=this.map[o(t)];return e?e[0]:null},a.prototype.getAll=function(t){return this.map[o(t)]||[]},a.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},a.prototype.set=function(t,e){this.map[o(t)]=[s(e)]},a.prototype.forEach=function(t,e){Object.getOwnPropertyNames(this.map).forEach((function(n){this.map[n].forEach((function(r){t.call(e,r,n,this)}),this)}),this)};var n={blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e},r=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},p.call(h.prototype),p.call(d.prototype),d.prototype.clone=function(){return new d(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},d.error=function(){var t=new d(null,{status:0,statusText:""});return t.type="error",t};var i=[301,302,303,307,308];d.redirect=function(t,e){if(-1===i.indexOf(e))throw new RangeError("Invalid status code");return new d(null,{status:e,headers:{location:t}})},e.Headers=a,e.Request=h,e.Response=d,e.fetch=function(t,e){return new Promise((function(r,i){var o;o=h.prototype.isPrototypeOf(t)&&!e?t:new h(t,e);var s=new XMLHttpRequest,u=!1;function l(){if(4===s.readyState){var t=1223===s.status?204:s.status;if(t<100||t>599){if(u)return;return u=!0,void i(new TypeError("Network request failed"))}var e={status:t,statusText:s.statusText,headers:function(t){var e=new a;return t.getAllResponseHeaders().trim().split("\n").forEach((function(t){var n=t.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();e.append(r,i)})),e}(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0},n="response"in s?s.response:s.responseText;u||(u=!0,r(new d(n,e)))}}s.onreadystatechange=l,s.onload=l,s.onerror=function(){u||(u=!0,i(new TypeError("Network request failed")))},s.open(o.method,o.url,!0);try{"include"===o.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(t){console&&console.warn&&console.warn("set withCredentials error:"+t)}"responseType"in s&&n.blob&&(s.responseType="blob"),o.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),s.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0,void 0!==t&&t.exports&&(t.exports=e.fetch)}function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){this.map={},t instanceof a?t.forEach((function(t,e){this.append(e,t)}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function u(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function l(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function c(t){var e=new FileReader;return e.readAsArrayBuffer(t),l(e)}function p(){return this.bodyUsed=!1,this._initBody=function(t,e){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(n.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t,this._options=e;else if(n.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){if(!n.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},n.blob?(this.blob=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(c)},this.text=function(){var t=u(this);if(t)return t;if(this._bodyBlob)return function(t,e){var n=new FileReader,r=e.headers.map["content-type"]?e.headers.map["content-type"].toString():"",i=/charset\=[0-9a-zA-Z\-\_]*;?/,o=t.type.match(i)||r.match(i),s=[t];return o&&s.push(o[0].replace(/^charset\=/,"").replace(/;$/,"")),n.readAsText.apply(n,s),l(n)}(this._bodyBlob,this._options);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=u(this);return t||Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t,e){var n=(e=e||{}).body;if(h.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new a(t.headers)),this.method=t.method,this.mode=t.mode,n||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new a(e.headers)),this.method=function(t){var e=t.toUpperCase();return r.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,e)}function f(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function d(t,e){e||(e={}),this._initBody(t,e),this.type="default",this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers instanceof a?e.headers:new a(e.headers),this.url=e.url||""}}("undefined"!=typeof self?self:void 0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G3DService=e.G3DMapDoc=void 0;var r=n(121),i=n(68);e.G3DMapDoc=r.G3DMapDoc,e.G3DService=i.G3DService},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.G3DMapDoc=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(68),a=n(2),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.docName=n.docName||null,r.gdbp=n.gdbp||null,r.proj=n.proj||null,r.f=n.f||"json",r.guid=void 0!==n.guid?n.guid:(0,o.newGuid)(),r.encryptPassword=n.encryptPassword||null,r.layerindex=n.layerindex||0,r.geometryType=n.geometryType||null,r.geometry=n.geometry||null,r.where=n.where||null,r.structs=n.structs||{IncludeAttribute:!0,IncludeGeometry:!1,IncludeWebGraphic:!1},r.page=n.page||0,r.pageCount=n.pageCount||20,r.objectIds=n.objectIds||null,r.orderField=n.orderField||null,r.rtnLabel=void 0!==n.rtnLabel&&n.rtnLabel,r.isAsc=void 0!==n.isAsc&&n.isAsc,r.format=n.format||"json",r.systemLib=n.systemLib||null,r.layerRenderIndex=n.layerRenderIndex||0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.G3DService),r(e,[{key:"GetDocList",value:function(t,e){this.partUrl="GetDocList";var n=this.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetDocInfo",value:function(t,e){this.partUrl=this.docName+"/GetDocInfo?&f=json";var n=this.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetLayerInfo",value:function(t,e){var n=this,r="layerinfo?gdbp="+this.gdbp;n.proj&&(r+="&proj="+n.proj),n.f&&(r+="&f="+n.f),n.guid&&(r+="&guid="+n.guid),n.encryptPassword&&(r+="&encryptPassword="+n.encryptPassword),n.partUrl=r;var i=n.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetFeature",value:function(t,e){var n=this,r="getFeature?";n.gdbp&&""!==n.gdbp?r+="gdbp="+n.gdbp:n.docName&&(r+="docName="+n.docName+"&layerindex="+n.layerindex),n.geometryType&&(r+="&geometryType="+n.geometryType),n.geometry&&(r+="&geometry="+n.geometry),n.where&&(r+="&where="+n.where),n.structs&&(r+="&structs="+JSON.stringify(n.structs)),n.page&&(r+="&page="+n.page),n.pageCount&&(r+="&pageCount="+n.pageCount),n.objectIds&&(r+="&objectIds="+n.objectIds),n.orderField&&(r+="&orderField="+n.orderField),n.rtnLabel&&(r+="&rtnLabel="+n.rtnLabel),n.isAsc&&(r+="&isAsc="+n.isAsc),n.guid&&(r+="&guid="+n.guid),n.format&&(r+="&format="+n.format),n.f&&(r+="&f="+n.f),n.partUrl=r;var i=n.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"SetSystemLibraryByDoc",value:function(t,e){var n=this,r=n.docName+"/setSystemLibrary?systemLib="+n.systemLib+"&layerRenderIndex="+n.layerRenderIndex;n.f&&(r+="&f="+n.f),n.guid&&(r+="&guid="+n.guid),n.partUrl=r;var i=n.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}}]),e}();e.G3DMapDoc=u,i.Zondy.Catalog.G3DMapDoc=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=e.IgsServiceBase=e.FetchRequest=e.RequestTimeout=e.CORS=e.Events=e.CommonServiceBase=void 0;var r=n(62),i=n(63),o=n(65),s=n(2),a=n(64);e.CommonServiceBase=r.CommonServiceBase,e.Events=i.Events,e.CORS=o.CORS,e.RequestTimeout=o.RequestTimeout,e.FetchRequest=o.FetchRequest,e.IgsServiceBase=s.IgsServiceBase,e.JSONFormat=a.JSONFormat},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystomInfo=e.VectorLayer=e.TileLayer=e.CatalogService=e.MapDoc=e.GDBInfo=e.ColorInfo=void 0;var r=n(124),i=n(69),o=n(125),s=n(12),a=n(126),u=n(127),l=n(128);e.ColorInfo=r.ColorInfo,e.GDBInfo=i.GDBInfo,e.MapDoc=o.MapDoc,e.CatalogService=s.CatalogService,e.TileLayer=a.TileLayer,e.VectorLayer=u.VectorLayer,e.SystomInfo=l.SystomInfo},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorInfo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(12),o=n(2),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.SystemLibID=void 0!==n.SystemLibID?n.SystemLibID:0,r.ColorNO=void 0!==n.ColorNO?n.ColorNO:6,r.Red=void 0!==n.Red?n.Red:0,r.Green=void 0!==n.Green?n.Green:0,r.Blue=void 0!==n.Blue?n.Blue:0,r.addNew=void 0!==n.addNew&&n.addNew,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),r(e,[{key:"getColorNO",value:function(t,e,n){var r=this;null!==t&&void 0!==t&&(void 0!==t.SystemLibID&&(r.SystemLibID=t.SystemLibID),void 0!==t.Red&&(r.Red=t.Red),void 0!==t.Green&&(r.Green=t.Green),void 0!==t.Blue&&(r.Blue=t.Blue),void 0!==t.addNew&&(r.addNew=t.addNew)),r.partUrl="ColorLib/getColorNO?f=json&libID="+r.SystemLibID+"&r="+r.Red+"&g="+r.Green+"&b="+r.Blue+"&addNew="+r.addNew;var i=r.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getColorRGB",value:function(t,e,n){var r=this;null!==t&&void 0!==t&&(void 0!==t.SystemLibID&&(r.SystemLibID=t.SystemLibID),void 0!==t.ColorNO&&(r.ColorNO=t.ColorNO)),r.partUrl="ColorLib/getColorRGB?f=json&libID="+r.SystemLibID+"&colorNO="+r.ColorNO;var i=r.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}}]),e}();e.ColorInfo=s,Zondy.Catalog.ColorInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapDoc=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(1),s=n(12),a=n(2),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.docName=void 0!==n.docName?n.docName:null,r.mapIndex=void 0!==n.mapIndex?n.mapIndex:0,r.layerID=void 0!==n.layerID?n.layerID:0,r.version=void 0!==n.version?n.version:2,r.include=void 0!==n.include?n.include:"{includeDetails:true,includeSubs:false}",r.returnFullStyle=void 0!==n.returnFullStyle&&n.returnFullStyle,r.guid=void 0!==n.guid?n.guid:(0,o.newGuid)(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.CatalogService),r(e,[{key:"getMapDocList",value:function(t,e){this.partUrl="docs?v="+this.version+"&f=json";var n=this.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getMapDocInfo",value:function(t,e,n,r,i){var s=this;if("boolean"==typeof i&&(s.returnFullStyle=i),"boolean"==typeof e||"boolean"==typeof n){var u={includeDetails:"boolean"!=typeof e||e,includeSubs:"boolean"==typeof n&&n};s.include=(0,o.toJSON)(u)}s.partUrl="docs/"+s.docName+"?include="+s.include+"&returnFullStyle="+s.returnFullStyle+"&guid="+s.guid+"&f=json";var l=s.getFullUrl();new a.IgsServiceBase(l,{eventListeners:{scope:s,processCompleted:t,processFailed:r}}).processAsync()}},{key:"getMapInfo",value:function(t,e,n){var r=this;"boolean"==typeof e&&(r.returnFullStyle=e),r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"?returnFullStyle="+r.returnFullStyle+"&guid="+r.guid+"&f=json";var i=r.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:t,processFailed:n}}).processAsync()}},{key:"getMapDocTree",value:function(t,e){var n=this;n.partUrl="docs/"+n.docName+"?tree=true&guid="+n.guid+"&f=json";var r=n.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayerInfo",value:function(t,e){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/"+n.layerID+"?returnFullStyle="+n.returnFullStyle+"&guid="+n.guid+"&f=json";var r=n.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayersInfo",value:function(t,e){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/layers?f=json";var r=n.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"deleteLayer",value:function(t,e){var n=this;n.partUrl="docs/"+n.docName+"/"+n.mapIndex+"/layers/delete?layerIDs="+n.layerID+"&guid="+n.guid+"&f=json";var r=n.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"addLayer",value:function(t,e,n){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/layers/add?guid="+r.guid+"&f=json";var i=r.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"changeIndex",value:function(t,e,n){var r=this;r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/layers/index?guid="+r.guid+"&f=json";var i=r.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),header:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"getLegendInfo",value:function(t,e,n,r){this.partUrl="legendInfo/"+this.docName+"?f=json&layerIndexes="+t+"&fields="+e;var i=this.getFullUrl();new a.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:n,processFailed:r}}).processAsync()}}]),e}();e.MapDoc=u,i.Zondy.Catalog.MapDoc=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TileLayer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(12),o=n(2),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.tileName=void 0!==n.tileName?n.tileName:null,r.version=void 0!==n.version?n.version:"2.0",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),r(e,[{key:"getTileList",value:function(t,e){var n=this;n.partUrl="tiles?f=json",this.version&&("2.0"===n.version?n.partUrl+="&v=2":n.partUrl+="&v="+n.version);var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getTileInfo",value:function(t,e){var n=this;n.partUrl="tiles/"+n.tileName+"?f=json",n.version&&(n.partUrl+="&v="+n.version);var r=n.getFullUrl();new o.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}}]),e}();e.TileLayer=s,Zondy.Catalog.TileLayer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VectorLayer=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(1),o=n(69),s=n(2),a=n(16),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{};return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GDBInfo),r(e,[{key:"getSfclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/sfcls?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/sfcls?user="+n.User+"&psw="+n.Password+"&containAll="+this.containAll+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getAclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/acls?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/acls?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getOclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/ocls?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/ocls?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getNclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/ncls?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/ncls?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRdsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/rds?containAll="+n.containAll+"&f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/rds?user="+n.User+"&psw="+n.Password+"&containAll="+n.containAll+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsSfclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/sfcls?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/sfcls?user="+n.User+"&psw="+n.Password+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsAclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/acls?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/acls?user="+n.User+"&psw="+n.Password+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsOclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/ocls?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/ocls?user="+n.User+"&psw="+n.Password+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getDsNclsList",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/ncls?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.dsName+"/ncls?user="+n.User+"&psw="+n.Password+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getRdsListInRcs",value:function(t,e){var n=this;"mapgislocal"===n.serverName.toLowerCase()?n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.rcsName+"/rds?f=json":n.partUrl="datasource/"+n.serverName+"/"+n.gdbName+"/"+n.rcsName+"/rds?user="+n.User+"&psw="+n.Password+"&f=json";var r=n.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getLayerList",value:function(t,e,n){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+t+"?containAll="+r.containAll+"&f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+t+"?user="+r.User+"&psw="+r.Password+"&containAll="+r.containAll+"&f=json";var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getLayerListInDS",value:function(t,e,n){var r=this;"mapgislocal"===r.serverName.toLowerCase()?r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/"+t+"?f=json":r.partUrl="datasource/"+r.serverName+"/"+r.gdbName+"/"+r.dsName+"/"+t+"?user="+r.User+"&psw="+r.Password+"&f=json";var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getLayerInfo",value:function(t,e,n,r){this.partUrl="layerinfo?gdbpUrl="+t+"&f=json&encryptPassword="+r+"&proj="+this.proj;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"CreateVectCls",value:function(t,e,n){var r=this;if(null!==(t=null!==t?t:null)&&null!==r.serverName&&null!==r.gdbName){null!==r.User&&null!==r.Password?r.partUrl="datasource/"+r.User+":"+r.Password+"@":r.partUrl="datasource/",null===t.clsName&&(t.clsName=(0,i.newGuid)()),r.partUrl+=r.serverName+"/"+r.gdbName+"/"+t.clsType+"/"+t.clsName+"/create?geoType="+t.geoType+"&srefName="+t.srefName+"&dsName="+t.dsName+"&f=json",null===t.attStruct&&(t.attStruct=new a.CAttStruct);var o=r.getFullUrl();new s.IgsServiceBase(o,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t.attStruct),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deleteXCls",value:function(t,e,n,r){var i=this;if(null!==i.serverName&&null!==i.gdbName&&null!==t&&null!==e){i.partUrl="datasource/"+i.serverName+"/"+i.gdbName+"/"+t+"/"+e+"/delete?f=json";var o=i.getFullUrl();new s.IgsServiceBase(o,{eventListeners:{scope:i,processCompleted:n,processFailed:r}}).processAsync()}}}]),e}();e.VectorLayer=u,Zondy.Catalog.VectorLayer=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystomInfo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(12),o=n(2),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.f=n.f||"json",r.page=n.page||0,r.pageCount=n.pageCount||20,r.systemLib=n.systemLib||null,r.type=n.type||null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CatalogService),r(e,[{key:"GetSystemLibrary",value:function(t,e){this.partUrl="systemlibraries?f="+this.f;var n=this.getFullUrl();new o.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"GetSymbol",value:function(t,e){var n=this,r="symbols?&systemLib="+n.systemLib+"&type="+n.type;n.f&&(r+="&f="+n.f),n.page&&(r+="&page="+n.page),n.size&&(r+="&size="+n.pageCount),n.partUrl=r;var i=n.getFullUrl();new o.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}}]),e}();e.SystomInfo=s,Zondy.Catalog.SystomInfo=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryServiceBase=e.QueryParameterBase=e.QueryParameter=e.QueryLayerFeature=e.QueryFeatureStruct=e.QueryFeatureRule=e.QueryDocFeature=e.QueryByLayerParameter=e.ObjClsQueryParameter=e.ObjClsQuery=e.MultiGeoQueryParameter=e.MultiGeoQuery=e.EditServiceBase=e.EditLayerFeature=e.EditDocFeature=void 0;var r=n(130),i=n(131),o=n(27),s=n(132),a=n(72),u=n(133),l=n(73),c=n(134),p=n(135),h=n(71),f=n(29),d=n(136),y=n(28),g=n(70),m=n(14);e.EditDocFeature=r.EditDocFeature,e.EditLayerFeature=i.EditLayerFeature,e.EditServiceBase=o.EditServiceBase,e.MultiGeoQuery=s.MultiGeoQuery,e.MultiGeoQueryParameter=a.MultiGeoQueryParameter,e.ObjClsQuery=u.ObjClsQuery,e.ObjClsQueryParameter=l.ObjClsQueryParameter,e.QueryByLayerParameter=c.QueryByLayerParameter,e.QueryDocFeature=p.QueryDocFeature,e.QueryFeatureRule=h.QueryFeatureRule,e.QueryFeatureStruct=f.QueryFeatureStruct,e.QueryLayerFeature=d.QueryLayerFeature,e.QueryParameter=y.QueryParameter,e.QueryParameterBase=g.QueryParameterBase,e.QueryServiceBase=m.QueryServiceBase},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditDocFeature=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(27),s=n(2),a=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.docName=void 0!==t?t:null,o.mapIndex=0,o.layerIndex=void 0!==n?n:0,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.EditServiceBase),r(e,[{key:"add",value:function(t,e,n){var r=this;if(void 0!==t){r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/"+r.layerIndex+"/addFeatures?f="+r.f+"&guid="+r.guid;var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"update",value:function(t,e,n){var r=this;if(void 0!==t){r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/"+r.layerIndex+"/updateFeatures?f="+r.f+"&guid="+r.guid;var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deletes",value:function(t,e,n){var r=this;if(void 0!==t){r.partUrl="docs/"+r.docName+"/"+r.mapIndex+"/"+r.layerIndex+"/deleteFeatures?f="+r.f+"&objectIds="+t+"&guid="+r.guid;var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}}}]),e}();e.EditDocFeature=a,i.Zondy.Service.EditDocFeature=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditLayerFeature=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(27),s=n(2),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.gdbp=void 0!==t?t:null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.EditServiceBase),r(e,[{key:"add",value:function(t,e,n){var r=this;if(void 0!==t){r.partUrl="layer/addFeatures?f="+r.f+"&gdbp="+r.gdbp+"&guid="+r.guid;var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"update",value:function(t,e,n){var r=this;if(void 0!==t){r.partUrl="layer/updateFeatures?f="+r.f+"&gdbp="+r.gdbp+"&guid="+r.guid;var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}},{key:"deletes",value:function(t,e,n){var r=this;if(void 0!==t){r.partUrl="layer/deleteFeatures?f="+r.f+"&objectIds="+t+"&gdbp="+r.gdbp+"&guid="+r.guid;var i=r.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:r,processCompleted:e,processFailed:n}}).processAsync()}}}]),e}();e.EditLayerFeature=a,i.Zondy.Service.EditLayerFeature=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiGeoQuery=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(14),s=n(72),a=n(2),u=function(t){function e(t,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i||{},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return s.queryParam=t,s.mapName=n,s.mapIndex=0,s.layerIndex=r,s.baseUrl="igs/rest/extend/MultiGeo",s.partUrl="docs/"+s.mapName+"/"+s.mapIndex.toString()+"/"+s.layerIndex+"/Geoquery",s.partUrl+=t.getParameterURL(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.QueryServiceBase),r(e,[{key:"query",value:function(t,e){if(null!==this.queryParam&&this.queryParam instanceof s.MultiGeoQueryParameter){var n=null;"point"===this.queryParam.geometryType?n={pointArr:this.queryParam.geometry}:"line"===this.queryParam.geometryType?n={lineArr:this.queryParam.geometry}:"polygon"===this.queryParam.geometryType&&(n={PolygonObjs:this.queryParam.geometry});var r=this.getFullUrl();new a.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync({method:"POST",data:JSON.stringify(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}}]),e}();e.MultiGeoQuery=u,i.Zondy.Service.MultiGeoQuery=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjClsQuery=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(14),s=n(73),a=n(2),u=function(t){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r||{},o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return o.queryParam=t,o.gdbp=n,o.baseUrl="igs/rest/extend/dxlcz",o.partUrl="objlayer/query?gdbp="+n,o.partUrl+=t.getParameterURL(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.QueryServiceBase),r(e,[{key:"query",value:function(t,e){if(null!==this.queryParam&&this.queryParam instanceof s.ObjClsQueryParameter){var n=this.getFullUrl();new a.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}();e.ObjClsQuery=u,i.Zondy.Service.ObjClsQuery=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryByLayerParameter=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var s=i.get;return void 0!==s?s.call(r):void 0},o=n(0),s=n(28);n(29);var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.gdbp=void 0!==t?encodeURI(t):null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.QueryParameter),r(e,[{key:"getParameterURL",value:function(){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getParameterURL",this).call(this)+"&gdbp="+this.gdbp}},{key:"getParameterObject",value:function(){var t=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getParameterObject",this).call(this,this);return t.gdbp=this.gdbp,t}}]),e}();e.QueryByLayerParameter=a,o.Zondy.Service.QueryByLayerParameter=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryDocFeature=void 0;var r=n(0),i=n(14),o=function(t){function e(t,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i||{},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return s.queryParam=t,s.docName=n,s.layerIndex=r,s.mapIndex=0,s.partUrl="docs/"+s.docName+"/"+s.mapIndex.toString()+"/"+s.layerIndex.toString()+"/query",s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.QueryServiceBase),e}();e.QueryDocFeature=o,r.Zondy.Service.QueryDocFeature=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryLayerFeature=void 0;var r=n(0),i=n(14),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{},i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.queryParam=t,i.partUrl="layer/query",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.QueryServiceBase),e}();e.QueryLayerFeature=o,r.Zondy.Service.QueryLayerFeature=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionWareService=e.ProjectBySRID=e.ProjectByLayer=e.ProjectBase=e.OverlayByPolygon=e.OverlayByLayer=e.OverlayBase=e.NetAnalysis=e.FeatureBuffBySingleRing=e.FeatureBuffByMultiplyRing=e.FeatureBuffBase=e.ContourAnalyse=e.ClipByPolygon=e.ClipByLayer=e.ClipByCircle=e.ClipBase=e.ClassBufferBySingleRing=e.ClassBufferByMultiplyRing=e.ClassBufferBase=e.AnalysisBase=void 0;var r=n(8),i=n(30),o=n(138),s=n(139),a=n(19),u=n(140),l=n(141),c=n(142),p=n(143),h=n(31),f=n(144),d=n(145),y=n(146),g=n(32),m=n(147),v=n(148),_=n(33),b=n(149),w=n(150),x=n(151);e.AnalysisBase=r.AnalysisBase,e.ClassBufferBase=i.ClassBufferBase,e.ClassBufferByMultiplyRing=o.ClassBufferByMultiplyRing,e.ClassBufferBySingleRing=s.ClassBufferBySingleRing,e.ClipBase=a.ClipBase,e.ClipByCircle=u.ClipByCircle,e.ClipByLayer=l.ClipByLayer,e.ClipByPolygon=c.ClipByPolygon,e.ContourAnalyse=p.ContourAnalyse,e.FeatureBuffBase=h.FeatureBuffBase,e.FeatureBuffByMultiplyRing=f.FeatureBuffByMultiplyRing,e.FeatureBuffBySingleRing=d.FeatureBuffBySingleRing,e.NetAnalysis=y.NetAnalysis,e.OverlayBase=g.OverlayBase,e.OverlayByLayer=m.OverlayByLayer,e.OverlayByPolygon=v.OverlayByPolygon,e.ProjectBase=_.ProjectBase,e.ProjectByLayer=b.ProjectByLayer,e.ProjectBySRID=w.ProjectBySRID,e.FunctionWareService=x.FunctionWareService},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferByMultiplyRing=void 0;var r=n(0),i=n(30),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.flowID="600232",r.radiusStr=void 0!==n.radiusStr?n.radiusStr:"2,4,8,10",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClassBufferBase),e}();e.ClassBufferByMultiplyRing=o,r.Zondy.Service.ClassBufferByMultiplyRing=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClassBufferBySingleRing=void 0;var r=n(0),i=n(30),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.leftRad=void 0!==n.leftRad?n.leftRad:.001,r.rightRad=void 0!==n.rightRad?n.rightRad:.001,r.isByAtt=void 0===n.isByAtt||n.isByAtt,r.fldName=void 0!==n.fldName?n.fldName:null,r.dynPrjRad=void 0!==n.dynPrjRad?n.dynPrjRad:0,r.flowID="600231",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClassBufferBase),e}();e.ClassBufferBySingleRing=o,r.Zondy.Service.ClassBufferBySingleRing=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByCircle=void 0;var r=n(0),i=n(19),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.srcInfo=void 0!==n.srcInfo?n.srcInfo:null,r.center=void 0!==n.center?n.center:null,r.radius=void 0!==n.radius?n.radius:null,r.step=void 0!==n.step?n.step:.001,r.flowID="600229",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClipBase),e}();e.ClipByCircle=o,r.Zondy.Service.ClipByCircle=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByLayer=void 0;var r=n(0),i=n(19),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.srcInfo1=void 0!==n.srcInfo1?n.srcInfo1:null,r.srcInfo2=void 0!==n.srcInfo2?n.srcInfo2:null,r.flowID="600230",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClipBase),e}();e.ClipByLayer=o,r.Zondy.Service.ClipByLayer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClipByPolygon=void 0;var r=n(0),i=n(19),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.srcInfo=void 0!==n.srcInfo?n.srcInfo:null,r.strPos=void 0!==n.strPos?n.strPos:null,r.flowID="600228",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ClipBase),e}();e.ClipByPolygon=o,r.Zondy.Service.ClipByPolygon=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContourAnalyse=void 0;var r=n(0),i=(n(1),n(8));n(2),n(61),n(57);var o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.flowID="600320",r.linSfclsURL=void 0!==n.linSfclsURL?n.linSfclsURL:null,r.regSfclsURL=void 0!==n.regSfclsURL?n.regSfclsURL:null,r.annoClsURL=void 0!==n.annoClsURL?n.annoClsURL:null,r.meshingParam=void 0!==n.meshingParam?n.meshingParam:null,r.contourParam=void 0!==n.contourParam?n.contourParam:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.ContourAnalyse=o,r.Zondy.Service.ContourAnalyse=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffByMultiplyRing=void 0;var r=n(0),i=n(31),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.radiusStr=void 0!==n.radiusStr?n.radiusStr:"0.003,0.002,0.001",r.flowID="600239",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.FeatureBuffBase),e}();e.FeatureBuffByMultiplyRing=o,r.Zondy.Service.FeatureBuffByMultiplyRing=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureBuffBySingleRing=void 0;var r=n(0),i=n(31),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.leftRad=void 0!==n.leftRad?n.leftRad:.001,r.rightRad=void 0!==n.rightRad?n.rightRad:.001,r.flowID="600238",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.FeatureBuffBase),e}();e.FeatureBuffBySingleRing=o,r.Zondy.Service.FeatureBuffBySingleRing=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NetAnalysis=void 0;var r=n(0),i=n(8),o=n(3),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.netClsUrl=void 0!==n.netClsUrl?n.netClsUrl:null,r.flagPosStr=void 0!==n.flagPosStr?n.flagPosStr:null,r.barrierPosStr=void 0!==n.barrierPosStr?n.barrierPosStr:null,r.analyType=void 0!==n.analyType?n.analyType:o.NetAnalyType.UserMode,r.weight=void 0!==n.weight?n.weight:",Weight1,Weight1",r.elementType=void 0!==n.elementType?n.elementType:o.NetElemType.Edge,r.nearDis=void 0!==n.nearDis?n.nearDis:.001,r.outFormat=void 0!==n.outFormat?n.outFormat:"json",r.flowID="600233",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.AnalysisBase),e}();e.NetAnalysis=s,r.Zondy.Service.NetAnalysis=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayByLayer=void 0;var r=n(0),i=n(32),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.srcInfo2=void 0!==n.srcInfo2?n.srcInfo2:null,r.flowID="600227",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.OverlayBase),e}();e.OverlayByLayer=o,r.Zondy.Service.OverlayByLayer=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverlayByPolygon=void 0;var r=n(0),i=n(32),o=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.strGRegionXML=void 0!==n.strGRegionXML?n.strGRegionXML:null,r.inFormat=void 0!==n.inFormat?n.inFormat:"json",r.flowID="600237",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.OverlayBase),e}();e.OverlayByPolygon=o,r.Zondy.Service.OverlayByPolygon=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectByLayer=void 0;var r=n(0),i=n(33),o=n(1),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{};(0,o.extend)(r,t);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.flowID="600235",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ProjectBase),e}();e.ProjectByLayer=s,r.Zondy.Service.ProjectByLayer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectBySRID=void 0;var r=n(0),i=n(33),o=n(1),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{};(0,o.extend)(r,t);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.flowID="600234",i.srID=void 0!==r.srID?r.srID:32,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.ProjectBase),e}();e.ProjectBySRID=s,r.Zondy.Service.ProjectBySRID=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FunctionWareService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(8),s=n(2),a=n(1),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.guid=n.guid?n.guid:(0,a.newGuid)(),r.f=void 0!==n.f?n.f:"json",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.AnalysisBase),r(e,[{key:"executeWorkFlow",value:function(t,e,n,r,i,o){n||(n=!1);var a={};null!==o&&"POST"===o.toUpperCase()?(a.paraValues=e,this.partUrl="execute/"+t+"?f="+this.f+"&isAsy="+n+"&guid="+this.guid):this.partUrl="execute/"+t+"?paraValues="+e+"&f="+this.f+"&isAsy="+n+"&guid="+this.guid;var u=this.getFullUrl(),l=new s.IgsServiceBase(u,{eventListeners:{scope:this,processCompleted:r,processFailed:i}});null!==o&&"POST"===o.toUpperCase()?l.processAsync({method:"POST",data:JSON.stringify(a)}):l.processAsync()}},{key:"getInstanceMessage",value:function(t,e,n){this.partUrl="instanceLogs/"+t+"?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getInstanceOutPutValue",value:function(t,e,n,r){this.partUrl="outputvalues/"+t+"?name="+e+"&f="+this.f+"&guid="+this.guid;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:n,processFailed:r}}).processAsync()}},{key:"getInstanceResult",value:function(t,e,n){this.partUrl="results/"+t+"?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getInstanceStatus",value:function(t,e,n){this.partUrl="status/"+t+"?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getWorkFlowGroups",value:function(t,e){this.partUrl="groups/?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getWorkFlowInfoByID",value:function(t,e,n){this.partUrl="workflows/"+t+"?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getWorkFlowInfos",value:function(t,e){this.partUrl="workflows?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getWorkFlowInfosByGroup",value:function(t,e,n){this.partUrl="workflowsbygroup/"+t+"?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}},{key:"getFolder1",value:function(t,e){this.partUrl="folderInfos?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getFolder2",value:function(t,e){this.partUrl="folderInfos/workflow?f="+this.f+"&guid="+this.guid;var n=this.getFullUrl();new s.IgsServiceBase(n,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync()}},{key:"getFolder3",value:function(t,e,n){this.partUrl="folderInfos/workflow/"+t+"?f="+this.f+"&guid="+this.guid;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}}]),e}();e.FunctionWareService=u,i.Zondy.Service.FunctionWareService=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordinateElpTrans=e.TopAnalysis=e.Smooth=e.ProjectRang=e.ProjectDots=e.GeometryAnalysisBase=e.CProjectParam=e.CProjectBySRSID=e.CalServiceBase=e.CalPolyLineLength=e.CalArea=void 0;var r=n(153),i=n(154),o=n(34),s=n(36),a=n(35),u=n(11),l=n(155),c=n(156),p=n(157),h=n(158),f=n(159);e.CalArea=r.CalArea,e.CalPolyLineLength=i.CalPolyLineLength,e.CalServiceBase=o.CalServiceBase,e.CProjectBySRSID=s.CProjectBySRSID,e.CProjectParam=a.CProjectParam,e.GeometryAnalysisBase=u.GeometryAnalysisBase,e.ProjectDots=l.ProjectDots,e.ProjectRang=c.ProjectRang,e.Smooth=p.Smooth,e.TopAnalysis=h.TopAnalysis,e.CoordinateElpTrans=f.CoordinateElpTrans},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalArea=void 0;var r=n(0),i=n(34),o=n(1);n(6);var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{};(0,o.extend)(r,{dots:t});var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.partUrl="geomservice/calArea?f=json",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CalServiceBase),e}();e.CalArea=s,r.Zondy.Service.CalArea=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CalPolyLineLength=void 0;var r=n(0),i=n(34),o=n(1);n(6);var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n||{};(0,o.extend)(r,{dots:t});var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return i.partUrl="geomservice/calLength?f=json",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.CalServiceBase),e}();e.CalPolyLineLength=s,r.Zondy.Service.CalPolyLineLength=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectDots=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(11),s=(n(6),n(35),n(2)),a=function(t){function e(t,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=i||{},s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o));return s.InputDots=t,s.SrcProjParam=n,s.DesProjParm=r,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),r(e,[{key:"execute",value:function(t,e){this.partUrl="geomservice/projectdots?f=json";var n={};n.InputDots=this.InputDots,n.SrcProjParam=this.SrcProjParam,n.DesProjParm=this.DesProjParm;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:t,processFailed:e}}).processAsync({method:"POST",data:JSON.stringify(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.ProjectDots=a,i.Zondy.Service.ProjectDots=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProjectRang=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(11),s=n(2),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.gdbsvrName=void 0!==n.gdbsvrName?n.gdbsvrName:"MapGISLocal",r.gdbName=void 0!==n.gdbName?n.gdbName:null,r.srefID=void 0!==n.srefID?n.srefID:0,r.desfID=void 0!==n.desfID?n.desfID:0,r.userName=void 0!==n.userName?n.userName:null,r.password=void 0!==n.password?n.password:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),r(e,[{key:"execute",value:function(t,e,n){var r="";t&&(r=t.xmin+"$"+t.ymin+"$"+t.xmax+"$"+t.ymax),null===this.userName||null===this.password?this.partUrl="geomservice/"+this.gdbsvrName+"/"+this.gdbName+"/"+this.srefID+"/"+this.desfID+"?f=json&rang="+r:this.partUrl="geomservice/"+this.gdbsvrName+"/"+this.gdbName+"/"+this.srefID+"/"+this.desfID+"?f=json&rang="+r+"&userName="+this.userName+"&password="+this.password;var i=this.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync()}}]),e}();e.ProjectRang=a,i.Zondy.Service.ProjectRang=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Smooth=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(11),s=(n(6),n(2)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.type=void 0!==n.type?n.type:0,r.step=void 0!==n.step?n.step:1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),r(e,[{key:"setType",value:function(t){this.type=t}},{key:"setStep",value:function(t){this.step=t}},{key:"execute",value:function(t,e,n){if(2==this.type){if(t.length<4)return void alert("当前选中的为三次Beizer样条，最少需四个点")}else if(t.length<3)return void alert("当前选中的类型最少需三个点");this.partUrl="geomservice/smooth?f=json&type="+this.type+"&step="+this.step;var r=this.getFullUrl();new s.IgsServiceBase(r,{eventListeners:{scope:this,processCompleted:e,processFailed:n}}).processAsync({method:"POST",data:JSON.stringify(t),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.Smooth=a,i.Zondy.Service.Smooth=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TopAnalysis=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(11),s=n(2),a=(n(24),n(25),n(26),n(1)),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.pnt=void 0!==n.pnt?n.pnt:null,r.line=void 0!==n.line?n.line:null,r.reg=void 0!==n.reg?n.reg:null,r.nearDis=void 0!==n.nearDis?n.nearDis:.01,r.relativeObj=void 0!==n.relativeObj?n.relativeObj:null,r.p_onSuccess=void 0!==n.p_onSuccess?n.p_onSuccess:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),r(e,[{key:"setPnt",value:function(t){this.pnt=t}},{key:"setLine",value:function(t){this.line=t}},{key:"setReg",value:function(t){this.reg=t}},{key:"setRelativeObj",value:function(t){this.relativeObj=t}},{key:"onGetRltSuccess",value:function(t){var e=(0,a.getTopAnalysisResult)(t);this.p_onSuccess(e)}},{key:"execute",value:function(t,e){(i=this).p_onSuccess=t;var n={};n.NearDis=this.nearDis,n.Pnt=this.pnt,n.Line=this.line,n.Reg=this.reg,n.RelativeObj=this.relativeObj,i.partUrl="geomservice/topanalysis?f=json";var r=i.getFullUrl(),i=this;new s.IgsServiceBase(r,{eventListeners:{scope:i,processCompleted:i.onGetRltSuccess,processFailed:e}}).processAsync({method:"POST",data:JSON.stringify(n),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.TopAnalysis=u,i.Zondy.Service.TopAnalysis=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoordinateElpTrans=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(11),s=n(2),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.points=void 0!==n.points?n.points:"",r.dx=void 0!==n.dx?n.dx:"",r.dy=void 0!==n.dy?n.dy:"",r.dz=void 0!==n.dz?n.dz:"",r.m=void 0!==n.m?n.m:"",r.wx=void 0!==n.wx?n.wx:"",r.wy=void 0!==n.wy?n.wy:"",r.wz=void 0!==n.wz?n.wz:"",r.srcsrsname=void 0!==n.srcsrsname?n.srcsrsname:"",r.dessrsname=void 0!==n.dessrsname?n.dessrsname:"",r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.GeometryAnalysisBase),r(e,[{key:"coordinateTrans",value:function(t,e,n){var r={};null!==n&&"POST"===n.toUpperCase()?(r.paraValues="",this.partUrl="geomservice/transcoordinate?points="+this.points+"&dx="+this.dx+"&dy="+this.dy+"&dz="+this.dz+"&m="+this.m+"&wx="+this.wx+"&wy="+this.wy+"&wz="+this.wz+"&srcsrsname="+this.srcsrsname+"&dessrsname="+this.dessrsname):(r=this,this.partUrl="geomservice/transcoordinate");var i=this.getFullUrl(),o=new s.IgsServiceBase(i,{eventListeners:{scope:this,processCompleted:t,processFailed:e}});null!==n&&"POST"===n.toUpperCase()?o.processAsync({method:"POST",data:JSON.stringify(r)}):o.processAsync()}}]),e}();e.CoordinateElpTrans=a,i.Zondy.Service.CoordinateTransform=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapServiceBase=e.GetTileImageService=e.GetMapInfoService=e.GetMapImageService=e.GetLayerImageService=e.GetDocImageService=void 0;var r=n(161),i=n(162),o=n(163),s=n(164),a=n(165),u=n(13);e.GetDocImageService=r.GetDocImageService,e.GetLayerImageService=i.GetLayerImageService,e.GetMapImageService=o.GetMapImageService,e.GetMapInfoService=s.GetMapInfoService,e.GetTileImageService=a.GetTileImageService,e.MapServiceBase=u.MapServiceBase},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetDocImageService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(13),s=(n(36),n(1)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.docName=void 0!==n.docName?n.docName:null,r.cache=void 0!==n.cache&&n.cache,r.cache?(r.level=void 0!==n.level?n.level:0,r.row=void 0!==n.row?n.row:0,r.col=void 0!==n.col?n.col:0,r.update=void 0!==n.update&&n.update):(r.layers=void 0!==n.layers?n.layers:null,r.style=void 0!==n.style?n.style:null,r.picType=void 0!==n.picType?n.picType:"gif",r.bbox=void 0!==n.bbox?n.bbox:null,r.filters=void 0!==n.filters?n.filters:null,r.picWidth=void 0!==n.picWidth?n.picWidth:512,r.picHeight=void 0!==n.picHeight?n.picHeight:512,r.proj=void 0!==n.proj?n.proj:null,r.guid=void 0!==n.guid?n.guid:(0,s.newGuid)()),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),r(e,[{key:"GetMapImage",value:function(){return this.docName?(!0===this.cache?this.partUrl="docs/"+this.docName+"?cache="+this.cache.toString()+"&level="+this.level+"&row="+this.row+"&col="+this.col+"&update="+this.update.toString():(this.partUrl="docs/"+this.docName+"?",null!==this.bbox&&(this.partUrl+="bbox="+this.bbox),null!==this.picWidth&&(this.partUrl+="&w="+this.picWidth),null!==this.picHeight&&(this.partUrl+="&h="+this.picHeight),null!==this.layers&&(this.partUrl+="&layers="+this.layers),null!==this.filters&&(this.partUrl+="&filters="+encodeURI(this.filters)),null!==this.style&&(this.partUrl+="&style="+JSON.stringify(this.style)),null!==this.proj&&(this.partUrl+="&proj="+JSON.stringify(this.proj)),null!==this.picType&&(this.partUrl+="&f="+this.picType),null!==this.guid&&(this.partUrl+="&guid="+this.guid)),this.getFullUrl()):null}}]),e}();e.GetDocImageService=a,i.Zondy.Service.GetDocImageService=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetLayerImageService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(13);n(48);var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.gdbps=void 0!==n.gdbps?n.gdbps:null,r.picType=void 0!==n.picType?n.picType:"gif",r.style=void 0!==n.style?n.style:null,r.bbox=void 0!==n.bbox?n.bbox:null,r.filters=void 0!==n.filters?n.filters:null,r.picWidth=void 0!==n.picWidth?n.picWidth:512,r.picHeight=void 0!==n.picHeight?n.picHeight:512,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),r(e,[{key:"GetLayerImage",value:function(){if(null!==this.gdbps&&null!==this.picWidth&&null!==this.picHeight){this.partUrl="layers?f="+this.picType,this.partUrl+="&gdbps=",this.gdbps.split(",");for(var t=this.gdbps.split(","),e=0;e<t.length;e++)this.partUrl+=t[e],e<t.length-1&&(this.partUrl+=",");return null!==this.style&&(this.partUrl+="&style="+JSON.stringify(this.style)),null!==this.filters&&(this.partUrl+="&filters="+this.filters),null!==this.bbox&&(this.partUrl+="&bbox="+this.bbox),this.partUrl+="&w="+this.picWidth,this.partUrl+="&h="+this.picHeight,this.getFullUrl()}return null}}]),e}();e.GetLayerImageService=s,i.Zondy.Service.GetLayerImageService=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetMapImageService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(13),s=n(3),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.mapName=void 0!==n.mapName?n.mapName:null,r.mapType=void 0!==n.mapType?n.mapType:s.MapType.Doc,r.mapType===s.MapType.Tile?(r.level=void 0!==n.level?n.level:0,r.row=void 0!==n.row?n.row:0,r.col=void 0!==n.col?n.col:0):(r.picType=void 0!==n.picType?n.picType:"gif",r.picWidth=void 0!==n.picWidth?n.picWidth:512,r.picHeight=void 0!==n.picHeight?n.picHeight:512,r.xmin=void 0!==n.xmin?n.xmin:null,r.xmax=void 0!==n.xmax?n.xmax:null,r.ymin=void 0!==n.ymin?n.ymin:null,r.ymax=void 0!==n.ymax?n.ymax:null),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),r(e,[{key:"GetImage",value:function(){return this.mapName?(this.mapType===s.MapType.Tile?this.partUrl="tile/"+this.mapName+"?lvl="+this.level+"&row="+this.row+"&col="+this.col:(this.partUrl="map/"+this.mapName+"?width="+this.picWidth+"&height="+this.picHeight+"&f="+this.picType,null!==this.xmin&&null!==this.xmax&&null!==this.ymin&&null!==this.ymax&&(this.partUrl+="&xmin="+this.xmin+"&ymin="+this.ymin+"&xmax="+this.xmax+"&ymax="+this.ymax)),this.getFullUrl()):null}}]),e}();e.GetMapImageService=a,i.Zondy.Service.GetMapImageService=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetMapInfoService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(13),s=n(2),a=n(1),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.mapName=void 0!==n.mapName?n.mapName:null,r.guid=void 0!==n.guid?n.guid:(0,a.newGuid)(),r.token=n.token,r.type=n.type,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),r(e,[{key:"GetMapInfo",value:function(t,e){var n=this;if(n.mapName){n.partUrl="info/"+this.mapName;var r=[];n.guid&&r.push("guid="+n.guid),this.token&&r.push("token="+n.token),this.type&&r.push("type="+n.type),r.length>0&&(n.partUrl+="?"+r.join("&"));var i=n.getFullUrl();new s.IgsServiceBase(i,{eventListeners:{scope:n,processCompleted:t,processFailed:e}}).processAsync()}}}]),e}();e.GetMapInfoService=u,i.Zondy.Service.GetMapInfoService=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GetTileImageService=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(13),s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.hdfName=void 0!==n.hdfName?n.hdfName:null,r.level=void 0!==n.level?n.level:0,r.row=void 0!==n.row?n.row:0,r.col=void 0!==n.col?n.col:0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.MapServiceBase),r(e,[{key:"GetTileImage",value:function(){return void 0!==this.hdfName?(this.partUrl="tile/"+this.hdfName+"/"+this.level+"/"+this.row+"/"+this.col,this.getFullUrl()):null}}]),e}();e.GetTileImageService=s,i.Zondy.Service.GetTileImageService=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemesInfo=e.ThemeOper=e.ItemValue=e.FolderInfoAttribute=e.FolderInfo=e.ExpInfo=e.CUniqueThemeInfo=e.CUniqueTheme=e.CThemeInfo=e.CTheme=e.CSimpleTheme=e.CRegInfo=e.CRangeThemeInfo=e.CRangeTheme=e.CRandomTheme=e.CPntInfo=e.CMultiClassTheme=e.CLinInfo=e.CGraduatedSymbolTheme=e.CFourColorTheme=e.CDotDensityTheme=e.CChartType=e.CChartThemeRepresentInfo=e.CChartThemeInfo=e.CChartTheme=e.CChartLabelFormat=e.CAnnInfo=e.CAllOtherDataItemInfoSource=void 0;var r=n(74),i=n(75),o=n(76),s=n(77),a=n(79),u=n(82),l=n(78),c=n(83),p=n(84),h=n(85),f=n(80),d=n(86),y=n(20),g=n(88),m=n(89),v=n(90),_=n(81),b=n(91),w=n(7),x=n(9),S=n(92),E=n(93),C=n(87),P=n(94),I=n(37),O=n(167),M=n(168),T=n(95);e.CAllOtherDataItemInfoSource=r.CAllOtherDataItemInfoSource,e.CAnnInfo=i.CAnnInfo,e.CChartLabelFormat=o.CChartLabelFormat,e.CChartTheme=s.CChartTheme,e.CChartThemeInfo=a.CChartThemeInfo,e.CChartThemeRepresentInfo=u.CChartThemeRepresentInfo,e.CChartType=l.CChartType,e.CDotDensityTheme=c.CDotDensityTheme,e.CFourColorTheme=p.CFourColorTheme,e.CGraduatedSymbolTheme=h.CGraduatedSymbolTheme,e.CLinInfo=f.CLinInfo,e.CMultiClassTheme=d.CMultiClassTheme,e.CPntInfo=y.CPntInfo,e.CRandomTheme=g.CRandomTheme,e.CRangeTheme=m.CRangeTheme,e.CRangeThemeInfo=v.CRangeThemeInfo,e.CRegInfo=_.CRegInfo,e.CSimpleTheme=b.CSimpleTheme,e.CTheme=w.CTheme,e.CThemeInfo=x.CThemeInfo,e.CUniqueTheme=S.CUniqueTheme,e.CUniqueThemeInfo=E.CUniqueThemeInfo,e.ExpInfo=C.ExpInfo,e.FolderInfo=P.FolderInfo,e.FolderInfoAttribute=I.FolderInfoAttribute,e.ItemValue=O.ItemValue,e.ThemeOper=M.ThemeOper,e.ThemesInfo=T.ThemesInfo},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ItemValue=void 0;var r=n(0),i=n(1),o=n(3),s=function(t,e,n,r){var s=void 0!==r?r:{};(0,i.extend)(this,s),this.StartValue=void 0!==t?t:"",this.EndValue=void 0!==e?e:"",this.ClassItemType=void 0!==n?n:o.CItemType.RangeTheme};e.ItemValue=s,r.Zondy.Object.Theme.ItemValue=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeOper=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(4),s=n(1),a=n(2),u=n(86),l=n(91),c=n(77),p=n(85),h=n(83),f=n(88),d=n(84),y=n(92),g=n(89),m=n(37),v=n(94),_=n(95),b=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=n||{}).baseUrl="igs/rest/theme";var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.guid=null!==t?t:(0,s.newGuid)(),r.p_onSuccess=void 0!==n.p_onSuccess?n.p_onSuccess:null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),r(e,[{key:"onGetThemesInfoSuccess",value:function(t){var e=new v.FolderInfo;if((0,s.extendDeep)(e,t.result||t),null!==e&&null!==e.attribute&&e.attribute.length>0){for(var n=[],r=null,i=0;i<e.attribute.length;i++)if(n[i]=new _.ThemesInfo,null!==e.attribute[i]&&(n[i].LayerName=e.attribute[i].name,null!==(r=JSON.parse(e.attribute[i].value))&&r.length>0)){n[i].ThemeArr=[];for(var o=0;o<r.length;o++){switch(r[o].name){case"CMultiClassTheme":n[i].ThemeArr[o]=new u.CMultiClassTheme;break;case"CSimpleTheme":n[i].ThemeArr[o]=new l.CSimpleTheme;break;case"CChartTheme":n[i].ThemeArr[o]=new c.CChartTheme;break;case"CGraduatedSymbolTheme":n[i].ThemeArr[o]=new p.CGraduatedSymbolTheme;break;case"CDotDensityTheme":n[i].ThemeArr[o]=new h.CDotDensityTheme;break;case"CRandomTheme":n[i].ThemeArr[o]=new f.CRandomTheme;break;case"CFourColorTheme":n[i].ThemeArr[o]=new d.CFourColorTheme;break;case"CUniqueTheme":n[i].ThemeArr[o]=new y.CUniqueTheme;break;case"CRangeTheme":n[i].ThemeArr[o]=new g.CRangeTheme}(0,s.extendDeep)(n[i].ThemeArr[o],JSON.parse(r[o].value))}}null!==this.p_onSuccess&&"function"==typeof this.p_onSuccess&&this.p_onSuccess(n)}}},{key:"getThemesInfo",value:function(t,e,n,r){var i=this;i.p_onSuccess=n;var o=Math.random();i.partUrl=t+"/get?idxArr="+e+"&r="+o+"&guid="+i.guid;var s=i.getFullUrl();new a.IgsServiceBase(s,{eventListeners:{scope:i,processCompleted:i.onGetThemesInfoSuccess,processFailed:r}}).processAsync()}},{key:"removeThemesInfo",value:function(t,e,n,r){var i=Math.random();this.partUrl=t+"/remove?idxArr="+e+"&r="+i+"&guid="+this.guid;var o=this.getFullUrl();new a.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:n,processFailed:r}}).processAsync()}},{key:"updateThemesInfo",value:function(t,e,n,r,i){Math.random(),this.partUrl=t+"/update?idxArr="+e+"&guid="+this.guid;var o=this.getFullUrl(),s=new v.FolderInfo;if(null!==n&&n.length>0){s.name="ThemeInfo",s.attribute=[];for(var u=0;u<n.length;u++)if(s.attribute[u]=new m.FolderInfoAttribute,s.attribute[u].name=n[u].LayerName,null!==n[u].ThemeArr&&n[u].ThemeArr.length>0){for(var l=[],c=0;c<n[u].ThemeArr.length;c++)null!==n[u].ThemeArr[c]&&(l[c]=new m.FolderInfoAttribute(n[u].ThemeArr[c].Type,JSON.stringify(n[u].ThemeArr[c])));s.attribute[u].value=JSON.stringify(l)}}new a.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:r,processFailed:i}}).processAsync({method:"POST",data:JSON.stringify(s),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}},{key:"addThemesInfo",value:function(t,e,n,r,i){Math.random(),this.partUrl=t+"/add?idxArr="+e+"&guid="+this.guid;var o=this.getFullUrl(),s=new v.FolderInfo;if(null!==n&&n.length>0){s.name="ThemeInfo",s.attribute=[];for(var u=0;u<n.length;u++)if(s.attribute[u]=new m.FolderInfoAttribute,s.attribute[u].name=n[u].LayerName,null!==n[u].ThemeArr&&n[u].ThemeArr.length>0){for(var l=[],c=0;c<n[u].ThemeArr.length;c++)null!==n[u].ThemeArr[c]&&(l[c]=new m.FolderInfoAttribute(n[u].ThemeArr[c].Type,JSON.stringify(n[u].ThemeArr[c])));s.attribute[u].value=JSON.stringify(l)}}new a.IgsServiceBase(o,{eventListeners:{scope:this,processCompleted:r,processFailed:i}}).processAsync({method:"POST",data:JSON.stringify(s),headers:{"Content-Type":"text/plain;charset=UTF-8"}})}}]),e}();e.ThemeOper=b,i.Zondy.Service.ThemeOper=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMSInfo=e.OGCWMTSInfo=e.WMTSCapabilities=e.WMSCapabilities=void 0;var r=n(170),i=n(173),o=n(178),s=n(196);e.WMSCapabilities=r.WMSCapabilities,e.WMTSCapabilities=i.WMTSCapabilities,e.OGCWMTSInfo=o.OGCWMTSInfo,e.OGCWMSInfo=s.OGCWMSInfo},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMSCapabilities=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(38),s=function(t){return t&&t.__esModule?t:{default:t}}(n(39)),a=n(40),u=n(15),l=[null,"http://www.opengis.net/wms"],c=(0,u.makeStructureNS)(l,{Service:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},f,t,e)})),Capability:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},p,t,e)}))}),p=(0,u.makeStructureNS)(l,{Request:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},w,t,e)})),Exception:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)([],m,t,e)})),Layer:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},v,t,e)}))}),h=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.version=void 0,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"readFromDocument",value:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}},{key:"readFromNode",value:function(t){this.version=t.getAttribute("version").trim();var e=(0,u.pushParseAndPop)({version:this.version},c,t,[]);return e||null}}]),e}(),f=(0,u.makeStructureNS)(l,{Name:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),Abstract:(0,u.makeObjectPropertySetter)(a.readString),KeywordList:(0,u.makeObjectPropertySetter)(N),OnlineResource:(0,u.makeObjectPropertySetter)(o.readHref),ContactInformation:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},d,t,e)})),Fees:(0,u.makeObjectPropertySetter)(a.readString),AccessConstraints:(0,u.makeObjectPropertySetter)(a.readString),LayerLimit:(0,u.makeObjectPropertySetter)(a.readNonNegativeInteger),MaxWidth:(0,u.makeObjectPropertySetter)(a.readNonNegativeInteger),MaxHeight:(0,u.makeObjectPropertySetter)(a.readNonNegativeInteger)}),d=(0,u.makeStructureNS)(l,{ContactPersonPrimary:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},y,t,e)})),ContactPosition:(0,u.makeObjectPropertySetter)(a.readString),ContactAddress:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},g,t,e)})),ContactVoiceTelephone:(0,u.makeObjectPropertySetter)(a.readString),ContactFacsimileTelephone:(0,u.makeObjectPropertySetter)(a.readString),ContactElectronicMailAddress:(0,u.makeObjectPropertySetter)(a.readString)}),y=(0,u.makeStructureNS)(l,{ContactPerson:(0,u.makeObjectPropertySetter)(a.readString),ContactOrganization:(0,u.makeObjectPropertySetter)(a.readString)}),g=(0,u.makeStructureNS)(l,{AddressType:(0,u.makeObjectPropertySetter)(a.readString),Address:(0,u.makeObjectPropertySetter)(a.readString),City:(0,u.makeObjectPropertySetter)(a.readString),StateOrProvince:(0,u.makeObjectPropertySetter)(a.readString),PostCode:(0,u.makeObjectPropertySetter)(a.readString),Country:(0,u.makeObjectPropertySetter)(a.readString)}),m=(0,u.makeStructureNS)(l,{Format:(0,u.makeArrayPusher)(a.readString)}),v=(0,u.makeStructureNS)(l,{Name:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),Abstract:(0,u.makeObjectPropertySetter)(a.readString),KeywordList:(0,u.makeObjectPropertySetter)(N),SRS:(0,u.makeObjectPropertyPusher)(a.readString),EX_GeographicBoundingBox:(0,u.makeObjectPropertySetter)((function(t,e){var n=(0,u.pushParseAndPop)({},b,t,e);if(n){var r=n.westBoundLongitude,i=n.southBoundLatitude,o=n.eastBoundLongitude,s=n.northBoundLatitude;if(void 0!==r&&void 0!==i&&void 0!==o&&void 0!==s)return[r,i,o,s]}})),BoundingBox:(0,u.makeObjectPropertyPusher)((function(t,e){var n=[(0,a.readDecimalString)(t.getAttribute("minx")),(0,a.readDecimalString)(t.getAttribute("miny")),(0,a.readDecimalString)(t.getAttribute("maxx")),(0,a.readDecimalString)(t.getAttribute("maxy"))],r=[(0,a.readDecimalString)(t.getAttribute("resx")),(0,a.readDecimalString)(t.getAttribute("resy"))];return{srs:t.getAttribute("SRS"),extent:n,res:r}})),Dimension:(0,u.makeObjectPropertyPusher)((function(t,e){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:(0,a.readBooleanString)(t.getAttribute("multipleValues")),nearestValue:(0,a.readBooleanString)(t.getAttribute("nearestValue")),current:(0,a.readBooleanString)(t.getAttribute("current")),values:(0,a.readString)(t)}})),Attribution:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},_,t,e)})),AuthorityURL:(0,u.makeObjectPropertyPusher)((function(t,e){var n=O(t,e);if(n)return n.name=t.getAttribute("name"),n})),Identifier:(0,u.makeObjectPropertyPusher)(a.readString),MetadataURL:(0,u.makeObjectPropertyPusher)((function(t,e){var n=O(t,e);if(n)return n.type=t.getAttribute("type"),n})),DataURL:(0,u.makeObjectPropertyPusher)(O),FeatureListURL:(0,u.makeObjectPropertyPusher)(O),Style:(0,u.makeObjectPropertyPusher)((function(t,e){return(0,u.pushParseAndPop)({},C,t,e)})),MinScaleDenominator:(0,u.makeObjectPropertySetter)(a.readDecimal),MaxScaleDenominator:(0,u.makeObjectPropertySetter)(a.readDecimal),Layer:(0,u.makeObjectPropertyPusher)((function(t,e){var n=e[e.length-1],r=(0,u.pushParseAndPop)({},v,t,e);if(r){var i=(0,a.readBooleanString)(t.getAttribute("queryable"));void 0===i&&(i=n.queryable),r.queryable=void 0!==i&&i;var o=(0,a.readNonNegativeIntegerString)(t.getAttribute("cascaded"));void 0===o&&(o=n.cascaded),r.cascaded=o;var s=(0,a.readBooleanString)(t.getAttribute("opaque"));void 0===s&&(s=n.opaque),r.opaque=void 0!==s&&s;var l=(0,a.readBooleanString)(t.getAttribute("noSubsets"));void 0===l&&(l=n.noSubsets),r.noSubsets=void 0!==l&&l;var c=(0,a.readDecimalString)(t.getAttribute("fixedWidth"));c||(c=n.fixedWidth),r.fixedWidth=c;var p=(0,a.readDecimalString)(t.getAttribute("fixedHeight"));return p||(p=n.fixedHeight),r.fixedHeight=p,["Style","SRS","AuthorityURL"].forEach((function(t){if(t in n){var e=r[t]||[];r[t]=e.concat(n[t])}})),["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"].forEach((function(t){if(!(t in r)){var e=n[t];r[t]=e}})),r}}))}),_=(0,u.makeStructureNS)(l,{Title:(0,u.makeObjectPropertySetter)(a.readString),OnlineResource:(0,u.makeObjectPropertySetter)(o.readHref),LogoURL:(0,u.makeObjectPropertySetter)(T)}),b=(0,u.makeStructureNS)(l,{westBoundLongitude:(0,u.makeObjectPropertySetter)(a.readDecimal),eastBoundLongitude:(0,u.makeObjectPropertySetter)(a.readDecimal),southBoundLatitude:(0,u.makeObjectPropertySetter)(a.readDecimal),northBoundLatitude:(0,u.makeObjectPropertySetter)(a.readDecimal)}),w=(0,u.makeStructureNS)(l,{GetCapabilities:(0,u.makeObjectPropertySetter)(M),GetMap:(0,u.makeObjectPropertySetter)(M),GetFeatureInfo:(0,u.makeObjectPropertySetter)(M)}),x=(0,u.makeStructureNS)(l,{Format:(0,u.makeObjectPropertyPusher)(a.readString),DCPType:(0,u.makeObjectPropertyPusher)((function(t,e){return(0,u.pushParseAndPop)({},S,t,e)}))}),S=(0,u.makeStructureNS)(l,{HTTP:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},E,t,e)}))}),E=(0,u.makeStructureNS)(l,{Get:(0,u.makeObjectPropertySetter)(O),Post:(0,u.makeObjectPropertySetter)(O)}),C=(0,u.makeStructureNS)(l,{Name:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),Abstract:(0,u.makeObjectPropertySetter)(a.readString),LegendURL:(0,u.makeObjectPropertyPusher)(T),StyleSheetURL:(0,u.makeObjectPropertySetter)(O),StyleURL:(0,u.makeObjectPropertySetter)(O)}),P=(0,u.makeStructureNS)(l,{Format:(0,u.makeObjectPropertySetter)(a.readString),OnlineResource:(0,u.makeObjectPropertySetter)(o.readHref)}),I=(0,u.makeStructureNS)(l,{Keyword:(0,u.makeArrayPusher)(a.readString)});function O(t,e){return(0,u.pushParseAndPop)({},P,t,e)}function M(t,e){return(0,u.pushParseAndPop)({},x,t,e)}function T(t,e){var n=O(t,e);if(n){var r=[(0,a.readNonNegativeIntegerString)(t.getAttribute("width")),(0,a.readNonNegativeIntegerString)(t.getAttribute("height"))];return n.size=r,n}}function N(t,e){return(0,u.pushParseAndPop)([],I,t,e)}e.WMSCapabilities=h,i.Zondy.Format.WMSCapabilities=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSorted=e.findIndex=e.stableSort=e.equals=e.find=e.remove=e.extend=e.reverseSubArray=e.linearFindNearest=e.includes=e.numberSafeCompareFunction=e.binarySearch=void 0;var r=n(0),i=function(t,e,n){for(var r=void 0,i=void 0,s=n||o,a=0,u=t.length,l=!1;a<u;)(i=+s(t[r=a+(u-a>>1)],e))<0?a=r+1:(u=r,l=!i);return l?a:~a},o=function(t,e){return t>e?1:t<e?-1:0},s=function(t,e){return t.indexOf(e)>=0},a=function(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var i=void 0;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1},u=function(t,e,n){for(;e<n;){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}},l=function(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,i=0;i<r;i++)t[t.length]=n[i]},c=function(t,e){var n=t.indexOf(e),r=n>-1;return r&&t.splice(n,1),r},p=function(t,e){for(var n=t.length>>>0,r=void 0,i=0;i<n;i++)if(e(r=t[i],i,t))return r;return null},h=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0},f=function(t,e){var n=t.length,r=Array(t.length),i=void 0;for(i=0;i<n;i++)r[i]={index:i,value:t[i]};for(r.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),i=0;i<t.length;i++)t[i]=r[i].value},d=function(t,e){var n=void 0;return t.every((function(r,i){return n=i,!e(r,i,t)}))?-1:n},y=function(t,e,n){var r=e||o;return t.every((function(e,i){if(0===i)return!0;var o=r(t[i-1],e);return!(o>0||n&&0===o)}))};e.binarySearch=i,e.numberSafeCompareFunction=o,e.includes=s,e.linearFindNearest=a,e.reverseSubArray=u,e.extend=l,e.remove=c,e.find=p,e.equals=h,e.stableSort=f,e.findIndex=d,e.isSorted=y,r.Zondy.array.binarySearch=i,r.Zondy.array.numberSafeCompareFunction=o,r.Zondy.array.includes=s,r.Zondy.array.linearFindNearest=a,r.Zondy.array.reverseSubArray=u,r.Zondy.array.extend=l,r.Zondy.array.remove=c,r.Zondy.array.find=p,r.Zondy.array.equals=h,r.Zondy.array.stableSort=f,r.Zondy.array.findIndex=d,r.Zondy.array.isSorted=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareVersions=e.padNumber=void 0;var r=n(0),i=function(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,i=r.indexOf(".");return(i=-1===i?r.length:i)>e?r:new Array(1+e-i).join("0")+r},o=function(t,e){for(var n=(""+t).split("."),r=(""+e).split("."),i=0;i<Math.max(n.length,r.length);i++){var o=parseInt(n[i]||"0",10),s=parseInt(r[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0};e.padNumber=i,e.compareVersions=o,r.Zondy.string.padNumber=i,r.Zondy.string.compareVersions=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WMTSCapabilities=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(174),s=p(n(177)),a=n(38),u=p(n(39)),l=n(40),c=n(15);function p(t){return t&&t.__esModule?t:{default:t}}var h=[null,"http://www.opengis.net/wmts/1.0"],f=[null,"http://www.opengis.net/ows/1.1"],d=(0,c.makeStructureNS)(h,{Contents:(0,c.makeObjectPropertySetter)((function(t,e){return(0,c.pushParseAndPop)({},g,t,e)}))}),y=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.owsParser_=new s.default,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),r(e,[{key:"readFromDocument",value:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}},{key:"readFromNode",value:function(t){var e=t.getAttribute("version").trim(),n=this.owsParser_.readFromNode(t);return n?(n.version=e,(n=(0,c.pushParseAndPop)(n,d,t,[]))||null):null}}]),e}(),g=(0,c.makeStructureNS)(h,{Layer:(0,c.makeObjectPropertyPusher)((function(t,e){return(0,c.pushParseAndPop)({},m,t,e)})),TileMatrixSet:(0,c.makeObjectPropertyPusher)((function(t,e){return(0,c.pushParseAndPop)({},E,t,e)}))}),m=(0,c.makeStructureNS)(h,{Style:(0,c.makeObjectPropertyPusher)((function(t,e){var n=(0,c.pushParseAndPop)({},v,t,e);if(n){var r="true"===t.getAttribute("isDefault");return n.isDefault=r,n}})),Format:(0,c.makeObjectPropertyPusher)(l.readString),TileMatrixSetLink:(0,c.makeObjectPropertyPusher)((function(t,e){return(0,c.pushParseAndPop)({},_,t,e)})),Dimension:(0,c.makeObjectPropertyPusher)((function(t,e){return(0,c.pushParseAndPop)({},x,t,e)})),ResourceURL:(0,c.makeObjectPropertyPusher)((function(t,e){var n=t.getAttribute("format"),r=t.getAttribute("template"),i=t.getAttribute("resourceType"),o={};return n&&(o.format=n),r&&(o.template=r),i&&(o.resourceType=i),o}))},(0,c.makeStructureNS)(f,{Title:(0,c.makeObjectPropertySetter)(l.readString),Abstract:(0,c.makeObjectPropertySetter)(l.readString),WGS84BoundingBox:(0,c.makeObjectPropertySetter)((function(t,e){var n=(0,c.pushParseAndPop)([],S,t,e);if(2==n.length)return(0,o.boundingExtent)(n)})),Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),v=(0,c.makeStructureNS)(h,{LegendURL:(0,c.makeObjectPropertyPusher)((function(t,e){var n={};return n.format=t.getAttribute("format"),n.href=(0,a.readHref)(t),n}))},(0,c.makeStructureNS)(f,{Title:(0,c.makeObjectPropertySetter)(l.readString),Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),_=(0,c.makeStructureNS)(h,{TileMatrixSet:(0,c.makeObjectPropertySetter)(l.readString),TileMatrixSetLimits:(0,c.makeObjectPropertySetter)((function(t,e){return(0,c.pushParseAndPop)([],b,t,e)}))}),b=(0,c.makeStructureNS)(h,{TileMatrixLimits:(0,c.makeArrayPusher)((function(t,e){return(0,c.pushParseAndPop)({},w,t,e)}))}),w=(0,c.makeStructureNS)(h,{TileMatrix:(0,c.makeObjectPropertySetter)(l.readString),MinTileRow:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MaxTileRow:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MinTileCol:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MaxTileCol:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger)}),x=(0,c.makeStructureNS)(h,{Default:(0,c.makeObjectPropertySetter)(l.readString),Value:(0,c.makeObjectPropertyPusher)(l.readString)},(0,c.makeStructureNS)(f,{Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),S=(0,c.makeStructureNS)(f,{LowerCorner:(0,c.makeArrayPusher)(P),UpperCorner:(0,c.makeArrayPusher)(P)}),E=(0,c.makeStructureNS)(h,{WellKnownScaleSet:(0,c.makeObjectPropertySetter)(l.readString),TileMatrix:(0,c.makeObjectPropertyPusher)((function(t,e){return(0,c.pushParseAndPop)({},C,t,e)}))},(0,c.makeStructureNS)(f,{SupportedCRS:(0,c.makeObjectPropertySetter)(l.readString),Identifier:(0,c.makeObjectPropertySetter)(l.readString)})),C=(0,c.makeStructureNS)(h,{TopLeftCorner:(0,c.makeObjectPropertySetter)(P),ScaleDenominator:(0,c.makeObjectPropertySetter)(l.readDecimal),TileWidth:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),TileHeight:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MatrixWidth:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger),MatrixHeight:(0,c.makeObjectPropertySetter)(l.readNonNegativeInteger)},(0,c.makeStructureNS)(f,{Identifier:(0,c.makeObjectPropertySetter)(l.readString)}));function P(t,e){var n=(0,l.readString)(t).split(/\s+/);if(n&&2==n.length){var r=+n[0],i=+n[1];if(!isNaN(r)&&!isNaN(i))return[r,i]}}e.WMTSCapabilities=y,i.Zondy.Format.WMTSCapabilities=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyTransform=e.intersectsSegment=e.scaleFromCenter=e.returnOrUpdate=e.isEmpty=e.intersects=e.getWidth=e.getTopRight=e.getTopLeft=e.getSize=e.getMargin=e.getIntersection=e.getIntersectionArea=e.getHeight=e.getForViewAndSize=e.getEnlargedArea=e.getCorner=e.getCenter=e.getBottomRight=e.getBottomLeft=e.getArea=e.forEachCorner=e.extendXY=e.extendRings=e.extendFlatCoordinates=e.extendCoordinates=e.extendCoordinate=e.extend=e.equals=e.createOrUpdateFromRings=e.createOrUpdateFromFlatCoordinates=e.createOrUpdateFromCoordinates=e.createOrUpdateFromCoordinate=e.createOrUpdateEmpty=e.createOrUpdate=e.createEmpty=e.coordinateRelationship=e.containsXY=e.containsExtent=e.containsCoordinate=e.closestSquaredDistanceXY=e.clone=e.buffer=e.boundingExtent=void 0;var r=n(0),i=n(175),o=n(176),s=function(t){for(var e=d(),n=0,r=t.length;n<r;++n)S(e,t[n]);return e},a=function(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]},u=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()},l=function(t,e,n){var r=void 0,i=void 0;return(r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*r+(i=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*i},c=function(t,e){return h(t,e[0],e[1])},p=function(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]},h=function(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]},f=function(t,e){var n=t[0],r=t[1],i=t[2],s=t[3],a=e[0],u=e[1],l=o.Relationship.UNKNOWN;return a<n?l|=o.Relationship.LEFT:a>i&&(l|=o.Relationship.RIGHT),u<r?l|=o.Relationship.BELOW:u>s&&(l|=o.Relationship.ABOVE),l===o.Relationship.UNKNOWN&&(l=o.Relationship.INTERSECTING),l},d=function(){return[1/0,1/0,-1/0,-1/0]},y=function(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]},g=function(t){return y(1/0,1/0,-1/0,-1/0,t)},m=function(t,e){var n=t[0],r=t[1];return y(n,r,n,r,e)},v=function(t,e){var n=g(e);return E(n,t)},_=function(t,e,n,r,i){var o=g(i);return C(o,t,e,n,r)},b=function(t,e){var n=g(e);return P(n,t)},w=function(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]},x=function(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t},S=function(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])},E=function(t,e){for(var n=0,r=e.length;n<r;++n)S(t,e[n]);return t},C=function(t,e,n,r,i){for(;n<r;n+=i)I(t,e[n],e[n+1]);return t},P=function(t,e){for(var n=0,r=e.length;n<r;++n)E(t,e[n]);return t},I=function(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)},O=function(t,e,n){var r=void 0;return(r=e.call(n,T(t)))||(r=e.call(n,N(t)))||(r=e.call(n,q(t)))?r:(r=e.call(n,U(t)))||!1},M=function(t){var e=0;return Z(t)||(e=z(t)*R(t)),e},T=function(t){return[t[0],t[1]]},N=function(t){return[t[2],t[1]]},j=function(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]},L=function(t,e){var n=void 0;return e===i.Corner.BOTTOM_LEFT?n=T(t):e===i.Corner.BOTTOM_RIGHT?n=N(t):e===i.Corner.TOP_LEFT?n=U(t):e===i.Corner.TOP_RIGHT&&(n=q(t)),n},A=function(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-n)*(Math.max(t[3],e[3])-r)},k=function(t,e,n,r,i){var o=e*r[0]/2,s=e*r[1]/2,a=Math.cos(n),u=Math.sin(n),l=o*a,c=o*u,p=s*a,h=s*u,f=t[0],d=t[1],g=f-l+h,m=f-l-h,v=f+l-h,_=f+l+h,b=d-c-p,w=d-c+p,x=d+c+p,S=d+c-p;return y(Math.min(g,m,v,_),Math.min(b,w,x,S),Math.max(g,m,v,_),Math.max(b,w,x,S),i)},R=function(t){return t[3]-t[1]},D=function(t,e){var n=F(t,e);return M(n)},F=function(t,e,n){var r=n||d();return V(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):g(r),r},B=function(t){return z(t)+R(t)},G=function(t){return[t[2]-t[0],t[3]-t[1]]},U=function(t){return[t[0],t[3]]},q=function(t){return[t[2],t[3]]},z=function(t){return t[2]-t[0]},V=function(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]},Z=function(t){return t[2]<t[0]||t[3]<t[1]},X=function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t},Y=function(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r},W=function(t,e,n){var r=!1,i=f(t,e),s=f(t,n);if(i===o.Relationship.INTERSECTING||s===o.Relationship.INTERSECTING)r=!0;else{var a=t[0],u=t[1],l=t[2],c=t[3],p=e[0],h=e[1],d=n[0],y=n[1],g=(y-h)/(d-p),m=void 0,v=void 0;s&o.Relationship.ABOVE&&!(i&o.Relationship.ABOVE)&&(r=(m=d-(y-c)/g)>=a&&m<=l),r||!(s&o.Relationship.RIGHT)||i&o.Relationship.RIGHT||(r=(v=y-(d-l)*g)>=u&&v<=c),r||!(s&o.Relationship.BELOW)||i&o.Relationship.BELOW||(r=(m=d-(y-u)/g)>=a&&m<=l),r||!(s&o.Relationship.LEFT)||i&o.Relationship.LEFT||(r=(v=y-(d-a)*g)>=u&&v<=c)}return r},H=function(t,e,n){var r=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(r,r,2),function(t,e,n){var r=Math.min.apply(null,t),i=Math.min.apply(null,e),o=Math.max.apply(null,t),s=Math.max.apply(null,e);return y(r,i,o,s,n)}([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],n)};e.boundingExtent=s,e.buffer=a,e.clone=u,e.closestSquaredDistanceXY=l,e.containsCoordinate=c,e.containsExtent=p,e.containsXY=h,e.coordinateRelationship=f,e.createEmpty=d,e.createOrUpdate=y,e.createOrUpdateEmpty=g,e.createOrUpdateFromCoordinate=m,e.createOrUpdateFromCoordinates=v,e.createOrUpdateFromFlatCoordinates=_,e.createOrUpdateFromRings=b,e.equals=w,e.extend=x,e.extendCoordinate=S,e.extendCoordinates=E,e.extendFlatCoordinates=C,e.extendRings=P,e.extendXY=I,e.forEachCorner=O,e.getArea=M,e.getBottomLeft=T,e.getBottomRight=N,e.getCenter=j,e.getCorner=L,e.getEnlargedArea=A,e.getForViewAndSize=k,e.getHeight=R,e.getIntersectionArea=D,e.getIntersection=F,e.getMargin=B,e.getSize=G,e.getTopLeft=U,e.getTopRight=q,e.getWidth=z,e.intersects=V,e.isEmpty=Z,e.returnOrUpdate=X,e.scaleFromCenter=Y,e.intersectsSegment=W,e.applyTransform=H,r.Zondy.extent.boundingExtent=s,r.Zondy.extent.buffer=a,r.Zondy.extent.clone=u,r.Zondy.extent.closestSquaredDistanceXY=l,r.Zondy.extent.containsCoordinate=c,r.Zondy.extent.containsExtent=p,r.Zondy.extent.containsXY=h,r.Zondy.extent.coordinateRelationship=f,r.Zondy.extent.createEmpty=d,r.Zondy.extent.createOrUpdate=y,r.Zondy.extent.createOrUpdateEmpty=g,r.Zondy.extent.createOrUpdateFromCoordinate=m,r.Zondy.extent.createOrUpdateFromCoordinates=v,r.Zondy.extent.createOrUpdateFromFlatCoordinates=_,r.Zondy.extent.createOrUpdateFromRings=b,r.Zondy.extent.equals=w,r.Zondy.extent.extend=x,r.Zondy.extent.extendCoordinate=S,r.Zondy.extent.extendCoordinates=E,r.Zondy.extent.extendFlatCoordinates=C,r.Zondy.extent.extendRings=P,r.Zondy.extent.extendXY=I,r.Zondy.extent.forEachCorner=O,r.Zondy.extent.getArea=M,r.Zondy.extent.getBottomLeft=T,r.Zondy.extent.getBottomRight=N,r.Zondy.extent.getCenter=j,r.Zondy.extent.getCorner=L,r.Zondy.extent.getEnlargedArea=A,r.Zondy.extent.getForViewAndSize=k,r.Zondy.extent.getHeight=R,r.Zondy.extent.getIntersectionArea=D,r.Zondy.extent.getIntersection=F,r.Zondy.extent.getMargin=B,r.Zondy.extent.getSize=G,r.Zondy.extent.getTopLeft=U,r.Zondy.extent.getTopRight=q,r.Zondy.extent.getWidth=z,r.Zondy.extent.intersects=V,r.Zondy.extent.isEmpty=Z,r.Zondy.extent.returnOrUpdate=X,r.Zondy.extent.scaleFromCenter=Y,r.Zondy.extent.intersectsSegment=W,r.Zondy.extent.applyTransform=H},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Corner=void 0;var r=n(0),i={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};e.Corner=i,r.Zondy.Enum.Corner=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relationship=void 0;var r=n(0),i={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};e.Relationship=i,r.Zondy.Enum.Relationship=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(38),s=function(t){return t&&t.__esModule?t:{default:t}}(n(39)),a=n(40),u=n(15),l=[null,"http://www.opengis.net/ows/1.1"],c=(0,u.makeStructureNS)(l,{ServiceIdentification:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},S,t,e)})),ServiceProvider:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},E,t,e)})),OperationsMetadata:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},_,t,e)}))}),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"readFromDocument",value:function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null}},{key:"readFromNode",value:function(t){var e=(0,u.pushParseAndPop)({},c,t,[]);return e||null}}]),e}(),h=(0,u.makeStructureNS)(l,{DeliveryPoint:(0,u.makeObjectPropertySetter)(a.readString),City:(0,u.makeObjectPropertySetter)(a.readString),AdministrativeArea:(0,u.makeObjectPropertySetter)(a.readString),PostalCode:(0,u.makeObjectPropertySetter)(a.readString),Country:(0,u.makeObjectPropertySetter)(a.readString),ElectronicMailAddress:(0,u.makeObjectPropertySetter)(a.readString)}),f=(0,u.makeStructureNS)(l,{Value:(0,u.makeObjectPropertyPusher)((function(t,e){return(0,a.readString)(t)}))}),d=(0,u.makeStructureNS)(l,{AllowedValues:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},f,t,e)}))}),y=(0,u.makeStructureNS)(l,{Phone:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},b,t,e)})),Address:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},h,t,e)}))}),g=(0,u.makeStructureNS)(l,{HTTP:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},m,t,e)}))}),m=(0,u.makeStructureNS)(l,{Get:(0,u.makeObjectPropertyPusher)((function(t,e){var n=(0,o.readHref)(t);if(n)return(0,u.pushParseAndPop)({href:n},w,t,e)})),Post:void 0}),v=(0,u.makeStructureNS)(l,{DCP:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},g,t,e)}))}),_=(0,u.makeStructureNS)(l,{Operation:function(t,e){var n=t.getAttribute("name"),r=(0,u.pushParseAndPop)({},v,t,e);r&&(e[e.length-1][n]=r)}}),b=(0,u.makeStructureNS)(l,{Voice:(0,u.makeObjectPropertySetter)(a.readString),Facsimile:(0,u.makeObjectPropertySetter)(a.readString)}),w=(0,u.makeStructureNS)(l,{Constraint:(0,u.makeObjectPropertyPusher)((function(t,e){var n=t.getAttribute("name");if(n)return(0,u.pushParseAndPop)({name:n},d,t,e)}))}),x=(0,u.makeStructureNS)(l,{IndividualName:(0,u.makeObjectPropertySetter)(a.readString),PositionName:(0,u.makeObjectPropertySetter)(a.readString),ContactInfo:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},y,t,e)}))}),S=(0,u.makeStructureNS)(l,{Abstract:(0,u.makeObjectPropertySetter)(a.readString),AccessConstraints:(0,u.makeObjectPropertySetter)(a.readString),Fees:(0,u.makeObjectPropertySetter)(a.readString),Title:(0,u.makeObjectPropertySetter)(a.readString),ServiceTypeVersion:(0,u.makeObjectPropertySetter)(a.readString),ServiceType:(0,u.makeObjectPropertySetter)(a.readString)}),E=(0,u.makeStructureNS)(l,{ProviderName:(0,u.makeObjectPropertySetter)(a.readString),ProviderSite:(0,u.makeObjectPropertySetter)(o.readHref),ServiceContact:(0,u.makeObjectPropertySetter)((function(t,e){return(0,u.pushParseAndPop)({},x,t,e)}))});e.default=p,i.Zondy.Format.OWS=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMTSInfo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n(96)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return n.baseUrl="igs/rest/ogc",r.ip=n.ip||"localhost",r.port=n.port||"6163",r.baseUrl=n.baseUrl,r.version=n.version||"1.0.0",r.serverName=n.serverName,r.name=n.name,r.style=n.style||"default",r.tileMatrixset=n.tileMatrixset,r.tileMatrix=n.tileMatrix,r.tileRow=n.tileRow,r.tileCol=n.tileCol,r.format=n.format||"image/png",r.infoFormat=n.infoFormat||"text/html",r.I=n.I,r.J=n.J,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),r(e,[{key:"getWMTSInfo",value:function(t,e){var n=this,r="";n.serverName&&""!==n.serverName&&(r+=n.serverName+"/"),r+="WMTSServer/1.0.0/WMTSCapabilities.xml",n.partUrl=r;var i=n.getFullUrl();(0,s.default)({method:"get",url:i}).then(t).catch(e)}},{key:"getFeatureInfo",value:function(t,e){var n=this;n.partUrl="WMTSServer?service=WMTS&request=GetFeatureInfo&version="+n.version+"&layer="+n.serverName+":"+n.name+"&style="+n.style+"&TileMatrixSet="+n.tileMatrixSet+"&TileMatrix="+n.tileMatrix+"&TileRow="+n.tileRow+"&TileCol="+n.tileCol+"&format="+n.format+"&InfoFormat="+n.infoFormat+"&I="+n.I+"&J="+n.J;var r=n.getFullUrl();(0,s.default)({method:"get",url:r}).then(t).catch(e)}}]),e}();e.OGCWMTSInfo=a,i.Zondy.OGC.OGCWMTSInfo=a},function(t,e,n){"use strict";var r=n(5),i=n(97),o=n(181),s=n(41);function a(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var u=a(s);u.Axios=o,u.create=function(t){return a(r.merge(s,t))},u.Cancel=n(101),u.CancelToken=n(194),u.isCancel=n(100),u.all=function(t){return Promise.all(t)},u.spread=n(195),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(41),i=n(5),o=n(189),s=n(190);function a(t){this.defaults=t,this.interceptors={request:new o,response:new o}}a.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},i.forEach(["delete","get","head","options"],(function(t){a.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){a.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=a},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(99);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t}},function(t,e,n){"use strict";var r=n(5);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!==t&&void 0!==t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(5),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(5);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(5);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(5);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(5),i=n(191),o=n(100),s=n(41),a=n(192),u=n(193);function l(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return l(t),t.baseURL&&!a(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return l(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(5);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(101);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OGCWMSInfo=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),o=n(4),s=function(t){return t&&t.__esModule?t:{default:t}}(n(96)),a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=t||{},r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return n.baseUrl="igs/rest/ogc",r.ip=n.ip||"localhost",r.port=n.port||"6163",r.baseUrl=n.baseUrl,r.serverType=n.serverType,r.serverName=n.serverName,r.version=n.version||"1.1.1",r.layersName=n.layersName,r.style=n.style||"default",r.srs=n.srs,r.bbox=n.bbox,r.width=n.width||"1024",r.height=n.height||"768",r.format=n.format||"image/png",r.infoFormat=n.infoFormat||"text/html",r.I=n.I,r.J=n.J,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.ServiceBase),r(e,[{key:"getWMSInfo",value:function(t,e){var n=this;n.partUrl=n.serverType+"/"+n.serverName+"/WMSServer?service=WMS&REQUEST=GetCapabilities&version="+n.version;var r=n.getFullUrl();(0,s.default)({method:"get",url:r}).then(t).catch(e)}},{key:"getFeatureInfo",value:function(t,e){var n=this;n.partUrl=n.serverType+"/"+n.serverName+"/WMSServer?layers="+n.layersName+"&version="+n.version+"&service=WMS&request=GetFeatureInfo&styles="+n.style+"&format="+n.format+"&bbox="+n.bbox+"&width="+n.width+"&height="+n.height+"&query_Layers="+n.layersName+"&info_Format="+n.infoFormat,"1.1.1"===n.version?n.partUrl+="&srs="+n.srs+"&&X="+n.I+"&Y="+n.J:"1.3.0"===n.version&&(n.partUrl+="&crs="+n.srs+"&&I="+n.I+"&J="+n.J);var r=n.getFullUrl();(0,s.default)({method:"get",url:r}).then(t).catch(e)}}]),e}();e.OGCWMSInfo=a,i.Zondy.OGC.OGCWMSInfo=a}])},function(t,e,n){(function(e,n){t.exports=n()})(0,(function(){"use strict";var t=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]},e=1,n=2,r=4,i=5,o=484813681109536e-20,s=Math.PI/2,a=.16666666666666666,u=.04722222222222222,l=.022156084656084655,c=1e-10,p=.017453292519943295,h=57.29577951308232,f=Math.PI/4,d=2*Math.PI,y=3.14159265359,g={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},m={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},v=/[\s_\-\/\(\)]/g;function _(t,e){if(t[e])return t[e];var n,r,i=Object.keys(t),o=e.toLowerCase().replace(v,""),s=-1;while(++s<i.length)if(n=i[s],r=n.toLowerCase().replace(v,""),r===o)return t[n]}var b=function(t){var e,n,r,i={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*p},lat_1:function(t){i.lat1=t*p},lat_2:function(t){i.lat2=t*p},lat_ts:function(t){i.lat_ts=t*p},lon_0:function(t){i.long0=t*p},lon_1:function(t){i.long1=t*p},lon_2:function(t){i.long2=t*p},alpha:function(t){i.alpha=parseFloat(t)*p},lonc:function(t){i.longc=t*p},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=_(m,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*p},pm:function(t){var e=_(g,t);i.from_greenwich=(e||parseFloat(t))*p},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in o)n=o[e],e in s?(r=s[e],"function"===typeof r?r(n):i[r]=n):i[e]=n;return"string"===typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},w=1,x=2,S=3,E=4,C=5,P=-1,I=/\s/,O=/[A-Za-z]/,M=/[A-Za-z84]/,T=/[,\]]/,N=/[\d\.E\-\+]/;function j(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=w}function L(t){var e=new j(t);return e.output()}function A(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce((function(t,e){return k(e,t),t}),r);e&&(t[e]=i)}function k(t,e){if(Array.isArray(t)){var n,r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void k(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&k(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&k(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void A(e,r,t);default:n=-1;while(++n<t.length)if(!Array.isArray(t[n]))return k(t,e[r]);return A(e,r,t)}else e[r]=t;else e[r]=!0}else e[t]=!0}j.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==E)while(I.test(t)){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case w:return this.neutral(t);case x:return this.keyword(t);case E:return this.quoted(t);case C:return this.afterquote(t);case S:return this.number(t);case P:return}},j.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=E);if(T.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},j.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=w)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=w,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=P))):void 0},j.prototype.number=function(t){if(!N.test(t)){if(T.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},j.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=C},j.prototype.keyword=function(t){if(M.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=w)}if(!T.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},j.prototype.neutral=function(t){if(O.test(t))return this.word=t,void(this.state=x);if('"'===t)return this.word="",void(this.state=E);if(N.test(t))return this.word=t,void(this.state=S);if(!T.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},j.prototype.output=function(){while(this.place<this.text.length)this.readCharicter();if(this.state===P)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var R=.017453292519943295;function D(t,e){var n=e[0],r=e[1];!(n in t)&&r in t&&(t[n]=t[r],3===e.length&&(t[n]=e[2](t[n])))}function F(t){return t*R}function B(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){var n=t.to_meter||1;return e*n}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);var r=function(e){return D(t,e)},i=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",F],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",F],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",F],["lat0","latitude_of_origin",F],["lat0","standard_parallel_1",F],["lat1","standard_parallel_1",F],["lat2","standard_parallel_2",F],["azimuth","Azimuth"],["alpha","azimuth",F],["srsCode","name"]];i.forEach(r),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=F(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var G=function(t){var e=L(t),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return k(e,i),B(i),i};function U(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?U[t]=b(arguments[1]):U[t]=G(arguments[1]):U[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?U.apply(e,t):U(t)}));if("string"===typeof t){if(t in U)return U[t]}else"EPSG"in t?U["EPSG:"+t.EPSG]=t:"ESRI"in t?U["ESRI:"+t.ESRI]=t:"IAU2000"in t?U["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function q(t){return"string"===typeof t}function z(t){return t in U}t(U);var V=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Z(t){return V.some((function(e){return t.indexOf(e)>-1}))}var X=["3857","900913","3785","102113"];function Y(t){var e=_(t,"authority");if(e){var n=_(e,"epsg");return n&&X.indexOf(n)>-1}}function W(t){var e=_(t,"extension");if(e)return _(e,"proj4")}function H(t){return"+"===t[0]}function J(t){if(!q(t))return t;if(z(t))return U[t];if(Z(t)){var e=G(t);if(Y(e))return U["EPSG:3857"];var n=W(e);return n?b(n):e}return H(t)?b(t):void 0}var Q=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)n=e[r],void 0!==n&&(t[r]=n);return t},K=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},$=function(t){return t<0?-1:1},tt=function(t){return Math.abs(t)<=y?t:t-$(t)*d},et=function(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(s-e))/r},nt=function(t,e){for(var n,r,i=.5*t,o=s-2*Math.atan(e),a=0;a<=15;a++)if(n=t*Math.sin(o),r=s-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999};function rt(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=K(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function it(t){var e,n,r=t.x,i=t.y;if(i*h>90&&i*h<-90&&r*h>180&&r*h<-180)return null;if(Math.abs(Math.abs(i)-s)<=c)return null;if(this.sphere)e=this.x0+this.a*this.k0*tt(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(f+.5*i));else{var o=Math.sin(i),a=et(this.e,i,o);e=this.x0+this.a*this.k0*tt(r-this.long0),n=this.y0-this.a*this.k0*Math.log(a)}return t.x=e,t.y=n,t}function ot(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=s-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var o=Math.exp(-i/(this.a*this.k0));if(n=nt(this.e,o),-9999===n)return null}return e=tt(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t}var st=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],at={init:rt,forward:it,inverse:ot,names:st};function ut(){}function lt(t){return t}var ct=["longlat","identity"],pt={init:ut,forward:lt,inverse:lt,names:ct},ht=[at,pt],ft={},dt=[];function yt(t,e){var n=dt.length;return t.names?(dt[n]=t,t.names.forEach((function(t){ft[t.toLowerCase()]=n})),this):(console.log(e),!0)}function gt(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof ft[e]&&dt[ft[e]]?dt[ft[e]]:void 0}function mt(){ht.forEach(yt)}var vt={start:mt,add:yt,get:gt},_t={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},bt=_t.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};function wt(t,e,n,r){var i=t*t,o=e*e,s=(i-o)/i,c=0;r?(t*=1-s*(a+s*(u+s*l)),i=t*t,s=0):c=Math.sqrt(s);var p=(i-o)/o;return{es:s,e:c,ep2:p}}function xt(t,e,n,r,i){if(!t){var o=_(_t,r);o||(o=bt),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<c)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}_t.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var St={};function Et(t,s,a,u,l,c){var p={};return p.datum_type=void 0===t||"none"===t?i:r,s&&(p.datum_params=s.map(parseFloat),0===p.datum_params[0]&&0===p.datum_params[1]&&0===p.datum_params[2]||(p.datum_type=e),p.datum_params.length>3&&(0===p.datum_params[3]&&0===p.datum_params[4]&&0===p.datum_params[5]&&0===p.datum_params[6]||(p.datum_type=n,p.datum_params[3]*=o,p.datum_params[4]*=o,p.datum_params[5]*=o,p.datum_params[6]=p.datum_params[6]/1e6+1))),p.a=a,p.b=u,p.es=l,p.ep2=c,p}function Ct(t,e){if(!(this instanceof Ct))return new Ct(t);e=e||function(t){if(t)throw t};var n=J(t);if("object"===typeof n){var r=Ct.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=_(St,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=xt(n.a,n.b,n.rf,n.ellps,n.sphere),s=wt(o.a,o.b,o.rf,n.R_A),a=n.datum||Et(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2);Q(this,n),Q(this,r),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=a,this.init(),e(null,this)}else e(t)}else e(t)}function Pt(t,r){return t.datum_type===r.datum_type&&(!(t.a!==r.a||Math.abs(t.es-r.es)>5e-11)&&(t.datum_type===e?t.datum_params[0]===r.datum_params[0]&&t.datum_params[1]===r.datum_params[1]&&t.datum_params[2]===r.datum_params[2]:t.datum_type!==n||t.datum_params[0]===r.datum_params[0]&&t.datum_params[1]===r.datum_params[1]&&t.datum_params[2]===r.datum_params[2]&&t.datum_params[3]===r.datum_params[3]&&t.datum_params[4]===r.datum_params[4]&&t.datum_params[5]===r.datum_params[5]&&t.datum_params[6]===r.datum_params[6]))}function It(t,e,n){var r,i,o,a,u=t.x,l=t.y,c=t.z?t.z:0;if(l<-s&&l>-1.001*s)l=-s;else if(l>s&&l<1.001*s)l=s;else{if(l<-s)return{x:-1/0,y:-1/0,z:t.z};if(l>s)return{x:1/0,y:1/0,z:t.z}}return u>Math.PI&&(u-=2*Math.PI),i=Math.sin(l),a=Math.cos(l),o=i*i,r=n/Math.sqrt(1-e*o),{x:(r+c)*a*Math.cos(u),y:(r+c)*a*Math.sin(u),z:(r*(1-e)+c)*i}}function Ot(t,e,n,r){var i,o,a,u,l,c,p,h,f,d,y,g,m,v,_,b,w=1e-12,x=w*w,S=30,E=t.x,C=t.y,P=t.z?t.z:0;if(i=Math.sqrt(E*E+C*C),o=Math.sqrt(E*E+C*C+P*P),i/n<w){if(v=0,o/n<w)return _=s,b=-r,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(C,E);a=P/o,u=i/o,l=1/Math.sqrt(1-e*(2-e)*u*u),h=u*(1-e)*l,f=a*l,m=0;do{m++,p=n/Math.sqrt(1-e*f*f),b=i*h+P*f-p*(1-e*f*f),c=e*p/(p+b),l=1/Math.sqrt(1-c*(2-c)*u*u),d=u*(1-c)*l,y=a*l,g=y*h-d*f,h=d,f=y}while(g*g>x&&m<S);return _=Math.atan(y/Math.abs(d)),{x:v,y:_,z:b}}function Mt(t,r,i){if(r===e)return{x:t.x+i[0],y:t.y+i[1],z:t.z+i[2]};if(r===n){var o=i[0],s=i[1],a=i[2],u=i[3],l=i[4],c=i[5],p=i[6];return{x:p*(t.x-c*t.y+l*t.z)+o,y:p*(c*t.x+t.y-u*t.z)+s,z:p*(-l*t.x+u*t.y+t.z)+a}}}function Tt(t,r,i){if(r===e)return{x:t.x-i[0],y:t.y-i[1],z:t.z-i[2]};if(r===n){var o=i[0],s=i[1],a=i[2],u=i[3],l=i[4],c=i[5],p=i[6],h=(t.x-o)/p,f=(t.y-s)/p,d=(t.z-a)/p;return{x:h+c*f-l*d,y:-c*h+f+u*d,z:l*h-u*f+d}}}function Nt(t){return t===e||t===n}St.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},St.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},St.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},St.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},St.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},St.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},St.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},St.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},St.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},St.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},St.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},St.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},St.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},St.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},St.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},St.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},St.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},Ct.projections=vt,Ct.projections.start();var jt=function(t,e,n){return Pt(t,e)||t.datum_type===i||e.datum_type===i?n:t.es!==e.es||t.a!==e.a||Nt(t.datum_type)||Nt(e.datum_type)?(n=It(n,t.es,t.a),Nt(t.datum_type)&&(n=Mt(n,t.datum_type,t.datum_params)),Nt(e.datum_type)&&(n=Tt(n,e.datum_type,e.datum_params)),Ot(n,e.es,e.a,e.b)):n},Lt=function(t,e,n){var r,i,o,s=n.x,a=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(r=s,i="x"):1===o?(r=a,i="y"):(r=u,i="z"),t.axis[o]){case"e":l[i]=r;break;case"w":l[i]=-r;break;case"n":l[i]=r;break;case"s":l[i]=-r;break;case"u":void 0!==n[i]&&(l.z=r);break;case"d":void 0!==n[i]&&(l.z=-r);break;default:return null}return l},At=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},kt=function(t){Rt(t.x),Rt(t.y)};function Rt(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function Dt(t,r){return(t.datum.datum_type===e||t.datum.datum_type===n)&&"WGS84"!==r.datumCode||(r.datum.datum_type===e||r.datum.datum_type===n)&&"WGS84"!==t.datumCode}function Ft(t,e,n){var r;return Array.isArray(n)&&(n=At(n)),kt(n),t.datum&&e.datum&&Dt(t,e)&&(r=new Ct("WGS84"),n=Ft(t,r,n),t=r),"enu"!==t.axis&&(n=Lt(t,!1,n)),"longlat"===t.projName?n={x:n.x*p,y:n.y*p,z:n.z||0}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=jt(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y,z:n.z||0}),"longlat"===e.projName?n={x:n.x*h,y:n.y*h,z:n.z||0}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter,z:n.z||0})),"enu"!==e.axis?Lt(e,!0,n):n}var Bt=Ct("WGS84");function Gt(t,e,n){var r,i,o;return Array.isArray(n)?(r=Ft(t,e,n)||{x:NaN,y:NaN},n.length>2?"undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name?"number"===typeof r.z?[r.x,r.y,r.z].concat(n.splice(3)):[r.x,r.y,n[2]].concat(n.splice(3)):[r.x,r.y].concat(n.splice(2)):[r.x,r.y]):(i=Ft(t,e,n),o=Object.keys(n),2===o.length||o.forEach((function(r){if("undefined"!==typeof t.name&&"geocent"===t.name||"undefined"!==typeof e.name&&"geocent"===e.name){if("x"===r||"y"===r||"z"===r)return}else if("x"===r||"y"===r)return;i[r]=n[r]})),i)}function Ut(t){return t instanceof Ct?t:t.oProj?t.oProj:Ct(t)}function qt(t,e,n){t=Ut(t);var r,i=!1;return"undefined"===typeof e?(e=t,t=Bt,i=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(n=e,e=t,t=Bt,i=!0),e=Ut(e),n?Gt(t,e,n):(r={forward:function(n){return Gt(t,e,n)},inverse:function(n){return Gt(e,t,n)}},i&&(r.oProj=e),r)}var zt=6,Vt="AJSAJS",Zt="AFAFAF",Xt=65,Yt=73,Wt=79,Ht=86,Jt=90,Qt={forward:Kt,inverse:$t,toPoint:te};function Kt(t,e){return e=e||5,se(re({lat:t[1],lon:t[0]}),e)}function $t(t){var e=ie(ce(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function te(t){var e=ie(ce(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function ee(t){return t*(Math.PI/180)}function ne(t){return t/Math.PI*180}function re(t){var e,n,r,i,o,s,a,u,l,c=t.lat,p=t.lon,h=6378137,f=.00669438,d=.9996,y=ee(c),g=ee(p);l=Math.floor((p+180)/6)+1,180===p&&(l=60),c>=56&&c<64&&p>=3&&p<12&&(l=32),c>=72&&c<84&&(p>=0&&p<9?l=31:p>=9&&p<21?l=33:p>=21&&p<33?l=35:p>=33&&p<42&&(l=37)),e=6*(l-1)-180+3,u=ee(e),n=f/(1-f),r=h/Math.sqrt(1-f*Math.sin(y)*Math.sin(y)),i=Math.tan(y)*Math.tan(y),o=n*Math.cos(y)*Math.cos(y),s=Math.cos(y)*(g-u),a=h*((1-f/4-3*f*f/64-5*f*f*f/256)*y-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*y)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*y)-35*f*f*f/3072*Math.sin(6*y));var m=d*r*(s+(1-i+o)*s*s*s/6+(5-18*i+i*i+72*o-58*n)*s*s*s*s*s/120)+5e5,v=d*(a+r*Math.tan(y)*(s*s/2+(5-i+9*o+4*o*o)*s*s*s*s/24+(61-58*i+i*i+600*o-330*n)*s*s*s*s*s*s/720));return c<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(m),zoneNumber:l,zoneLetter:oe(c)}}function ie(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var o,s,a,u,l,c,p,h,f,d,y=.9996,g=6378137,m=.00669438,v=(1-Math.sqrt(1-m))/(1+Math.sqrt(1-m)),_=n-5e5,b=e;r<"N"&&(b-=1e7),h=6*(i-1)-180+3,o=m/(1-m),p=b/y,f=p/(g*(1-m/4-3*m*m/64-5*m*m*m/256)),d=f+(3*v/2-27*v*v*v/32)*Math.sin(2*f)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*f)+151*v*v*v/96*Math.sin(6*f),s=g/Math.sqrt(1-m*Math.sin(d)*Math.sin(d)),a=Math.tan(d)*Math.tan(d),u=o*Math.cos(d)*Math.cos(d),l=g*(1-m)/Math.pow(1-m*Math.sin(d)*Math.sin(d),1.5),c=_/(s*y);var w=d-s*Math.tan(d)/l*(c*c/2-(5+3*a+10*u-4*u*u-9*o)*c*c*c*c/24+(61+90*a+298*u+45*a*a-252*o-3*u*u)*c*c*c*c*c*c/720);w=ne(w);var x,S=(c-(1+2*a+u)*c*c*c/6+(5-2*u+28*a-3*u*u+8*o+24*a*a)*c*c*c*c*c/120)/Math.cos(d);if(S=h+ne(S),t.accuracy){var E=ie({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:E.lat,right:E.lon,bottom:w,left:S}}else x={lat:w,lon:S};return x}function oe(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function se(t,e){var n="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+ae(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+r.substr(r.length-5,e)}function ae(t,e,n){var r=ue(n),i=Math.floor(t/1e5),o=Math.floor(e/1e5)%20;return le(i,o,r)}function ue(t){var e=t%zt;return 0===e&&(e=zt),e}function le(t,e,n){var r=n-1,i=Vt.charCodeAt(r),o=Zt.charCodeAt(r),s=i+t-1,a=o+e,u=!1;s>Jt&&(s=s-Jt+Xt-1,u=!0),(s===Yt||i<Yt&&s>Yt||(s>Yt||i<Yt)&&u)&&s++,(s===Wt||i<Wt&&s>Wt||(s>Wt||i<Wt)&&u)&&(s++,s===Yt&&s++),s>Jt&&(s=s-Jt+Xt-1),a>Ht?(a=a-Ht+Xt-1,u=!0):u=!1,(a===Yt||o<Yt&&a>Yt||(a>Yt||o<Yt)&&u)&&a++,(a===Wt||o<Wt&&a>Wt||(a>Wt||o<Wt)&&u)&&(a++,a===Yt&&a++),a>Ht&&(a=a-Ht+Xt-1);var l=String.fromCharCode(s)+String.fromCharCode(a);return l}function ce(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";var e,n=t.length,r=null,i="",o=0;while(!/[A-Z]/.test(e=t.charAt(o))){if(o>=2)throw"MGRSPoint bad conversion from: "+t;i+=e,o++}var s=parseInt(i,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;r=t.substring(o,o+=2);var u=ue(s),l=pe(r.charAt(0),u),c=he(r.charAt(1),u);while(c<fe(a))c+=2e6;var p=n-o;if(p%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var h,f,d,y,g,m=p/2,v=0,_=0;return m>0&&(h=1e5/Math.pow(10,m),f=t.substring(o,o+m),v=parseFloat(f)*h,d=t.substring(o+m),_=parseFloat(d)*h),y=v+l,g=_+c,{easting:y,northing:g,zoneLetter:a,zoneNumber:s,accuracy:h}}function pe(t,e){var n=Vt.charCodeAt(e-1),r=1e5,i=!1;while(n!==t.charCodeAt(0)){if(n++,n===Yt&&n++,n===Wt&&n++,n>Jt){if(i)throw"Bad character: "+t;n=Xt,i=!0}r+=1e5}return r}function he(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=Zt.charCodeAt(e-1),r=0,i=!1;while(n!==t.charCodeAt(0)){if(n++,n===Yt&&n++,n===Wt&&n++,n>Ht){if(i)throw"Bad character: "+t;n=Xt,i=!0}r+=1e5}return r}function fe(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function de(t,e,n){if(!(this instanceof de))return new de(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}de.fromMGRS=function(t){return new de(te(t))},de.prototype.toMGRS=function(t){return Kt([this.x,this.y],t)};var ye=1,ge=.25,me=.046875,ve=.01953125,_e=.01068115234375,be=.75,we=.46875,xe=.013020833333333334,Se=.007120768229166667,Ee=.3645833333333333,Ce=.005696614583333333,Pe=.3076171875,Ie=function(t){var e=[];e[0]=ye-t*(ge+t*(me+t*(ve+t*_e))),e[1]=t*(be-t*(me+t*(ve+t*_e)));var n=t*t;return e[2]=n*(we-t*(xe+t*Se)),n*=t,e[3]=n*(Ee-t*Ce),e[4]=n*t*Pe,e},Oe=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},Me=20,Te=function(t,e,n){for(var r=1/(1-e),i=t,o=Me;o;--o){var s=Math.sin(i),a=1-e*s*s;if(a=(Oe(i,s,Math.cos(i),n)-t)*(a*Math.sqrt(a))*r,i-=a,Math.abs(a)<c)return i}return i};function Ne(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ie(this.es),this.ml0=Oe(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function je(t){var e,n,r,i=t.x,o=t.y,s=tt(i-this.long0),a=Math.sin(o),u=Math.cos(o);if(this.es){var l=u*s,p=Math.pow(l,2),h=this.ep2*Math.pow(u,2),f=Math.pow(h,2),d=Math.abs(u)>c?Math.tan(o):0,y=Math.pow(d,2),g=Math.pow(y,2);e=1-this.es*Math.pow(a,2),l/=Math.sqrt(e);var m=Oe(o,a,u,this.en);n=this.a*(this.k0*l*(1+p/6*(1-y+h+p/20*(5-18*y+g+14*h-58*y*h+p/42*(61+179*g-g*y-479*y)))))+this.x0,r=this.a*(this.k0*(m-this.ml0+a*s*l/2*(1+p/12*(5-y+9*h+4*f+p/30*(61+g-58*y+270*h-330*y*h+p/56*(1385+543*g-g*y-3111*y))))))+this.y0}else{var v=u*Math.sin(s);if(Math.abs(Math.abs(v)-1)<c)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,r=u*Math.cos(s)/Math.sqrt(1-Math.pow(v,2)),v=Math.abs(r),v>=1){if(v-1>c)return 93;r=0}else r=Math.acos(r);o<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t}function Le(t){var e,n,r,i,o=(t.x-this.x0)*(1/this.a),a=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+a/this.k0,n=Te(e,this.es,this.en),Math.abs(n)<s){var u=Math.sin(n),l=Math.cos(n),p=Math.abs(l)>c?Math.tan(n):0,h=this.ep2*Math.pow(l,2),f=Math.pow(h,2),d=Math.pow(p,2),y=Math.pow(d,2);e=1-this.es*Math.pow(u,2);var g=o*Math.sqrt(e)/this.k0,m=Math.pow(g,2);e*=p,r=n-e*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*h*d+h-4*f-m/30*(61+90*d-252*h*d+45*y+46*h-m/56*(1385+3633*d+4095*y+1574*y*d)))),i=tt(this.long0+g*(1-m/6*(1+2*d+h-m/20*(5+28*d+24*y+8*h*d+6*h-m/42*(61+662*d+1320*y+720*y*d))))/l)}else r=s*$(a),i=0;else{var v=Math.exp(o/this.k0),_=.5*(v-1/v),b=this.lat0+a/this.k0,w=Math.cos(b);e=Math.sqrt((1-Math.pow(w,2))/(1+Math.pow(_,2))),r=Math.asin(e),a<0&&(r=-r),i=0===_&&0===w?0:tt(Math.atan2(_,w)+this.long0)}return t.x=i,t.y=r,t}var Ae=["Transverse_Mercator","Transverse Mercator","tmerc"],ke={init:Ne,forward:je,inverse:Le,names:Ae},Re=function(t){var e=Math.exp(t);return e=(e-1/e)/2,e},De=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},Fe=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n},Be=function(t){var e=Math.abs(t);return e=Fe(e*(1+e/(De(1,e)+1))),t<0?-e:e},Ge=function(t,e){var n,r=2*Math.cos(2*e),i=t.length-1,o=t[i],s=0;while(--i>=0)n=r*o-s+t[i],s=o,o=n;return e+n*Math.sin(2*e)},Ue=function(t,e){var n,r=2*Math.cos(e),i=t.length-1,o=t[i],s=0;while(--i>=0)n=r*o-s+t[i],s=o,o=n;return Math.sin(e)*n},qe=function(t){var e=Math.exp(t);return e=(e+1/e)/2,e},ze=function(t,e,n){var r,i,o=Math.sin(e),s=Math.cos(e),a=Re(n),u=qe(n),l=2*s*u,c=-2*o*a,p=t.length-1,h=t[p],f=0,d=0,y=0;while(--p>=0)r=d,i=f,d=h,f=y,h=l*d-r-c*f+t[p],y=c*d-i+l*f;return l=o*u,c=s*a,[l*h-c*y,l*y+c*h]};function Ve(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Ge(this.cbg,this.lat0);this.Zb=-this.Qn*(r+Ue(this.gtu,2*r))}function Ze(t){var e=tt(t.x-this.long0),n=t.y;n=Ge(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(r,s*i),e=Math.atan2(o*i,De(r,i*s)),e=Be(Math.tan(e));var a,u,l=ze(this.gtu,2*n,2*e);return n+=l[0],e+=l[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,u=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,u=1/0),t.x=a,t.y=u,t}function Xe(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var o=ze(this.utg,2*i,2*r);i+=o[0],r+=o[1],r=Math.atan(Re(r));var s=Math.sin(i),a=Math.cos(i),u=Math.sin(r),l=Math.cos(r);i=Math.atan2(s*l,De(u,l*a)),r=Math.atan2(u,l*a),e=tt(r+this.long0),n=Ge(this.cgb,i)}else e=1/0,n=1/0;return t.x=e,t.y=n,t}var Ye=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],We={init:Ve,forward:Ze,inverse:Xe,names:Ye},He=function(t,e){if(void 0===t){if(t=Math.floor(30*(tt(e)+Math.PI)/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t},Je="etmerc";function Qe(){var t=He(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*p,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,We.init.apply(this),this.forward=We.forward,this.inverse=We.inverse}var Ke=["Universal Transverse Mercator System","utm"],$e={init:Qe,names:Ke,dependsOn:Je},tn=function(t,e){return Math.pow((1-t)/(1+t),e)},en=20;function nn(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+f)/(Math.pow(Math.tan(.5*this.lat0+f),this.C)*tn(this.e*t,this.ratexp))}function rn(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+f),this.C)*tn(this.e*Math.sin(n),this.ratexp))-s,t.x=this.C*e,t}function on(t){for(var e=1e-14,n=t.x/this.C,r=t.y,i=Math.pow(Math.tan(.5*r+f)/this.K,1/this.C),o=en;o>0;--o){if(r=2*Math.atan(i*tn(this.e*Math.sin(t.y),-.5*this.e))-s,Math.abs(r-t.y)<e)break;t.y=r}return o?(t.x=n,t.y=r,t):null}var sn=["gauss"],an={init:nn,forward:rn,inverse:on,names:sn};function un(){an.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function ln(t){var e,n,r,i;return t.x=tt(t.x-this.long0),an.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function cn(t){var e,n,r,i,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),r=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,an.inverse.apply(this,[t]),t.x=tt(t.x+this.long0),t}var pn=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],hn={init:un,forward:ln,inverse:cn,names:pn};function fn(t,e,n){return e*=n,Math.tan(.5*(s+t))*Math.pow((1-e)/(1+e),.5*n)}function dn(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*(1+$(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=c&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=c&&(this.k0=.5*this.cons*K(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/et(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=K(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-s,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function yn(t){var e,n,r,i,o,a,u=t.x,l=t.y,p=Math.sin(l),h=Math.cos(l),f=tt(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=c&&Math.abs(l+this.lat0)<=c?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*h*Math.cos(f)),t.x=this.a*e*h*Math.sin(f)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*h*Math.cos(f))+this.y0,t):(n=2*Math.atan(this.ssfn_(l,p,this.e))-s,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=c?(o=et(this.e,l*this.con,this.con*p),a=2*this.a*this.k0*o/this.cons,t.x=this.x0+a*Math.sin(u-this.long0),t.y=this.y0-this.con*a*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<c?(e=2*this.a*this.k0/(1+i*Math.cos(f)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(f))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(f))+this.y0),t.x=e*i*Math.sin(f)+this.x0,t))}function gn(t){var e,n,r,i,o;t.x-=this.x0,t.y-=this.y0;var a=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(a/(2*this.a*this.k0));return e=this.long0,n=this.lat0,a<=c?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/a),e=Math.abs(this.coslat0)<c?this.lat0>0?tt(this.long0+Math.atan2(t.x,-1*t.y)):tt(this.long0+Math.atan2(t.x,t.y)):tt(this.long0+Math.atan2(t.x*Math.sin(u),a*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=c){if(a<=c)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=a*this.cons/(2*this.a*this.k0),n=this.con*nt(this.e,r),e=this.con*tt(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(a*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,a<=c?o=this.X0:(o=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/a),e=tt(this.long0+Math.atan2(t.x*Math.sin(i),a*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*nt(this.e,Math.tan(.5*(s+o)));return t.x=e,t.y=n,t}var mn=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],vn={init:dn,forward:yn,inverse:gn,names:mn,ssfn_:fn};function _n(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=this.rf,i=1/r,o=2*i-Math.pow(i,2),s=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*u+this.alpha*s/2*l}function bn(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t}function wn(t){var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),s=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),a=this.lambda0+s/this.alpha,u=0,l=o,c=-1e3,p=0;while(Math.abs(l-c)>1e-7){if(++p>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),c=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=l,t}var xn=["somerc"],Sn={init:_n,forward:bn,inverse:wn,names:xn};function En(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,o=et(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=et(this.e,this.lat1,Math.sin(this.lat1)),u=et(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var l=Math.pow(a,this.bl),c=Math.pow(u,this.bl);r=this.el/l,i=.5*(r-1/r);var p=(this.el*this.el-c*l)/(this.el*this.el+c*l),h=(c-l)/(c+l),f=tt(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*f)/h)/this.bl,this.long0=tt(this.long0);var d=tt(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/i),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else r=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=r*Math.pow(o,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))}function Cn(t){var e,n,r,i=t.x,o=t.y,a=tt(i-this.long0);if(Math.abs(Math.abs(o)-s)<=c)r=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(f+r*this.gamma0*.5)),e=-1*r*s*this.al/this.bl;else{var u=et(this.e,o,Math.sin(o)),l=this.el/Math.pow(u,this.bl),p=.5*(l-1/l),h=.5*(l+1/l),d=Math.sin(this.bl*a),y=(p*Math.sin(this.gamma0)-d*Math.cos(this.gamma0))/h;n=Math.abs(Math.abs(y)-1)<=c?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-y)/(1+y))/this.bl,e=Math.abs(Math.cos(this.bl*a))<=c?this.al*this.bl*a:this.al*Math.atan2(p*Math.cos(this.gamma0)+d*Math.sin(this.gamma0),Math.cos(this.bl*a))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t}function Pn(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),o=.5*(r+1/r),a=Math.sin(this.bl*e/this.al),u=(a*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/o,l=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<c?(t.x=this.long0,t.y=s):Math.abs(u+1)<c?(t.x=this.long0,t.y=-1*s):(t.y=nt(this.e,l),t.x=tt(this.long0-Math.atan2(i*Math.cos(this.gamma0)-a*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}var In=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],On={init:En,forward:Cn,inverse:Pn,names:In};function Mn(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<c)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=K(this.e,e,n),i=et(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=K(this.e,o,s),u=et(this.e,this.lat2,o),l=et(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>c?this.ns=Math.log(r/a)/Math.log(i/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Tn(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=c&&(n=$(n)*(s-2*c));var r,i,o=Math.abs(Math.abs(n)-s);if(o>c)r=et(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if(o=n*this.ns,o<=0)return null;i=0}var a=this.ns*tt(e-this.long0);return t.x=this.k0*(i*Math.sin(a))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(a))+this.y0,t}function Nn(t){var e,n,r,i,o,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),n=1):(e=-Math.sqrt(a*a+u*u),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*a,n*u)),0!==e||this.ns>0){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),i=nt(this.e,r),-9999===i)return null}else i=-s;return o=tt(l/this.ns+this.long0),t.x=o,t.y=i,t}var jn=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],Ln={init:Mn,forward:Tn,inverse:Nn,names:jn};function An(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function kn(t){var e,n,r,i,o,s,a,u=t.x,l=t.y,c=tt(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),o=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Rn(t){var e,n,r,i,o,s,a,u,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),i=o/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,u=0;var c=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(u=1),a=t.y,c+=1}while(0===u&&c<15);return c>=15?null:t}var Dn=["Krovak","krovak"],Fn={init:An,forward:kn,inverse:Rn,names:Dn},Bn=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},Gn=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},Un=function(t){return.375*t*(1+.25*t*(1+.46875*t))},qn=function(t){return.05859375*t*t*(1+.75*t)},zn=function(t){return t*t*t*(35/3072)},Vn=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)},Zn=function(t){return Math.abs(t)<s?t:t-$(t)*Math.PI},Xn=function(t,e,n,r,i){var o,s;o=t/e;for(var a=0;a<15;a++)if(s=(t-(e*o-n*Math.sin(2*o)+r*Math.sin(4*o)-i*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*r*Math.cos(4*o)-6*i*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN};function Yn(){this.sphere||(this.e0=Gn(this.es),this.e1=Un(this.es),this.e2=qn(this.es),this.e3=zn(this.es),this.ml0=this.a*Bn(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Wn(t){var e,n,r=t.x,i=t.y;if(r=tt(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var o=Math.sin(i),s=Math.cos(i),a=Vn(this.a,this.e,o),u=Math.tan(i)*Math.tan(i),l=r*Math.cos(i),c=l*l,p=this.es*s*s/(1-this.es),h=this.a*Bn(this.e0,this.e1,this.e2,this.e3,i);e=a*l*(1-c*u*(1/6-(8-u+8*p)*c/120)),n=h-this.ml0+a*o/s*c*(.5+(5-u+6*p)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function Hn(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var o=i+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(o))}else{var a=this.ml0/this.a+i,u=Xn(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-s)<=c)return t.x=this.long0,t.y=s,i<0&&(t.y*=-1),t;var l=Vn(this.a,this.e,Math.sin(u)),p=l*l*l/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(u),2),f=r*this.a/l,d=f*f;e=u-l*Math.tan(u)/p*f*f*(.5-(1+3*h)*f*f/24),n=f*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(u)}return t.x=tt(n+this.long0),t.y=Zn(e),t}var Jn=["Cassini","Cassini_Soldner","cass"],Qn={init:Yn,forward:Wn,inverse:Hn,names:Jn},Kn=function(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e},$n=1,tr=2,er=3,nr=4;function rr(){var t,e=Math.abs(this.lat0);if(Math.abs(e-s)<c?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<c?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Kn(this.e,1),this.mmf=.5/(1-this.es),this.apa=hr(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Kn(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function ir(t){var e,n,r,i,o,a,u,l,p,h,d=t.x,y=t.y;if(d=tt(d-this.long0),this.sphere){if(o=Math.sin(y),h=Math.cos(y),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(n=this.mode===this.EQUIT?1+h*r:1+this.sinph0*o+this.cosph0*h*r,n<=c)return null;n=Math.sqrt(2/n),e=n*h*Math.sin(d),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*h*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(y+this.phi0)<c)return null;n=f-.5*y,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(d),n*=r}}else{switch(u=0,l=0,p=0,r=Math.cos(d),i=Math.sin(d),o=Math.sin(y),a=Kn(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(u=a/this.qp,l=Math.sqrt(1-u*u)),this.mode){case this.OBLIQ:p=1+this.sinb1*u+this.cosb1*l*r;break;case this.EQUIT:p=1+l*r;break;case this.N_POLE:p=s+y,a=this.qp-a;break;case this.S_POLE:p=y-s,a=this.qp+a;break}if(Math.abs(p)<c)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),n=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*u-this.sinb1*l*r):(p=Math.sqrt(2/(1+l*r)))*u*this.ymf,e=this.xmf*p*l*i;break;case this.N_POLE:case this.S_POLE:a>=0?(e=(p=Math.sqrt(a))*i,n=r*(this.mode===this.S_POLE?p:-p)):e=n=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function or(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,o,a,u,l=t.x/this.a,p=t.y/this.a;if(this.sphere){var h,f=0,d=0;if(h=Math.sqrt(l*l+p*p),n=.5*h,n>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),f=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(h)<=c?0:Math.asin(p*d/h),l*=d,p=f*h;break;case this.OBLIQ:n=Math.abs(h)<=c?this.phi0:Math.asin(f*this.sinph0+p*d*this.cosph0/h),l*=d*this.cosph0,p=(f-Math.sin(n)*this.sinph0)*h;break;case this.N_POLE:p=-p,n=s-n;break;case this.S_POLE:n-=s;break}e=0!==p||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,p):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,p*=this.dd,a=Math.sqrt(l*l+p*p),a<c)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*a/this.rq),r=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(u=r*this.sinb1+p*i*this.cosb1/a,o=this.qp*u,p=a*this.cosb1*r-p*this.sinb1*i):(u=p*i/a,o=this.qp*u,p=a*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(p=-p),o=l*l+p*p,!o)return t.x=0,t.y=this.phi0,t;u=1-o/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(l,p),n=fr(Math.asin(u),this.apa)}return t.x=tt(this.long0+e),t.y=n,t}var sr=.3333333333333333,ar=.17222222222222222,ur=.10257936507936508,lr=.06388888888888888,cr=.0664021164021164,pr=.016415012942191543;function hr(t){var e,n=[];return n[0]=t*sr,e=t*t,n[0]+=e*ar,n[1]=e*lr,e*=t,n[0]+=e*ur,n[1]+=e*cr,n[2]=e*pr,n}function fr(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}var dr=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],yr={init:rr,forward:ir,inverse:or,names:dr,S_POLE:$n,N_POLE:tr,EQUIT:er,OBLIQ:nr},gr=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};function mr(){Math.abs(this.lat1+this.lat2)<c||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=K(this.e3,this.sin_po,this.cos_po),this.qs1=Kn(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=K(this.e3,this.sin_po,this.cos_po),this.qs2=Kn(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Kn(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>c?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function vr(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=Kn(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,o=this.ns0*tt(e-this.long0),s=i*Math.sin(o)+this.x0,a=this.rh-i*Math.cos(o)+this.y0;return t.x=s,t.y=a,t}function _r(t){var e,n,r,i,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),i=0,0!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,s=this.phi1z(this.e3,n)),o=tt(i/this.ns0+this.long0),t.x=o,t.y=s,t}function br(t,e){var n,r,i,o,s,a=gr(.5*e);if(t<c)return a;for(var u=t*t,l=1;l<=25;l++)if(n=Math.sin(a),r=Math.cos(a),i=t*n,o=1-i*i,s=.5*o*o/r*(e/(1-u)-n/o+.5/t*Math.log((1-i)/(1+i))),a+=s,Math.abs(s)<=1e-7)return a;return null}var wr=["Albers_Conic_Equal_Area","Albers","aea"],xr={init:mr,forward:vr,inverse:_r,names:wr,phi1z:br};function Sr(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Er(t){var e,n,r,i,o,s,a,u,l=t.x,p=t.y;return r=tt(l-this.long0),e=Math.sin(p),n=Math.cos(p),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*i,o=1,s>0||Math.abs(s)<=c?(a=this.x0+this.a*o*n*Math.sin(r)/s,u=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*i)/s):(a=this.x0+this.infinity_dist*n*Math.sin(r),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=u,t}function Cr(t){var e,n,r,i,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),s=gr(r*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),o=tt(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t}var Pr=["gnom"],Ir={init:Sr,forward:Er,inverse:Cr,names:Pr},Or=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*s:s;for(var r,i,o,a,u=Math.asin(.5*e),l=0;l<30;l++)if(i=Math.sin(u),o=Math.cos(u),a=t*i,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-i/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),u+=r,Math.abs(r)<=1e-10)return u;return NaN};function Mr(){this.sphere||(this.k0=K(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Tr(t){var e,n,r=t.x,i=t.y,o=tt(r-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=Kn(this.e,Math.sin(i));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t}function Nr(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=tt(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=Or(this.e,2*t.y*this.k0/this.a),e=tt(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}var jr=["cea"],Lr={init:Mr,forward:Tr,inverse:Nr,names:jr};function Ar(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function kr(t){var e=t.x,n=t.y,r=tt(e-this.long0),i=Zn(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t}function Rr(t){var e=t.x,n=t.y;return t.x=tt(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Zn(this.lat0+(n-this.y0)/this.a),t}var Dr=["Equirectangular","Equidistant_Cylindrical","eqc"],Fr={init:Ar,forward:kr,inverse:Rr,names:Dr},Br=20;function Gr(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Gn(this.es),this.e1=Un(this.es),this.e2=qn(this.es),this.e3=zn(this.es),this.ml0=this.a*Bn(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Ur(t){var e,n,r,i=t.x,o=t.y,s=tt(i-this.long0);if(r=s*Math.sin(o),this.sphere)Math.abs(o)<=c?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(o),n=this.a*(Zn(o-this.lat0)+(1-Math.cos(r))/Math.tan(o)));else if(Math.abs(o)<=c)e=this.a*s,n=-1*this.ml0;else{var a=Vn(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(r),n=this.a*Bn(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t}function qr(t){var e,n,r,i,o,s,a,u,l;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=c)e=tt(r/this.a+this.long0),n=0;else{var p;for(s=this.lat0+i/this.a,a=r*r/this.a/this.a+s*s,u=s,o=Br;o;--o)if(p=Math.tan(u),l=-1*(s*(u*p+1)-u-.5*(u*u+a)*p)/((u-s)/p-1),u+=l,Math.abs(l)<=c){n=u;break}e=tt(this.long0+Math.asin(r*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=c)n=0,e=tt(this.long0+r/this.a);else{var h,f,d,y,g;for(s=(this.ml0+i)/this.a,a=r*r/this.a/this.a+s*s,u=s,o=Br;o;--o)if(g=this.e*Math.sin(u),h=Math.sqrt(1-g*g)*Math.tan(u),f=this.a*Bn(this.e0,this.e1,this.e2,this.e3,u),d=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),y=f/this.a,l=(s*(h*y+1)-y-.5*h*(y*y+a))/(this.es*Math.sin(2*u)*(y*y+a-2*s*y)/(4*h)+(s-y)*(h*d-2/Math.sin(2*u))-d),u-=l,Math.abs(l)<=c){n=u;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=tt(this.long0+Math.asin(r*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}var zr=["Polyconic","poly"],Vr={init:Gr,forward:Ur,inverse:qr,names:zr};function Zr(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Xr(t){var e,n=t.x,r=t.y,i=r-this.lat0,s=n-this.long0,a=i/o*1e-5,u=s,l=1,c=0;for(e=1;e<=10;e++)l*=a,c+=this.A[e]*l;var p,h,f=c,d=u,y=1,g=0,m=0,v=0;for(e=1;e<=6;e++)p=y*f-g*d,h=g*f+y*d,y=p,g=h,m=m+this.B_re[e]*y-this.B_im[e]*g,v=v+this.B_im[e]*y+this.B_re[e]*g;return t.x=v*this.a+this.x0,t.y=m*this.a+this.y0,t}function Yr(t){var e,n,r,i=t.x,s=t.y,a=i-this.x0,u=s-this.y0,l=u/this.a,c=a/this.a,p=1,h=0,f=0,d=0;for(e=1;e<=6;e++)n=p*l-h*c,r=h*l+p*c,p=n,h=r,f=f+this.C_re[e]*p-this.C_im[e]*h,d=d+this.C_im[e]*p+this.C_re[e]*h;for(var y=0;y<this.iterations;y++){var g,m,v=f,_=d,b=l,w=c;for(e=2;e<=6;e++)g=v*f-_*d,m=_*f+v*d,v=g,_=m,b+=(e-1)*(this.B_re[e]*v-this.B_im[e]*_),w+=(e-1)*(this.B_im[e]*v+this.B_re[e]*_);v=1,_=0;var x=this.B_re[1],S=this.B_im[1];for(e=2;e<=6;e++)g=v*f-_*d,m=_*f+v*d,v=g,_=m,x+=e*(this.B_re[e]*v-this.B_im[e]*_),S+=e*(this.B_im[e]*v+this.B_re[e]*_);var E=x*x+S*S;f=(b*x+w*S)/E,d=(w*x-b*S)/E}var C=f,P=d,I=1,O=0;for(e=1;e<=9;e++)I*=C,O+=this.D[e]*I;var M=this.lat0+O*o*1e5,T=this.long0+P;return t.x=T,t.y=M,t}var Wr=["New_Zealand_Map_Grid","nzmg"],Hr={init:Zr,forward:Xr,inverse:Yr,names:Wr};function Jr(){}function Qr(t){var e=t.x,n=t.y,r=tt(e-this.long0),i=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=o,t}function Kr(t){t.x-=this.x0,t.y-=this.y0;var e=tt(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}var $r=["Miller_Cylindrical","mill"],ti={init:Jr,forward:Qr,inverse:Kr,names:$r},ei=20;function ni(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ie(this.es)}function ri(t){var e,n,r=t.x,i=t.y;if(r=tt(r-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(i),s=ei;s;--s){var a=(this.m*i+Math.sin(i)-o)/(this.m+Math.cos(i));if(i-=a,Math.abs(a)<c)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var u=Math.sin(i),l=Math.cos(i);n=this.a*Oe(i,u,l,this.en),e=this.a*r*l/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t}function ii(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=gr((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=gr(Math.sin(e)/this.n)),r=tt(r+this.long0),e=Zn(e)):(e=Te(t.y/this.a,this.es,this.en),i=Math.abs(e),i<s?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=tt(n)):i-c<s&&(r=this.long0)),t.x=r,t.y=e,t}var oi=["Sinusoidal","sinu"],si={init:ni,forward:ri,inverse:ii,names:oi};function ai(){}function ui(t){var e=t.x,n=t.y,r=tt(e-this.long0),i=n,o=Math.PI*Math.sin(n);while(1){var s=-(i+Math.sin(i)-o)/(1+Math.cos(i));if(i+=s,Math.abs(s)<c)break}i/=2,Math.PI/2-Math.abs(n)<c&&(r=0);var a=.900316316158*this.a*r*Math.cos(i)+this.x0,u=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=a,t.y=u,t}function li(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var r=tt(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t}var ci=["Mollweide","moll"],pi={init:ai,forward:ui,inverse:li,names:ci};function hi(){Math.abs(this.lat1+this.lat2)<c||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Gn(this.es),this.e1=Un(this.es),this.e2=qn(this.es),this.e3=zn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=K(this.e,this.sinphi,this.cosphi),this.ml1=Bn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<c?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=K(this.e,this.sinphi,this.cosphi),this.ml2=Bn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Bn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function fi(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Bn(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var o=this.ns*tt(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t}function di(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=tt(this.long0+o/this.ns),r=Zn(this.g-n/this.a),t.x=i,t.y=r,t;var s=this.g-n/this.a;return r=Xn(s,this.e0,this.e1,this.e2,this.e3),i=tt(this.long0+o/this.ns),t.x=i,t.y=r,t}var yi=["Equidistant_Conic","eqdc"],gi={init:hi,forward:fi,inverse:di,names:yi};function mi(){this.R=this.a}function vi(t){var e,n,r=t.x,i=t.y,o=tt(r-this.long0);Math.abs(i)<=c&&(e=this.x0+this.R*o,n=this.y0);var a=gr(2*Math.abs(i/Math.PI));(Math.abs(o)<=c||Math.abs(Math.abs(i)-s)<=c)&&(e=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*a):this.y0+Math.PI*this.R*-Math.tan(.5*a));var u=.5*Math.abs(Math.PI/o-o/Math.PI),l=u*u,p=Math.sin(a),h=Math.cos(a),f=h/(p+h-1),d=f*f,y=f*(2/p-1),g=y*y,m=Math.PI*this.R*(u*(f-g)+Math.sqrt(l*(f-g)*(f-g)-(g+l)*(d-g)))/(g+l);o<0&&(m=-m),e=this.x0+m;var v=l+f;return m=Math.PI*this.R*(y*v-u*Math.sqrt((g+l)*(l+1)-v*v))/(g+l),n=i>=0?this.y0+m:this.y0-m,t.x=e,t.y=n,t}function _i(t){var e,n,r,i,o,s,a,u,l,p,h,f,d;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,r=t.x/h,i=t.y/h,o=r*r+i*i,s=-Math.abs(i)*(1+o),a=s-2*i*i+r*r,u=-2*s+1+2*i*i+o*o,d=i*i/u+(2*a*a*a/u/u/u-9*s*a/u/u)/27,l=(s-a*a/3/u)/u,p=2*Math.sqrt(-l/3),h=3*d/l/p,Math.abs(h)>1&&(h=h>=0?1:-1),f=Math.acos(h)/3,n=t.y>=0?(-p*Math.cos(f+Math.PI/3)-a/3/u)*Math.PI:-(-p*Math.cos(f+Math.PI/3)-a/3/u)*Math.PI,e=Math.abs(r)<c?this.long0:tt(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(r*r-i*i)+o*o))/2/r),t.x=e,t.y=n,t}var bi=["Van_der_Grinten_I","VanDerGrinten","vandg"],wi={init:mi,forward:vi,inverse:_i,names:bi};function xi(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Si(t){var e,n,r,i,o,a,u,l,p,h,f,d,y,g,m,v,_,b,w,x,S,E,C,P=t.x,I=t.y,O=Math.sin(t.y),M=Math.cos(t.y),T=tt(P-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=c?(t.x=this.x0+this.a*(s-I)*Math.sin(T),t.y=this.y0-this.a*(s-I)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=c?(t.x=this.x0+this.a*(s+I)*Math.sin(T),t.y=this.y0+this.a*(s+I)*Math.cos(T),t):(b=this.sin_p12*O+this.cos_p12*M*Math.cos(T),v=Math.acos(b),_=v/Math.sin(v),t.x=this.x0+this.a*_*M*Math.sin(T),t.y=this.y0+this.a*_*(this.cos_p12*O-this.sin_p12*M*Math.cos(T)),t):(e=Gn(this.es),n=Un(this.es),r=qn(this.es),i=zn(this.es),Math.abs(this.sin_p12-1)<=c?(o=this.a*Bn(e,n,r,i,s),a=this.a*Bn(e,n,r,i,I),t.x=this.x0+(o-a)*Math.sin(T),t.y=this.y0-(o-a)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=c?(o=this.a*Bn(e,n,r,i,s),a=this.a*Bn(e,n,r,i,I),t.x=this.x0+(o+a)*Math.sin(T),t.y=this.y0+(o+a)*Math.cos(T),t):(u=O/M,l=Vn(this.a,this.e,this.sin_p12),p=Vn(this.a,this.e,O),h=Math.atan((1-this.es)*u+this.es*l*this.sin_p12/(p*M)),f=Math.atan2(Math.sin(T),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(T)),w=0===f?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(f)-Math.PI)<=c?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(T)*Math.cos(h)/Math.sin(f)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),y=this.e*this.cos_p12*Math.cos(f)/Math.sqrt(1-this.es),g=d*y,m=y*y,x=w*w,S=x*w,E=S*w,C=E*w,v=l*w*(1-x*m*(1-m)/6+S/8*g*(1-2*m)+E/120*(m*(4-7*m)-3*d*d*(1-7*m))-C/48*g),t.x=this.x0+v*Math.sin(f),t.y=this.y0+v*Math.cos(f),t))}function Ei(t){var e,n,r,i,o,a,u,l,p,h,f,d,y,g,m,v,_,b,w,x,S,E,C;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*s*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=c?a=this.lat0:(a=gr(i*this.sin_p12+t.y*r*this.cos_p12/e),u=Math.abs(this.lat0)-s,o=Math.abs(u)<=c?this.lat0>=0?tt(this.long0+Math.atan2(t.x,-t.y)):tt(this.long0-Math.atan2(-t.x,t.y)):tt(this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=o,t.y=a,t}return l=Gn(this.es),p=Un(this.es),h=qn(this.es),f=zn(this.es),Math.abs(this.sin_p12-1)<=c?(d=this.a*Bn(l,p,h,f,s),e=Math.sqrt(t.x*t.x+t.y*t.y),y=d-e,a=Xn(y/this.a,l,p,h,f),o=tt(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=a,t):Math.abs(this.sin_p12+1)<=c?(d=this.a*Bn(l,p,h,f,s),e=Math.sqrt(t.x*t.x+t.y*t.y),y=e-d,a=Xn(y/this.a,l,p,h,f),o=tt(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=a,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),g=Vn(this.a,this.e,this.sin_p12),_=Math.cos(v),b=this.e*this.cos_p12*_,w=-b*b/(1-this.es),x=3*this.es*(1-w)*this.sin_p12*this.cos_p12*_/(1-this.es),S=e/g,E=S-w*(1+w)*Math.pow(S,3)/6-x*(1+3*w)*Math.pow(S,4)/24,C=1-w*E*E/2-S*E*E*E/6,m=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*_),o=tt(this.long0+Math.asin(Math.sin(v)*Math.sin(E)/Math.cos(m))),a=Math.atan((1-this.es*C*this.sin_p12/Math.sin(m))*Math.tan(m)/(1-this.es)),t.x=o,t.y=a,t)}var Ci=["Azimuthal_Equidistant","aeqd"],Pi={init:xi,forward:Si,inverse:Ei,names:Ci};function Ii(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Oi(t){var e,n,r,i,o,s,a,u,l=t.x,p=t.y;return r=tt(l-this.long0),e=Math.sin(p),n=Math.cos(p),i=Math.cos(r),s=this.sin_p14*e+this.cos_p14*n*i,o=1,(s>0||Math.abs(s)<=c)&&(a=this.a*o*n*Math.sin(r),u=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*i)),t.x=a,t.y=u,t}function Mi(t){var e,n,r,i,o,a,u;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=gr(e/this.a),r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=c?(u=this.lat0,t.x=a,t.y=u,t):(u=gr(i*this.sin_p14+t.y*r*this.cos_p14/e),o=Math.abs(this.lat0)-s,Math.abs(o)<=c?(a=this.lat0>=0?tt(this.long0+Math.atan2(t.x,-t.y)):tt(this.long0-Math.atan2(-t.x,t.y)),t.x=a,t.y=u,t):(a=tt(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r)),t.x=a,t.y=u,t))}var Ti=["ortho"],Ni={init:Ii,forward:Oi,inverse:Mi,names:Ti},ji={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Li={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Ai(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=s-f/2?this.face=ji.TOP:this.lat0<=-(s-f/2)?this.face=ji.BOTTOM:Math.abs(this.long0)<=f?this.face=ji.FRONT:Math.abs(this.long0)<=s+f?this.face=this.long0>0?ji.RIGHT:ji.LEFT:this.face=ji.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function ki(t){var e,n,r,i,o,a,u={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===ji.TOP)i=s-e,n>=f&&n<=s+f?(l.value=Li.AREA_0,r=n-s):n>s+f||n<=-(s+f)?(l.value=Li.AREA_1,r=n>0?n-y:n+y):n>-(s+f)&&n<=-f?(l.value=Li.AREA_2,r=n+s):(l.value=Li.AREA_3,r=n);else if(this.face===ji.BOTTOM)i=s+e,n>=f&&n<=s+f?(l.value=Li.AREA_0,r=-n+s):n<f&&n>=-f?(l.value=Li.AREA_1,r=-n):n<-f&&n>=-(s+f)?(l.value=Li.AREA_2,r=-n-s):(l.value=Li.AREA_3,r=n>0?-n+y:-n-y);else{var c,p,h,d,g,m,v;this.face===ji.RIGHT?n=Fi(n,+s):this.face===ji.BACK?n=Fi(n,+y):this.face===ji.LEFT&&(n=Fi(n,-s)),d=Math.sin(e),g=Math.cos(e),m=Math.sin(n),v=Math.cos(n),c=g*v,p=g*m,h=d,this.face===ji.FRONT?(i=Math.acos(c),r=Di(i,h,p,l)):this.face===ji.RIGHT?(i=Math.acos(p),r=Di(i,h,-c,l)):this.face===ji.BACK?(i=Math.acos(-c),r=Di(i,h,-p,l)):this.face===ji.LEFT?(i=Math.acos(-p),r=Di(i,h,c,l)):(i=r=0,l.value=Li.AREA_0)}return a=Math.atan(12/y*(r+Math.acos(Math.sin(r)*Math.cos(f))-s)),o=Math.sqrt((1-Math.cos(i))/(Math.cos(a)*Math.cos(a))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Li.AREA_1?a+=s:l.value===Li.AREA_2?a+=y:l.value===Li.AREA_3&&(a+=1.5*y),u.x=o*Math.cos(a),u.y=o*Math.sin(a),u.x=u.x*this.a+this.x0,u.y=u.y*this.a+this.y0,t.x=u.x,t.y=u.y,t}function Ri(t){var e,n,r,i,o,a,u,l,c,p,h,f,d={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=Li.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=Li.AREA_1,e-=s):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=Li.AREA_2,e=e<0?e+y:e-y):(g.value=Li.AREA_3,e+=s),c=y/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),a=Math.atan(o),r=Math.cos(e),i=Math.tan(n),u=1-r*r*i*i*(1-Math.cos(Math.atan(1/Math.cos(a)))),u<-1?u=-1:u>1&&(u=1),this.face===ji.TOP)l=Math.acos(u),d.phi=s-l,g.value===Li.AREA_0?d.lam=a+s:g.value===Li.AREA_1?d.lam=a<0?a+y:a-y:g.value===Li.AREA_2?d.lam=a-s:d.lam=a;else if(this.face===ji.BOTTOM)l=Math.acos(u),d.phi=l-s,g.value===Li.AREA_0?d.lam=-a+s:g.value===Li.AREA_1?d.lam=-a:g.value===Li.AREA_2?d.lam=-a-s:d.lam=a<0?-a-y:-a+y;else{var m,v,_;m=u,c=m*m,_=c>=1?0:Math.sqrt(1-c)*Math.sin(a),c+=_*_,v=c>=1?0:Math.sqrt(1-c),g.value===Li.AREA_1?(c=v,v=-_,_=c):g.value===Li.AREA_2?(v=-v,_=-_):g.value===Li.AREA_3&&(c=v,v=_,_=-c),this.face===ji.RIGHT?(c=m,m=-v,v=c):this.face===ji.BACK?(m=-m,v=-v):this.face===ji.LEFT&&(c=m,m=v,v=-c),d.phi=Math.acos(-_)-s,d.lam=Math.atan2(v,m),this.face===ji.RIGHT?d.lam=Fi(d.lam,-s):this.face===ji.BACK?d.lam=Fi(d.lam,-y):this.face===ji.LEFT&&(d.lam=Fi(d.lam,+s))}0!==this.es&&(p=d.phi<0?1:0,h=Math.tan(d.phi),f=this.b/Math.sqrt(h*h+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),p&&(d.phi=-d.phi));return d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t}function Di(t,e,n,r){var i;return t<c?(r.value=Li.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=f?r.value=Li.AREA_0:i>f&&i<=s+f?(r.value=Li.AREA_1,i-=s):i>s+f||i<=-(s+f)?(r.value=Li.AREA_2,i=i>=0?i-y:i+y):(r.value=Li.AREA_3,i+=s)),i}function Fi(t,e){var n=t+e;return n<-y?n+=d:n>+y&&(n-=d),n}var Bi=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],Gi={init:Ai,forward:ki,inverse:Ri,names:Bi},Ui=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],qi=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],zi=.8487,Vi=1.3523,Zi=h/5,Xi=1/Zi,Yi=18,Wi=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Hi=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};function Ji(t,e,n,r){for(var i=e;r;--r){var o=t(i);if(i-=o,Math.abs(o)<n)break}return i}function Qi(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Ki(t){var e=tt(t.x-this.long0),n=Math.abs(t.y),r=Math.floor(n*Zi);r<0?r=0:r>=Yi&&(r=Yi-1),n=h*(n-Xi*r);var i={x:Wi(Ui[r],n)*e,y:Wi(qi[r],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*zi+this.x0,i.y=i.y*this.a*Vi+this.y0,i}function $i(t){var e={x:(t.x-this.x0)/(this.a*zi),y:Math.abs(t.y-this.y0)/(this.a*Vi)};if(e.y>=1)e.x/=Ui[Yi][0],e.y=t.y<0?-s:s;else{var n=Math.floor(e.y*Yi);for(n<0?n=0:n>=Yi&&(n=Yi-1);;)if(qi[n][0]>e.y)--n;else{if(!(qi[n+1][0]<=e.y))break;++n}var r=qi[n],i=5*(e.y-r[0])/(qi[n+1][0]-r[0]);i=Ji((function(t){return(Wi(r,t)-e.y)/Hi(r,t)}),i,c,100),e.x/=Wi(Ui[n],i),e.y=(5*n+i)*p,t.y<0&&(e.y=-e.y)}return e.x=tt(e.x+this.long0),e}var to=["Robinson","robin"],eo={init:Qi,forward:Ki,inverse:$i,names:to};function no(){this.name="geocent"}function ro(t){var e=It(t,this.es,this.a);return e}function io(t){var e=Ot(t,this.es,this.a,this.b);return e}var oo=["Geocentric","geocentric","geocent","Geocent"],so={init:no,forward:ro,inverse:io,names:oo},ao=function(t){t.Proj.projections.add(ke),t.Proj.projections.add(We),t.Proj.projections.add($e),t.Proj.projections.add(hn),t.Proj.projections.add(vn),t.Proj.projections.add(Sn),t.Proj.projections.add(On),t.Proj.projections.add(Ln),t.Proj.projections.add(Fn),t.Proj.projections.add(Qn),t.Proj.projections.add(yr),t.Proj.projections.add(xr),t.Proj.projections.add(Ir),t.Proj.projections.add(Lr),t.Proj.projections.add(Fr),t.Proj.projections.add(Vr),t.Proj.projections.add(Hr),t.Proj.projections.add(ti),t.Proj.projections.add(si),t.Proj.projections.add(pi),t.Proj.projections.add(gi),t.Proj.projections.add(wi),t.Proj.projections.add(Pi),t.Proj.projections.add(Ni),t.Proj.projections.add(Gi),t.Proj.projections.add(eo),t.Proj.projections.add(so)};return qt.defaultDatum="WGS84",qt.Proj=Ct,qt.WGS84=new qt.Proj("WGS84"),qt.Point=de,qt.toPoint=At,qt.defs=U,qt.transform=Ft,qt.mgrs=Qt,qt.version="2.6.0",ao(qt),qt}))},,,,,,,,,,,,,,,,,function(t,e,n){t.exports=n(32)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(29),i=n(30),o=n(31);function s(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=l.prototype):(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,r):"string"===typeof e?d(t,e,n):m(t,e)}function p(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e,n,r){return p(e),e<=0?u(t,e):void 0!==n?"string"===typeof r?u(t,e).fill(n,r):u(t,e).fill(n):u(t,e)}function f(t,e){if(p(e),t=u(t,e<0?0:0|v(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|b(e,n);t=u(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function y(t,e){var n=e.length<0?0:0|v(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function g(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),l.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=l.prototype):t=y(t,e),t}function m(t,e){if(l.isBuffer(e)){var n=0|v(e.length);return t=u(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?u(t,0):y(t,e);if("Buffer"===e.type&&o(e.data))return y(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function _(t){return+t!=t&&(t=0),l.alloc(+t)}function b(t,e){if(l.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return J(t).length;e=(""+e).toLowerCase(),r=!0}}function w(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return D(this,e,n);case"utf8":case"utf-8":return j(this,e,n);case"ascii":return k(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return N(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function x(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function S(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:E(t,e,n,r,i);if("number"===typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):E(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var p=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){p=!1;break}if(p)return o}return-1}function C(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function P(t,e,n,r){return tt(J(e,t.length-n),t,n,r)}function I(t,e,n,r){return tt(Q(e),t,n,r)}function O(t,e,n,r){return I(t,e,n,r)}function M(t,e,n,r){return tt($(e),t,n,r)}function T(t,e,n,r){return tt(K(e,t.length-n),t,n,r)}function N(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function j(t,e,n){n=Math.min(t.length,n);var r=[],i=e;while(i<n){var o,s,a,u,l=t[i],c=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:o=t[i+1],128===(192&o)&&(u=(31&l)<<6|63&o,u>127&&(c=u));break;case 3:o=t[i+1],s=t[i+2],128===(192&o)&&128===(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s,u>2047&&(u<55296||u>57343)&&(c=u));break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a,u>65535&&u<1114112&&(c=u))}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=p}return A(r)}e.Buffer=l,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:s(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return h(null,t,e,n)},l.allocUnsafe=function(t){return f(null,t)},l.allocUnsafeSlow=function(t){return f(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=l.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=b,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?j(this,0,t):w.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,r,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,a=Math.min(o,s),u=this.slice(r,i),c=t.slice(e,n),p=0;p<a;++p)if(u[p]!==c[p]){o=u[p],s=c[p];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return C(this,t,e,n);case"utf8":case"utf-8":return P(this,t,e,n);case"ascii":return I(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return M(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var L=4096;function A(t){var e=t.length;if(e<=L)return String.fromCharCode.apply(String,t);var n="",r=0;while(r<e)n+=String.fromCharCode.apply(String,t.slice(r,r+=L));return n}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function D(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=H(t[o]);return i}function F(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function G(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function q(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function z(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(t,e,n,r,o){return o||z(t,e,n,4,34028234663852886e22,-34028234663852886e22),i.write(t,e,n,r,23,4),n+4}function Z(t,e,n,r,o){return o||z(t,e,n,8,17976931348623157e292,-17976931348623157e292),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=l.prototype;else{var i=e-t;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return r},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t+--e],i=1;while(e>0&&(i*=256))r+=this[t+--e]*i;return r},l.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=this[t],i=1,o=0;while(++o<e&&(i*=256))r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||B(t,e,this.length);var r=e,i=1,o=this[t+--r];while(r>0&&(i*=256))o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;G(this,t,e,n,i,0)}var o=1,s=0;this[e]=255&t;while(++s<n&&(o*=256))this[e+s]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;G(this,t,e,n,i,0)}var o=n-1,s=1;this[e+o]=255&t;while(--o>=0&&(s*=256))this[e+o]=t/s&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):q(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);G(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;this[e]=255&t;while(++o<n&&(s*=256))t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);G(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;this[e+o]=255&t;while(--o>=0&&(s*=256))t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):q(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||G(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):q(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return V(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return V(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return Z(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return Z(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"===typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:J(new l(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function Y(t){if(t=W(t).replace(X,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function K(t,e){for(var n,r,i,o=[],s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r)}return o}function $(t){return r.toByteArray(Y(t))}function tt(t,e,n,r){for(var i=0;i<r;++i){if(i+n>=e.length||i>=t.length)break;e[i+n]=t[i]}return i}function et(t){return t!==t}}).call(this,n(8))},function(t,e,n){"use strict";e.byteLength=c,e.toByteArray=h,e.fromByteArray=y;for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");-1===n&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function c(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r}function p(t,e,n){return 3*(e+n)/4-n}function h(t){var e,n,r=l(t),s=r[0],a=r[1],u=new o(p(t,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e),u}function f(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function d(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(r));return i.join("")}function y(t){for(var e,n=t.length,i=n%3,o=[],s=16383,a=0,u=n-i;a<u;a+=s)o.push(d(t,a,a+s>u?u:a+s));return 1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"=")),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,p=n?i-1:0,h=n?-1:1,f=t[e+p];for(p+=h,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+t[e+p],p+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+p],p+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=l}return(f?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,p=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+p>=1?h/u:h*Math.pow(2,1-p),e*u>=2&&(s++,u/=2),s+p>=c?(a=0,s=c):s+p>=1?(a=(e*u-1)*Math.pow(2,i),s+=p):(a=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+f]=255&s,f+=d,s/=256,l-=8);t[n+f-d]|=128*y}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";n.r(e),n.d(e,"MapGIS",(function(){return oo})),n.d(e,"MapgisEnum",(function(){return so})),n.d(e,"MapgisEvent",(function(){return ao})),n.d(e,"MapgisService",(function(){return uo})),n.d(e,"MapgisSource",(function(){return lo})),n.d(e,"MapgisEllipsoid",(function(){return co})),n.d(e,"MapgisCrs",(function(){return po})),n.d(e,"MapgisIDocument",(function(){return ho})),n.d(e,"MapgisMap",(function(){return fo})),n.d(e,"MapgisLayer",(function(){return yo})),n.d(e,"MapgisFeature",(function(){return go})),n.d(e,"MapgisGeometry",(function(){return mo})),n.d(e,"MapgisVectorTile",(function(){return vo})),n.d(e,"MapgisStyle",(function(){return _o})),n.d(e,"MapgisTheme",(function(){return bo})),n.d(e,"MapgisSpec",(function(){return wo}));var r={};n.r(r),n.d(r,"deepEqual",(function(){return x})),n.d(r,"deepCopy",(function(){return E})),n.d(r,"default",(function(){return C}));var i={};n.r(i),n.d(i,"uuid",(function(){return pt}));var o={};n.r(o),n.d(o,"BackGroundLayer",(function(){return st})),n.d(o,"RasterTileLayer",(function(){return Ft})),n.d(o,"VectorTileLayer",(function(){return Kt})),n.d(o,"IgsLayerType",(function(){return Qt})),n.d(o,"IgsLayerTypeDefine",(function(){return $t})),n.d(o,"defaultId",(function(){return L})),n.d(o,"LayerType",(function(){return j})),n.d(o,"LayerDefine",(function(){return A})),n.d(o,"ILayer",(function(){return k})),n.d(o,"ICommonAction",(function(){})),n.d(o,"IInfo",(function(){return R})),n.d(o,"IStyle",(function(){return D})),n.d(o,"IFilter",(function(){return F})),n.d(o,"ILayout",(function(){return B})),n.d(o,"changeLayerProperty",(function(){return G})),n.d(o,"getLayerById",(function(){return U})),n.d(o,"changeLayerName",(function(){return q})),n.d(o,"changeLayerId",(function(){return V})),n.d(o,"checkLayerVisible",(function(){return Z})),n.d(o,"changeLayersVisible",(function(){return X})),n.d(o,"compareLayers",(function(){return J}));var s={};n.r(s),n.d(s,"BoxBounds",(function(){return re})),n.d(s,"GeoBounds",(function(){return ie})),n.d(s,"BoundsToMap",(function(){return oe})),n.d(s,"MapToBounds",(function(){return se})),n.d(s,"Positon2d",(function(){return ce})),n.d(s,"Positon3d",(function(){return pe})),n.d(s,"ViewState",(function(){return ae})),n.d(s,"EditState",(function(){return ue})),n.d(s,"HighLight",(function(){return le})),n.d(s,"State",(function(){return fe})),n.d(s,"defaultZoom",(function(){return de})),n.d(s,"defaultCenter",(function(){return ye})),n.d(s,"defaultBbox",(function(){return ge})),n.d(s,"defaultExtent",(function(){return me})),n.d(s,"defaultScale",(function(){return ve})),n.d(s,"defaultBounds",(function(){return _e})),n.d(s,"defaultPosition",(function(){return be})),n.d(s,"defaultViewState",(function(){return we})),n.d(s,"defaultEditState",(function(){return xe})),n.d(s,"defaultHighLight",(function(){return Se})),n.d(s,"defaultEnableEventLink",(function(){return Ee})),n.d(s,"defaultEnableZoom",(function(){return Ce})),n.d(s,"defaultMapState",(function(){return Pe}));var a={};n.r(a),n.d(a,"MapRender",(function(){return en})),n.d(a,"Current",(function(){return hn})),n.d(a,"defaultCurrent",(function(){return fn})),n.d(a,"defaultName",(function(){return dn})),n.d(a,"IDocument",(function(){return yn})),n.d(a,"defaultMapRender",(function(){return gn})),n.d(a,"defaultLayer",(function(){return mn})),n.d(a,"defaultBacks",(function(){return vn})),n.d(a,"defaultLayers",(function(){return _n})),n.d(a,"defaultSource",(function(){return bn})),n.d(a,"defaultDocument",(function(){return wn})),n.d(a,"defaultSprites",(function(){return xn})),n.d(a,"defaultGlyphs",(function(){return Sn})),n.d(a,"cloneDocument",(function(){return En})),n.d(a,"deepcloneDocument",(function(){return Cn})),n.d(a,"default",(function(){return Nn}));var u={};n.r(u),n.d(u,"ViewState",(function(){return Pn})),n.d(u,"EditState",(function(){return In})),n.d(u,"HighLight",(function(){return On})),n.d(u,"LayerType",(function(){return Mn}));var l={};n.r(l),n.d(l,"Crs",(function(){return tn})),n.d(l,"EPSG",(function(){return qe})),n.d(l,"ProjectTool",(function(){return Je}));var c={};n.r(c),n.d(c,"EllipsoidMapgisType",(function(){return Tn})),n.d(c,"EllipsoidMapgisDefine",(function(){return jn})),n.d(c,"Scale",(function(){return Dn}));var p={};n.r(p),n.d(p,"Source",(function(){return Fe}));var h={};n.r(h),n.d(h,"Calculator",(function(){return Un})),n.d(h,"Filter",(function(){return Jn}));var f={};n.r(f),n.d(f,"GeoHash",(function(){return ir})),n.d(f,"Lnglat",(function(){return dr}));var d={};n.r(d),n.d(d,"color",(function(){return Zr})),n.d(d,"rgb",(function(){return Hr})),n.d(d,"hsl",(function(){return ni})),n.d(d,"lab",(function(){return mi})),n.d(d,"hcl",(function(){return Ci})),n.d(d,"lch",(function(){return Ei})),n.d(d,"gray",(function(){return gi})),n.d(d,"cubehelix",(function(){return Di}));var y={};n.r(y),n.d(y,"VectorTileType",(function(){return ur})),n.d(y,"VectorTileLayerDefine",(function(){return Er})),n.d(y,"BaseLayer",(function(){return Cr})),n.d(y,"Convert",(function(){return Xi}));var g={};n.r(g),n.d(g,"Theme",(function(){return Qi}));var m={};n.r(m),n.d(m,"Mapbox",(function(){return Ki["latest"]}));var v={};n.r(v),n.d(v,"Sprite",(function(){return no}));var _={};n.r(_),n.d(_,"ServiceType",(function(){return he})),n.d(_,"Service",(function(){return Me})),n.d(_,"IGServer",(function(){return io})),n.d(_,"defaultService",(function(){return Ae}));var b={};function w(t){return w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function x(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!x(t[n],e[n]))return!1;return!0}if("object"===w(t)&&null!==t&&null!==e){if("object"!==w(e))return!1;var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var i in t)if(!x(t[i],e[i]))return!1;return!0}return t===e}function S(t){return"[object Object]"===Object.prototype.toString.call(t)?"Object":"[object Array]"===Object.prototype.toString.call(t)?"Array":"nomal"}function E(t){if("nomal"===S(t))return t;var e="Object"===S(t)?{}:[];for(var n in t)t.hasOwnProperty(n)&&(e[n]=E(t[n]));return e}n.r(b),n.d(b,"Deep",(function(){return r})),n.d(b,"UUID",(function(){return i}));var C=x;function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){O(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),t}var j,L="unknow";(function(t){t["GroupLayer"]="GroupLayer",t["BackGround"]="BackGround",t["BackColor"]="BackColor",t["RasterTile"]="RasterTile",t["VectorTile"]="VectorTile",t["DemWMS"]="DemWMS",t["GeoJSON"]="GeoJSON",t["ShapeFile"]="ShapeFile",t["UnKnow"]="UnKnow"})(j||(j={}));var A={GroupLayer:{type:"",name:"组图层"},BackColor:{type:"",name:"背景颜色"},BackGround:{type:"",name:"背景底图"},RasterTile:{type:"",name:"栅格瓦片"},VectorTile:{type:"",name:"矢量瓦片"},DemWMS:{type:"",name:"DEM"},GeoJSON:{type:"",name:"GeoJSON"},ShapeFile:{type:"",name:"ShapeFile"},UnKnow:{type:"",name:"未知"}},k=function(){function t(){M(this,t)}return N(t,[{key:"changeLayerName",value:function(t,e,n){var r=this,i=n.layers;if(i)return i.map((function(n){n.type==j.GroupLayer?n.children&&r.loopGroupName(t.id,e,n):n.name==t.name&&(n.title=n.name=e)})),i}},{key:"changeSelfVisible",value:function(t){this.layout?this.layout=I({},this.layout,{visible:t}):this.layout={visible:t}}},{key:"loopGroupName",value:function(t,e,n){return n.id==t&&(n&&n["name"]&&(n["name"]=e),n&&n["title"]&&(n["title"]=e)),n.type!=j.GroupLayer||n.children&&n.children.map((function(n){n.type==j.GroupLayer?n=Y(t,e,n):n.id==t&&(n&&void 0!==n.name&&(n.name=e),n&&void 0!==n.title&&(n.title=e))})),n}}]),t}(),R=function t(){M(this,t)},D=function t(){M(this,t)},F=function t(){M(this,t)},B=function t(){M(this,t)};function G(t,e,n){return I({},t,O({},e,n))}function U(t,e,n){var r=[];if(n==en.MapBoxGL){var i=t.getStyle(),o=i.layers;o&&(r=o.filter((function(t){return t.id===e})))}return r}function q(t,e,n){var r=n.layers;if(r)return r.map((function(n){n.type==j.GroupLayer?n.children&&Y(t.id,e,n):n.name==t.name&&(n.title=n.name=e)})),r}function z(t,e){return t.layout?t.layout=I({},t.layout,{visible:e}):t.layout={visible:e},t}function V(t,e,n){var r=n.layers;if(r)return r.map((function(n){n.type==j.GroupLayer?n.children&&W(t.id,e,n):n.id==t.id&&(n.title=n.id=e)})),r}function Z(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e==r)return!0}return!1}function X(t,e){var n=e.layers;if(n)return n=n.map((function(e){return e.type==j.GroupLayer?e.children&&(Z(t,e.id)&&(e.layout={visible:!0}),H(t,e)):(e.layout||(e.layout=new B),e.layout.visible=!1,t.forEach((function(t){t==e.id&&(e.layout.visible=!0)}))),e})),n}function Y(t,e,n){return n.id==t&&(n&&n["name"]&&(n["name"]=e),n&&n["title"]&&(n["title"]=e)),n.type!=j.GroupLayer||n.children&&n.children.map((function(n){n.type==j.GroupLayer?n=Y(t,e,n):n.id==t&&(n&&void 0!==n.name&&(n.name=e),n&&void 0!==n.title&&(n.title=e))})),n}function W(t,e,n){return n.id==t&&(n&&n["id"]&&(n["id"]=e),n&&n["title"]&&(n["title"]=e)),n.type!=j.GroupLayer||n.children&&n.children.map((function(n){n.type==j.GroupLayer?n=W(t,e,n):n.id==t&&(n&&void 0!==n.id&&(n.id=e),n&&void 0!==n.title&&(n.title=e))})),n}function H(t,e){var n=t.checked||t;return e.type!=j.GroupLayer||(Z(n,e.id)?e.layout={visible:!0}:e.layout={visible:!1},e.children&&(e.children=e.children.map((function(t){var e=I({},t);return t.type==j.GroupLayer?e=H(n,e):(e.layout||(e.layout=new B),e.layout.visible=!1,n.forEach((function(t){t==e.id&&(e.layout.visible=!0)}))),e})))),e}function J(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var r=t[n],i=e[n];if(0==x(r,i))return!1}return!0}function Q(t){return Q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(t,e,n){return e&&K(t.prototype,e),n&&K(t,n),t}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){return!e||"object"!==Q(e)&&"function"!==typeof e?nt(t):e}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}function it(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}function ot(t,e){return ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ot(t,e)}var st=function(t){function e(){return tt(this,e),et(this,rt(e).apply(this,arguments))}return it(e,t),e}(k),at=function(t){function e(t,n,r){var i;return tt(this,e),i=et(this,rt(e).call(this)),i.visible=!!t,i.opacity=n||1,i.hue=r||0,i}return it(e,t),$(e,[{key:"setOpacity",value:function(t){this.opacity=t}},{key:"setHue",value:function(t){this.hue=t}}]),e}(D),ut=(new at(!0,1,0),function(t){function e(t){var n;return tt(this,e),n=et(this,rt(e).call(this)),n.visible=t,n}return it(e,t),$(e,[{key:"setOpacity",value:function(t){this.visible=t}}]),e}(B)),lt=!0;new ut(lt);function ct(t,e,n){return n<0||n>=t.length||e<0||e>=t.length||(e>n?(t.splice(n,0,t[e]),t.splice(e+1,1)):(t.splice(n+1,0,t[e]),t.splice(e,1))),t}function pt(){var t=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(t+=performance.now());var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}));return e}function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){dt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yt(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];return t.type!=j.GroupLayer?[]:(!1===e&&n.push(t),t.children&&t.children.forEach((function(t){if(t.type==j.GroupLayer){var r=yt(t,e);n=n.concat(r)}else n.push(t)})),n)}function gt(t,e){var n=void 0;return e.type!=j.GroupLayer?(e.id==t&&(n=n||e),n):(e.children&&e.children.forEach((function(e){e.type==j.GroupLayer?n=n||gt(t,e):e.id==t&&(n=n||e)})),n)}function mt(t,e){var n=-1;return e.children?(e.children.forEach((function(e,r){e.id==t&&(n=r)})),n):n}function vt(t,e){var n=[];return e.type!=j.GroupLayer?[]:(e.children&&e.children.forEach((function(e){if(e.type==j.GroupLayer){var r=vt(t,e);n=n.concat(r)}else e.type==t&&n.push(e)})),n)}function _t(t,e){var n=[];return e.type!=j.GroupLayer?[]:(e.id==t&&n.push(e),e.children&&e.children.forEach((function(e){if(e.type==j.GroupLayer){var r=_t(t,e);n=n.concat(r)}else e.id==t&&n.push(e)})),n)}function bt(t,e,n,r){return r.id==t&&r&&r[e]&&(r[e]=n),r.type!=j.GroupLayer||r.children&&r.children.map((function(r){r.type==j.GroupLayer?r=bt(t,e,n,r):r.id==t&&r&&void 0!==r[e]&&(r[e]=n)})),r}function wt(t,e,n){return n.id==t&&(n=z(n,e)),n.type!=j.GroupLayer||n.children&&n.children.map((function(n){n.type==j.GroupLayer?n=wt(t,e,n):n.id==t&&(n=z(n,e))})),n}function xt(t,e){return e=z(e,t),e.type!=j.GroupLayer||e.children&&e.children.map((function(e){e=e.type==j.GroupLayer?xt(t,e):z(e,t)})),e}function St(t,e,n){if(n.type!=j.GroupLayer)return n;if(n.children)for(var r=0;r<n.children.length;r++){var i=n.children[r];if(i.id===t){n.children=ct(n.children,r,r+e);break}i.type===j.GroupLayer&&(i=St(t,e,i))}return n}function Et(t,e,n){return n&&n.type==j.GroupLayer?(n.id==e?n.children.push(t):n.children&&(n.children=n.children.map((function(n){return n.type==j.GroupLayer&&(n.id==e?n.children.push(t):n=Et(t,e,n)),n}))),n):n}function Ct(t,e,n,r,i){var o=-1;if(n.id==e)o=mt(e,r),o=i?o:o+1,r.children.splice(o,0,t);else if(n.children){var s=n.children.map((function(t){return t}));s.map((function(r,s){r.type==j.GroupLayer?r=Ct(t,e,r,n,i):r.id==e&&(o=i?s:s+1,n.children.splice(o,0,t))}))}return n}function Pt(t,e){if(!e||e.type!=j.GroupLayer)return e;if(e.id==t)e=void 0;else if(e.children){var n=e.children.filter((function(e){return e.type==j.GroupLayer?e.id!=t&&(e=Pt(t,e),!0):t!=e.id}));e.children=n}return e}function It(t,e){if(!e||e.type!=j.GroupLayer)return e;if(e.id==t)e=void 0;else if(e.children){var n,r=-1,i=!1,o=e.children.map((function(e,o){if(e.type==j.GroupLayer)e=It(t,e);else if(e.id==t){r=o+1;var s=pt(),a=e.title+"复制";n=E(e),n=ft({},n,{key:s,id:s,name:a,title:a}),n.key!=e.key&&(i=!0)}return e}));i&&r>0&&o.splice(r,0,n),e.children=o}return e}function Ot(t,e,n){if(!e||e.type!=j.GroupLayer)return e;if(e.id==t)e=void 0;else if(e.children){var r,i,o,s=-1,a=!1;switch(n){case"monodrome":i="单值",o="icon-tongyongdanzhipipei";break;case"subsection":i="分段",o="icon-fenji";break;case"statistics":i="统计",o="icon-tongji";break;case"density":i="密度",o="icon-midufenxiSVG";break;case"grade":i="等级",o="icon-dengji";break}var u=e.children.map((function(e,u){if(e.type==j.GroupLayer)e=Ot(t,e,n);else if(e.id==t){s=u+1;var l=pt(),c=e.title+"-"+i+"专题图",p=n;r=E(e),r=ft({},r,{key:l,id:l,name:c,title:c,special:p,icon:o}),r.key!=e.key&&(a=!0)}return e}));a&&s>0&&u.splice(s,0,r),e.children=u}return e}function Mt(t){return Mt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nt(t,e,n){return e&&Tt(t.prototype,e),n&&Tt(t,n),t}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){return!e||"object"!==Mt(e)&&"function"!==typeof e?At(t):e}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t){return kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},kt(t)}function Rt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Dt(t,e)}function Dt(t,e){return Dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Dt(t,e)}var Ft=function(t){function e(){return jt(this,e),Lt(this,kt(e).apply(this,arguments))}return Rt(e,t),e}(k),Bt=function(t){function e(t,n){var r;return jt(this,e),r=Lt(this,kt(e).call(this)),r.opacity=t||1,r.hue=n||0,r}return Rt(e,t),Nt(e,[{key:"setOpacity",value:function(t){this.opacity=t}},{key:"setHue",value:function(t){this.hue=t}}]),e}(D),Gt={stops:[[0,1],[5,1],[10,1],[15,1],[20,1]]},Ut={stops:[[0,0]]};new Bt(Gt,Ut);var qt=function(t){function e(t){var n;return jt(this,e),n=Lt(this,kt(e).call(this)),n.visible=t,n}return Rt(e,t),Nt(e,[{key:"setOpacity",value:function(t){this.visible=t}}]),e}(B),zt=!0;new qt(zt);function Vt(t){return Vt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){return!e||"object"!==Vt(e)&&"function"!==typeof e?Yt(t):e}function Yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wt(t)}function Ht(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}function Jt(t,e){return Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Jt(t,e)}var Qt,Kt=function(t){function e(){return Zt(this,e),Xt(this,Wt(e).apply(this,arguments))}return Ht(e,t),e}(k);j.VectorTile;(function(t){t["IgsDocLayer"]="IgsDocLayer",t["IgsTileLayer"]="IgsTileLayer",t["IgsVectorLayer"]="IgsVectorLayer",t["IgsWmsLayer"]="IgsWmsLayer",t["IgsWmtsLayer"]="IgsWmtsLayer"})(Qt||(Qt={}));var $t={IgsDocLayer:{type:"raster",subtype:"IgsDocLayer",name:"地图文档"},IgsTileLayer:{type:"raster",subtype:"IgsTileLayer",name:"栅格瓦片"},IgsVectorLayer:{type:"raster",subtype:"IgsVectorLayer",name:"矢量图层"},IgsWmsLayer:{type:"raster",subtype:"IgsWmsLayer",name:"WMS服务"},IgsWmtsLayer:{type:"raster",subtype:"IgsWmtsLayer",name:"WMTS服务"}};function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ee(t,e,n){return e&&te(t.prototype,e),n&&te(t,n),t}function ne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var re=function t(){ne(this,t)},ie=function(){function t(e,n,r,i){ne(this,t),this.west=e,this.south=n,this.east=r,this.north=i}return ee(t,[{key:"geojson",value:function(){return{type:"Feature",geometry:{type:"Polygon",coordinates:[[[this.west,this.south],[this.east,this.south],[this.east,this.north],[this.west,this.north],[this.west,this.south]]]}}}}]),t}();function oe(t,e){var n=null;if(e==en.MapBoxGL){if(!e||!t)return[[-180,-90],[180,90]];t=t,n=[[t.west,t.south],[t.east,t.north]]}else en.Cesium;return n}function se(t,e){var n=null;if(e==en.MapBoxGL){if(!e||!t)return new ie(-180,-90,180,90);n=new ie(t.getEast(),t.getSouth(),t.getWest(),t.getNorth())}else en.Cesium;return n}var ae,ue,le,ce=function t(e,n){ne(this,t),this.x=e,this.y=n},pe=function t(e,n,r){ne(this,t),this.x=e,this.y=n,this.z=r};(function(t){t["Map"]="map",t["Edit"]="edit",t["Query"]="query",t["Print"]="print"})(ae||(ae={})),function(t){t["SIMPLE"]="simple_select",t["DIRECT"]="direct_select",t["POINT"]="draw_point",t["LINE_STRING"]="draw_line_string",t["POLYGON"]="draw_polygon",t["TEXT"]="draw_text",t["TRASH"]="draw_trash"}(ue||(ue={})),function(t){t["Single"]="single",t["Multi"]="multi",t["None"]="none"}(le||(le={}));var he,fe=function t(){ne(this,t)},de=0,ye=[0,0],ge=[-180,90,180,-90],me=[-180,90,180,-90],ve=0,_e=new ie(-180,-90,180,90),be=[0,0,0],we=ae.Query,xe=ue.SIMPLE,Se=le.None,Ee=!1,Ce=!1,Pe={zoom:de,center:ye,bbox:ge,extent:me,scale:ve,bounds:_e,mousePosition:be,viewState:we,editState:xe,highLight:Se,enableEventLink:Ee,enableZoom:Ce};function Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(t){t["IGServer"]="igserver",t["Extend"]="extend"})(he||(he={}));var Oe,Me=function t(){Ie(this,t)},Te={name:"化简服务",type:he.IGServer,url:""},Ne={name:"GEOJSON服务",type:he.IGServer,url:"http://localhost:6163/onemap/layer/query?gdbp={gdbp}&compress=true&level=20&page=0&pageCount=500"},je={name:"军测图幅服务",type:he.Extend,url:"http://{ip}:{port}/igs/rest/mrles/CreateJBPublishData?frameNo={frameNo}&srsName={srsName}&islonlat=true"},Le={ip:"localhost",port:"6163",user:"admin",password:"sa.mapgis",name:"图幅打印",type:he.Extend,url:"http://{ip}:{port}/igs/rest/mrles/OutPutPdf?mapPath={mapPath}&width={width}&height={height}&mode={mode}&dataRect={dataRect}"},Ae={"化简服务":Te,"GEOJSON服务":Ne,"军测图幅服务":je,"图幅打印":Le};function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Re(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function De(t,e,n){return e&&Re(t.prototype,e),n&&Re(t,n),t}(function(t){t["Default"]="Default",t["IGServer"]="IGServer",t["DataStore"]="DataStore",t["GeoJson"]="GeoJson",t["VectorTile"]="VectorTile",t["RasterTile"]="RasterTile",t["M3D"]="M3D"})(Oe||(Oe={}));var Fe=function(){function t(){ke(this,t)}return De(t,null,[{key:"parseSources",value:function(t,e){var n=E(t);if(e==en.MapBoxGL)for(var r in n){var i=n[r],o="vector";switch(i.type){case Oe.VectorTile:o="vector";break;case Oe.RasterTile:o="raster";break;case Oe.GeoJson:o="geojson";break}i.type=o,i.tiles=[i.url],i.minZoom=i.min,i.maxZoom=i.max}else en.Cesium;return n}},{key:"addSource",value:function(t,e,n,r){var i=E(t);return r&&r!=en.MapBoxGL||(i[n]=e),i}},{key:"compareSource",value:function(t,e){return!(!t||!e)&&(t.type==e.type&&t.url==e.url)}},{key:"compareSources",value:function(t,e){if(!t||!e)return!1;if(x(t,e))return!0;var n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&void 0}}]),t}(),Be={name:"默认数据源",type:Oe.Default,url:"localhost",min:0,max:24,description:"默认数据源提供一个默认的空的背景底图，该底图不显示作为游标定位其他图层.默认数据源前端代码内置的无法删除."},Ge={name:"IGServer",type:Oe.VectorTile,url:"http://192.168.10.186:6163/igs/rest/mrms/tile/矢量瓦片湖北/{z}/{y}/{x}?type=cpbf",min:0,max:24,description:"IGServer矢量瓦片数据源测试案例."},Ue={"默认数据源":Be,IGServer:Ge},qe={WGS84:[{id:4326,name:"WGS1984_度",type:0,strProject:"+proj=longlat +datum=WGS84 +no_defs"}],"Web墨卡托":[{id:3857,name:"Web墨卡托_WGS1984",type:1,strProject:"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"}],"经纬度西安80":[{id:4610,name:"地理坐标系(西安)_度",type:0,strProject:"+proj=longlat +a=6378140 +b=6356755.288157528 +units=degrees +no_defs"}],"经纬度北京54":[{id:4214,name:"地理坐标系(北京)_度",type:0,strProject:"+proj=longlat +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +no_defs"}],"经纬度中国2000":[{id:4490,name:"中国2000国家大地坐标系_度",type:0,strProject:"+proj=longlat +ellps=GRS80 +units=degrees +no_defs"}],"高斯西安80":[{id:2348,name:"高斯大地坐标系_西安80_23带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2347,name:"高斯大地坐标系_西安80_22带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2346,name:"高斯大地坐标系_西安80_21带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2345,name:"高斯大地坐标系_西安80_20带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2344,name:"高斯大地坐标系_西安80_19带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2343,name:"高斯大地坐标系_西安80_18带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2342,name:"高斯大地坐标系_西安80_17带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2341,name:"高斯大地坐标系_西安80_16带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2340,name:"高斯大地坐标系_西安80_15带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2339,name:"高斯大地坐标系_西安80_14带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2338,name:"高斯大地坐标系_西安80_13带6_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2390,name:"高斯大地坐标系_西安80_45带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2389,name:"高斯大地坐标系_西安80_44带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2388,name:"高斯大地坐标系_西安80_43带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2387,name:"高斯大地坐标系_西安80_42带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2386,name:"高斯大地坐标系_西安80_41带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2385,name:"高斯大地坐标系_西安80_40带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2384,name:"高斯大地坐标系_西安80_39带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2383,name:"高斯大地坐标系_西安80_38带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2382,name:"高斯大地坐标系_西安80_37带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2381,name:"高斯大地坐标系_西安80_36带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2380,name:"高斯大地坐标系_西安80_35带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2379,name:"高斯大地坐标系_西安80_34带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2378,name:"高斯大地坐标系_西安80_33带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2377,name:"高斯大地坐标系_西安80_32带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2376,name:"高斯大地坐标系_西安80_31带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2375,name:"高斯大地坐标系_西安80_30带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2374,name:"高斯大地坐标系_西安80_29带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2373,name:"高斯大地坐标系_西安80_28带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2372,name:"高斯大地坐标系_西安80_27带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2371,name:"高斯大地坐标系_西安80_26带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2370,name:"高斯大地坐标系_西安80_25带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2327,name:"高斯大地坐标系_西安80_13带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=13500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2328,name:"高斯大地坐标系_西安80_14带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=14500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2329,name:"高斯大地坐标系_西安80_15带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=15500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2330,name:"高斯大地坐标系_西安80_16带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=16500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2331,name:"高斯大地坐标系_西安80_17带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=17500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2332,name:"高斯大地坐标系_西安80_18带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2333,name:"高斯大地坐标系_西安80_19带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2334,name:"高斯大地坐标系_西安80_20带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=20500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2335,name:"高斯大地坐标系_西安80_21带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=21500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2336,name:"高斯大地坐标系_西安80_22带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=22500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2337,name:"高斯大地坐标系_西安80_23带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=23500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2403,name:"高斯大地坐标系_西安80_27带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2404,name:"高斯大地坐标系_西安80_28带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2405,name:"高斯大地坐标系_西安80_29带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2406,name:"高斯大地坐标系_西安80_30带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2407,name:"高斯大地坐标系_西安80_31带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2408,name:"高斯大地坐标系_西安80_32带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2409,name:"高斯大地坐标系_西安80_33带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2410,name:"高斯大地坐标系_西安80_34带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2411,name:"高斯大地坐标系_西安80_35带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2412,name:"高斯大地坐标系_西安80_36带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2413,name:"高斯大地坐标系_西安80_37带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2414,name:"高斯大地坐标系_西安80_38带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2415,name:"高斯大地坐标系_西安80_39带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2416,name:"高斯大地坐标系_西安80_40带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2417,name:"高斯大地坐标系_西安80_41带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2418,name:"高斯大地坐标系_西安80_42带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2419,name:"高斯大地坐标系_西安80_43带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2420,name:"高斯大地坐标系_西安80_44带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2421,name:"高斯大地坐标系_西安80_45带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2349,name:"高斯大地坐标系_西安80_25带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2350,name:"高斯大地坐标系_西安80_26带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2351,name:"高斯大地坐标系_西安80_27带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2352,name:"高斯大地坐标系_西安80_28带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2353,name:"高斯大地坐标系_西安80_29带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2354,name:"高斯大地坐标系_西安80_30带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2355,name:"高斯大地坐标系_西安80_31带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2356,name:"高斯大地坐标系_西安80_32带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2357,name:"高斯大地坐标系_西安80_33带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2358,name:"高斯大地坐标系_西安80_34带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2359,name:"高斯大地坐标系_西安80_35带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2360,name:"高斯大地坐标系_西安80_36带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2361,name:"高斯大地坐标系_西安80_37带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2362,name:"高斯大地坐标系_西安80_38带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2363,name:"高斯大地坐标系_西安80_39带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2364,name:"高斯大地坐标系_西安80_40带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2365,name:"高斯大地坐标系_西安80_41带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2366,name:"高斯大地坐标系_西安80_42带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2367,name:"高斯大地坐标系_西安80_43带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2368,name:"高斯大地坐标系_西安80_44带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"},{id:2369,name:"高斯大地坐标系_西安80_45带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs"}],"高斯北京54":[{id:21413,name:"高斯大地坐标系_北京54_13带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=13500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21414,name:"高斯大地坐标系_北京54_14带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=14500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21415,name:"高斯大地坐标系_北京54_15带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=15500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21416,name:"高斯大地坐标系_北京54_16带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=16500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21417,name:"高斯大地坐标系_北京54_17带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=17500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21418,name:"高斯大地坐标系_北京54_18带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=18500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21419,name:"高斯大地坐标系_北京54_19带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=19500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21420,name:"高斯大地坐标系_北京54_20带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=20500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21421,name:"高斯大地坐标系_北京54_21带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=21500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21422,name:"高斯大地坐标系_北京54_22带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=22500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:21423,name:"高斯大地坐标系_北京54_23带6_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=23500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2431,name:"高斯大地坐标系_北京54_34带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2401,name:"高斯大地坐标系_北京54_25带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:2402,name:"高斯大地坐标系_北京54_26带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +ellps=krass +towgs84=15.8,-154.4,-82.3,0,0,0,0 +units=m +no_defs"},{id:32646,name:"Beijing 1954 / 3-degree Gauss-Kruger CM 102E",type:1,strProject:"+proj=utm +zone=46 +datum=WGS84 +units=m +no_defs"}],"高斯中国2000":[{id:4502,name:"高斯大地坐标系_中国2000_13带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4503,name:"高斯大地坐标系_中国2000_14带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4504,name:"高斯大地坐标系_中国2000_15带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4505,name:"高斯大地坐标系_中国2000_16带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4506,name:"高斯大地坐标系_中国2000_17带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4507,name:"高斯大地坐标系_中国2000_18带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4508,name:"高斯大地坐标系_中国2000_19带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4509,name:"高斯大地坐标系_中国2000_20带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4510,name:"高斯大地坐标系_中国2000_21带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4511,name:"高斯大地坐标系_中国2000_22带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4512,name:"高斯大地坐标系_中国2000_23带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4513,name:"高斯大地坐标系_中国2000_25带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=75 +k=1 +x_0=25500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4514,name:"高斯大地坐标系_中国2000_26带6_北",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=78 +k=1 +x_0=26500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4515,name:"高斯大地坐标系_中国2000_27带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=81 +k=1 +x_0=27500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4516,name:"高斯大地坐标系_中国2000_28带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=84 +k=1 +x_0=28500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4517,name:"高斯大地坐标系_中国2000_29带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=87 +k=1 +x_0=29500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4518,name:"高斯大地坐标系_中国2000_30带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=90 +k=1 +x_0=30500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4519,name:"高斯大地坐标系_中国2000_31带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=93 +k=1 +x_0=31500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4520,name:"高斯大地坐标系_中国2000_32带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=96 +k=1 +x_0=32500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4521,name:"高斯大地坐标系_中国2000_33带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=99 +k=1 +x_0=33500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4522,name:"高斯大地坐标系_中国2000_34带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=102 +k=1 +x_0=34500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4523,name:"高斯大地坐标系_中国2000_35带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=105 +k=1 +x_0=35500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4524,name:"高斯大地坐标系_中国2000_36带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=36500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4525,name:"高斯大地坐标系_中国2000_37带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=37500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4526,name:"高斯大地坐标系_中国2000_38带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=38500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4527,name:"高斯大地坐标系_中国2000_39带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=117 +k=1 +x_0=39500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4528,name:"高斯大地坐标系_中国2000_40带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=120 +k=1 +x_0=40500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4529,name:"高斯大地坐标系_中国2000_41带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=123 +k=1 +x_0=41500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4530,name:"高斯大地坐标系_中国2000_42带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=126 +k=1 +x_0=42500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4531,name:"高斯大地坐标系_中国2000_43带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=129 +k=1 +x_0=43500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4532,name:"高斯大地坐标系_中国2000_44带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=132 +k=1 +x_0=44500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4533,name:"高斯大地坐标系_中国2000_45带3_北2",type:0,strProject:"+proj=tmerc +lat_0=0 +lon_0=135 +k=1 +x_0=45500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4546,name:"高斯大地坐标系_中国2000_37带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=111 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4547,name:"高斯大地坐标系_中国2000_38带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=114 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"},{id:4545,name:"高斯大地坐标系_中国2000_36带3_北",type:1,strProject:"+proj=tmerc +lat_0=0 +lon_0=108 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +units=m +no_defs"}]};function ze(t){var e,n=t.toUpperCase();if(n.indexOf("EPSG:")>=0)e=n.split("EPSG:");else if(n.indexOf("EPSG_")>=0)e=n.split("EPSG_");else{if(!(n.indexOf("EPSG")>=0))return parseInt(t);e=n.split("EPSG")}return e.length>=2?parseInt(e[1]):4326}var Ve=qe,Ze=n(10),Xe=n.n(Ze);function Ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function He(t,e,n){return e&&We(t.prototype,e),n&&We(t,n),t}var Je=function(){function t(){Ye(this,t)}return He(t,null,[{key:"getProj4sCascader",value:function(){var t=Object.keys(Ve).map((function(t){var e={value:t,label:t,children:[]};return e.children=Ve[t].map((function(t){return{value:t.id,label:t.name}})),e}));return t}},{key:"getProj4sDetail",value:function(t){for(var e="",n=Object.keys(Ve),r=0;r<n.length;r++){for(var i=Ve[n[r]],o=0;o<i.length;o++){var s=i[o];if(s.id==t){e=s.strProject;break}}if(""!=e)break}return e}},{key:"proj4Transform",value:function(t,e,n){var r=Xe()(t,e),i=r.forward(n);return i}}]),t}();function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $e(t,e,n){return e&&Ke(t.prototype,e),n&&Ke(t,n),t}var tn=function(){function t(e,n){Qe(this,t),this.epsg=e,this.proj=n}return $e(t,[{key:"projectPoint",value:function(t){var e=ze(this.epsg),n=Je.getProj4sDetail(4326),r="";if(this.epsg&&!this.proj)r=Je.getProj4sDetail(e);else{if(!this.proj)return[0,0];r=this.proj}return Je.proj4Transform(n,r,t)}},{key:"unprojectPoint",value:function(t){var e=ze(this.epsg),n=Je.getProj4sDetail(4326),r="";if(this.epsg&&!this.proj)r=Je.getProj4sDetail(e);else{if(!this.proj)return[0,0];r=this.proj}return Je.proj4Transform(r,n,t)}}],[{key:"clone",value:function(e){var n=e.epsg,r=e.proj,i=new t(n,r);return i}}]),t}();var en,nn="EPSG_3857",rn="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",on=new tn(nn,rn);function sn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(n),!0).forEach((function(e){un(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ln(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cn(t,e,n){return e&&ln(t.prototype,e),n&&ln(t,n),t}function pn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(function(t){t["MapBoxGL"]="mapboxgl",t["Cesium"]="cesium"})(en||(en={}));var hn=function t(){pn(this,t)},fn={id:L,type:j.UnKnow,name:L},dn="默认地图文档",yn=function(){function t(e,n,r,i,o,s,a,u,l,c,p){pn(this,t),this.name=e||dn,this.current=n||fn,this.backgrounds=r||vn,this.layers=i||_n,this.sources=o||Ue,this.service=c||Ae,this.maprender=s||en.MapBoxGL,this.bounds=a||_e,this.sprite=u||xn,this.glyphs=l||Sn,this.crs=p||on}return cn(t,[{key:"getBackgrouds",value:function(){return this.backgrounds}},{key:"getSources",value:function(){return this.sources}},{key:"getCurrent",value:function(t){return t?t&&t.current?t.current:fn:this.current}},{key:"getCurrentLayers",value:function(){return this.current.type==j.UnKnow?[mn]:this.current.type==j.BackGround?this.backgrounds:(this.current.type==j.VectorTile||(this.current.type,j.RasterTile),this.getLayersById(this.current.id))}},{key:"getCurrentLayer",value:function(){if(this.current.type==j.UnKnow)return mn;if(this.current.type==j.BackGround&&this.backgrounds&&this.backgrounds.length>=1)return this.backgrounds[0];if(this.current.type==j.VectorTile||this.current.type==j.RasterTile){var t=this.getLayersById(this.current.id);if(t&&t.length>=1)return t[0]}else{var e=this.getLayersById(this.current.id);if(e&&e.length>=1)return e[0]}return mn}},{key:"getCurrentInfo",value:function(){var t=this.getCurrentLayers(),e=void 0;if(t&&t.length>=1){var n=t[0];switch(n.type){case j.BackGround:e=n.info;break;case j.RasterTile:e=n.info;break;case j.VectorTile:e=n.info;break;case j.DemWMS:e=n.info;break;default:e=n.info;break}}return e}},{key:"getCurrentStyle",value:function(){var t=this.getCurrentLayers(),e=void 0;if(t&&t.length>=1){var n=t[0];switch(n.type){case j.BackGround:e=n.style;break;case j.RasterTile:e=n.style;break;case j.VectorTile:break}}return e}},{key:"getCurrentLayout",value:function(){var t=this.getCurrentLayers(),e=void 0;if(t&&t.length>=1){var n=t[0];switch(n.type){case j.BackGround:e=n.layout;break;case j.RasterTile:e=n.layout;break;case j.VectorTile:e=n.layout;break;case j.DemWMS:e=n.layout;break;default:e=n.layout;break}}return e}},{key:"changeCurrent",value:function(t){for(var e=fn,n=0;n<this.backgrounds.length;n++){var r=this.backgrounds[n];if(r.id==t)return e.id=r.id,e.type=j.BackGround,e.name=r.name,e}for(n=0;n<this.layers.length;n++){var i=this.layers[n];if(i.type==j.GroupLayer){var o=gt(t,i);o&&(e.id=o.id,e.type=o.type,e.name=o.name)}else if(i.id==t)return e.id=i.id,e.type=i.type,e.name=i.name,e}return e}},{key:"getLayers",value:function(){return this.layers}},{key:"getFlatLayers",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=[];return this.layers.forEach((function(n){if(n.type==j.GroupLayer){var r=yt(n,t);e=e.concat(r)}else e.push(n)})),e}},{key:"getCheckedLayers",value:function(e){var n,r,i=[];return e?(r=t.clone(e),n=r.getFlatLayers()):(n=this.getFlatLayers(),console.log("flats",n)),n.forEach((function(t){(!t.layout&&t.type!=j.GroupLayer||t.layout&&1==t.layout.visible||t.type==j.GroupLayer&&t.layout&&t.layout.visible)&&i.push(t.id)})),i}},{key:"getLayersByType",value:function(t){return this.layers.reduce((function(e,n,r,i){var o=[];return n.type==j.GroupLayer?o=vt(t,n):n.type==t&&o.push(n),e.concat(o)}),[])}},{key:"getLayersById",value:function(t){return this.layers.reduce((function(e,n,r,i){var o=[];return n.type==j.GroupLayer?o=_t(t,n):n.id==t&&o.push(n),e.concat(o)}),[])}},{key:"getLayerById",value:function(t){var e=this.layers.reduce((function(e,n,r,i){var o=[];return n.type==j.GroupLayer?o=_t(t,n):n.id==t&&o.push(n),e.concat(o)}),[]);return e.length>0?e[0]:null}},{key:"addLayerInGroup",value:function(t,e){return e?this.layers=this.layers.map((function(n){return n.type==j.GroupLayer&&(n=Et(t,e,n)),n})):this.layers.push(t),this.layers}},{key:"addLayerNearLayer",value:function(t,e,n){if(e){var r=this.layers.map((function(t){return t})),i={children:this.layers};r.map((function(r){r=Ct(t,e,r,i,n)}))}else this.layers.push(t);return this.layers}},{key:"copyLayer",value:function(t){var e,n=-1;return this.layers=this.layers.map((function(r,i){if(r.type==j.GroupLayer)r=It(t,r);else if(r.id==t){n=i+1;var o=pt(),s=r.title+"复制";e=E(r),e=an({},e,{key:o,id:o,name:s,title:s})}return r})),n>0&&this.layers.splice(n,0,e),this.layers}},{key:"specialLayer",value:function(t,e){var n,r,i,o=-1;switch(e){case"monodrome":r="单值",i="icon-tongyongdanzhipipei";break;case"subsection":r="分段",i="icon-fenji";break;case"statistics":r="统计",i="icon-tongji";break;case"density":r="密度",i="icon-midufenxiSVG";break;case"grade":r="等级",i="icon-dengji";break}return this.layers=this.layers.map((function(s,a){if(s.type==j.GroupLayer)s=Ot(t,s,e);else if(s.id==t){o=a+1;var u=pt(),l=s.title+"-"+r+"专题图",c=e;n=E(s),n=an({},n,{key:u,id:u,name:l,title:l,special:c,icon:i})}return s})),o>0&&this.layers.splice(o,0,n),this.layers}},{key:"deleteLayer",value:function(t){return this.layers=this.layers.filter((function(e){return e.type==j.GroupLayer?e.id!=t&&(e=Pt(t,e),!0):e.id!=t})),this.layers}},{key:"fixGroupLayer",value:function(){}},{key:"getSource",value:function(t){var e=this.sources[t];if(e)return e}},{key:"addSource",value:function(t){var e=this.sources[t.name];return e||(this.sources[t.name]=t),this.sources}},{key:"deleteSource",value:function(t){var e=this.sources[t];return e?this.sources[t]=void 0:this.sources}},{key:"updateSource",value:function(t){for(var e in this.sources)e==t.name&&(this.sources[e]=t);return this.sources}},{key:"changeLayerVisible",value:function(t,e){var n=this.layers;if(n)return n.map((function(n){n.type==j.GroupLayer?n.id===t?xt(e,n):n.children&&wt(t,e,n):n.id===t&&(n.layout?n.layout=an({},n.layout,{visible:e}):n.layout={visible:e})})),n}},{key:"checkVisibleLayers",value:function(t){return this.layers=X(t,this),this.layers}},{key:"changeLayerPosition",value:function(t,e){var n=this.layers;if(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.id===t){n=ct(n,r,r+e);break}i.type===j.GroupLayer&&(i=St(t,e,i))}return n}}},{key:"changeLayerProp",value:function(t,e,n){var r=this.layers;if(r)return r.map((function(r){r.type==j.GroupLayer?r.children&&bt(t,e,n,r):r.id==t&&(r[e]=n)})),r}}],[{key:"clone",value:function(e){if(e){var n=e.name,r=e.current,i=e.backgrounds,o=e.layers,s=e.sources,a=e.maprender,u=e.bounds,l=e.sprite,c=e.glyphs,p=e.service,h=new t(n,r,i,o,s,a,u,l,c,p);return h}}},{key:"deepclone",value:function(e){if(e){var n=e.name,r=e.current,i=e.backgrounds,o=e.layers,s=e.sources,a=e.maprender,u=e.bounds,l=e.sprite,c=e.glyphs,p=e.service,h=e.crs,f=[];o.forEach((function(t){var e=E(t);f.push(e)}));var d=new t(n,r,i,f,s,a,u,l,c,p,h);return d}}},{key:"Default",value:function(){return wn}}]),t}(),gn=en.MapBoxGL,mn={type:j.UnKnow,name:j.UnKnow,id:j.UnKnow,key:j.UnKnow},vn=[{title:"浅色背景",name:"MapBox浅色背景",id:"mapboxlight",key:"mapboxlight",description:"MapboxGL提供的浅色背景图，版本是v4, WMTS服务",icon:"icon-background",type:j.BackGround,url:"",tileUrl:"https://api.tiles.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png?access_token=sk.eyJ1IjoiY2hlbmdkYWRhIiwiYSI6ImNqZDFjaGo0ZjFzcnoyeG54enoxdnNuZHUifQ.hTWXXBUQ0wdGeuDF3GWeUw",imgUrl:"https://user-images.githubusercontent.com/23654117/56859980-16e31c80-69c4-11e9-9e15-0980bd7ff947.png"}],_n=[],bn=Ue,wn=new yn(dn,fn,vn,_n,Ue,en.MapBoxGL),xn="http://localhost:6163/igs/rest/mrms/vtiles/sprite",Sn="http://localhost:6163/igs/rest/mrms/vtiles/fonts/{fontstack}/{range}.pbf";function En(t){var e=t.name,n=t.current,r=t.backgrounds,i=t.layers,o=t.sources,s=t.maprender,a=t.bounds,u=t.sprite,l=t.glyphs,c=t.service,p=new yn(e,n,r,i,o,s,a,u,l,c);return p}function Cn(t){var e=t.name,n=t.current,r=t.backgrounds,i=t.layers,o=t.sources,s=t.maprender,a=t.bounds,u=t.sprite,l=t.glyphs,c=t.service,p=t.crs,h=[];i.forEach((function(t){var e=E(t);h.push(e)}));var f=new yn(e,n,r,h,o,s,a,u,l,c,p);return f}var Pn,In,On,Mn,Tn,Nn=yn;(function(t){t["Map"]="map",t["Edit"]="edit",t["Query"]="query",t["Print"]="print"})(Pn||(Pn={})),function(t){t["SIMPLE"]="simple_select",t["DIRECT"]="direct_select",t["POINT"]="draw_point",t["LINE_STRING"]="draw_line_string",t["POLYGON"]="draw_polygon",t["TEXT"]="draw_text",t["TRASH"]="draw_trash"}(In||(In={})),function(t){t["Single"]="single",t["Multi"]="multi",t["None"]="none"}(On||(On={})),function(t){t["GroupLayer"]="GroupLayer",t["BackGround"]="BackGround",t["BackColor"]="BackColor",t["RasterTile"]="RasterTile",t["VectorTile"]="VectorTile",t["DemWMS"]="DemWMS",t["GeoJSON"]="GeoJSON",t["ShapeFile"]="ShapeFile",t["UnKnow"]="UnKnow"}(Mn||(Mn={})),function(t){t["BEIJING_54"]="地理坐标系(北京)_度",t["XIAN_80"]="地理坐标系(西安)_度",t["CHINA_2000"]="中国2000国家大地坐标系_度",t["WGS_84"]="WGS1984_度"}(Tn||(Tn={}));var jn={"地理坐标系(北京)_度":{},"地理坐标系(西安)_度":{},"中国2000国家大地坐标系_度":{},"WGS1984_度":{}},Ln=n(0);function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t,e,n){return e&&kn(t.prototype,e),n&&kn(t,n),t}var Dn=function(){function t(){An(this,t)}return Rn(t,[{key:"getScaleByLonlat",value:function(t,e){t.fix(),e.fix();var n=Object(Ln["point"])([t.lng,t.lat]),r=Object(Ln["point"])([e.lng,e.lat]),i=Object(Ln["distance"])(n,r,{units:"meters"});return i}}]),t}();function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e,n){return e&&Bn(t.prototype,e),n&&Bn(t,n),t}var Un=function(){function t(){Fn(this,t)}return Gn(t,null,[{key:"getFeatures",value:function(t,e,n,r,i){var o=[],s=[];if(e==en.MapBoxGL){if(i&&i.length>0)s=i;else{var a=t.getStyle(),u=a.layers;u&&u.filter((function(t){return t.type===n})).forEach((function(t){return s.push(t.id)}))}var l={layers:s,filter:r};o=t.queryRenderedFeatures(l)}return o}},{key:"getLayerFeatures",value:function(t,e,n,r,i,o){var s=[],a=[];if(e==en.MapBoxGL){if(o&&o.length>0)a=o;else{var u=t.getStyle(),l=u.layers;l&&l.filter((function(t){return t.type===r})).forEach((function(t){n==t.id&&a.push(t.id)}))}var c={layers:a,filter:i},p=[[0,1e3],[1e3,0]];s=t.queryRenderedFeatures(p,c)}return s}}]),t}();function qn(t){return Zn(t)||Vn(t)||zn()}function zn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Vn(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function Zn(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function Xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wn(t,e,n){return e&&Yn(t.prototype,e),n&&Yn(t,n),t}var Hn=["all","any","none"],Jn=function(){function t(e){var n=this;Xn(this,t),this.addFilterItem=function(){var t=n.combiningFilter().slice(0);t.push(["==","字段名",""]),n.filter=t},this.filter=e}return Wn(t,[{key:"getFilterOpt",value:function(){return this.filter&&this.filter.length>0&&Hn.indexOf(this.filter[0])>=0?this.filter[0]:"all"}},{key:"getFilterRules",value:function(){return this.filter&&this.filter.length>0?this.filter.slice(1).filter((function(t){return t})):[]}},{key:"hasCombiningFilter",value:function(t){return Hn.indexOf(t[0])>=0}},{key:"hasNestedCombiningFilter",value:function(t){var e=this;if(this.hasCombiningFilter(t)){t.slice(1);return t.slice(1).map((function(t){return e.hasCombiningFilter(t)})).filter((function(t){return 1==t})).length>0}return!1}},{key:"combiningFilter",value:function(){var t=this.filter||["all"],e=t[0],n=t.slice(1);return Hn.indexOf(e)<0&&(e="all",n=[t.slice(0)]),[e].concat(qn(n))}},{key:"onFilterPartChanged",value:function(t,e){var n=this.combiningFilter().slice(0);n[t]=e,this.filter=n}},{key:"deleteFilterItem",value:function(t){var e=this.combiningFilter().slice(0);e.splice(t+1,1),this.filter=e}}]),t}();function Qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $n(t,e,n){return e&&Kn(t.prototype,e),n&&Kn(t,n),t}var tr=[16,8,4,2,1],er="0123456789bcdefghjkmnpqrstuvwxyz",nr={right:{even:"bc01fg45238967deuvhjyznpkmstqrwx",odd:void 0},left:{even:"238967debc01fg45kmstqrwxuvhjyznp",odd:void 0},top:{even:"p0r21436x8zb9dcf5h7kjnmqesgutwvy",odd:void 0},bottom:{even:"14365h7k9dcfesgujnmqp0r2twvyx8zb",odd:void 0}},rr={right:{even:"bcfguvyz",odd:void 0},left:{even:"0145hjnp",odd:void 0},top:{even:"prxz",odd:void 0},bottom:{even:"028b",odd:void 0}};nr.bottom.odd=nr.left.even,nr.top.odd=nr.right.even,nr.left.odd=nr.bottom.even,nr.right.odd=nr.top.even,rr.bottom.odd=rr.left.even,rr.top.odd=rr.right.even,rr.left.odd=rr.bottom.even,rr.right.odd=rr.top.even;var ir=function(){function t(){Qn(this,t)}return $n(t,null,[{key:"refine_interval",value:function(t,e,n){e&n?t[0]=(t[0]+t[1])/2:t[1]=(t[0]+t[1])/2}},{key:"calculateAdjacent",value:function(t,e){t=t.toLowerCase();var n=t.charAt(t.length-1),r=t.length%2?"odd":"even",i=t.substring(0,t.length-1);return-1!=rr[e][r].indexOf(n)&&(i=this.calculateAdjacent(i,e)),i+er[nr[e][r].indexOf(n)]}},{key:"decodeGeoHash",value:function(t){var e=!0,n=[],r=[];n[0]=-90,n[1]=90,r[0]=-180,r[1]=180;for(var i=0;i<t.length;i++)for(var o=t[i],s=er.indexOf(o),a=0;a<5;a++){var u=tr[a];e?(2,this.refine_interval(r,s,u)):(2,this.refine_interval(n,s,u)),e=!e}return n[2]=(n[0]+n[1])/2,r[2]=(r[0]+r[1])/2,{latitude:n,longitude:r}}},{key:"encodeGeoHash",value:function(t,e){var n=!0,r=[],i=[],o=0,s=0,a=12,u="";r[0]=-90,r[1]=90,i[0]=-180,i[1]=180;while(u.length<a){if(n){var l=(i[0]+i[1])/2;e>l?(s|=tr[o],i[0]=l):i[1]=l}else{var c=(r[0]+r[1])/2;t>c?(s|=tr[o],r[0]=c):r[1]=c}n=!n,o<4?o++:(u+=er[s],o=0,s=0)}return u}},{key:"decodeGeoHashToPolygon",value:function(t){var e=!0,n=[],r=[];n[0]=-90,n[1]=90,r[0]=-180,r[1]=180;for(var i=0;i<t.length;i++)for(var o=t[i],s=er.indexOf(o),a=0;a<5;a++){var u=tr[a];e?(2,this.refine_interval(r,s,u)):(2,this.refine_interval(n,s,u)),e=!e}n[2]=(n[0]+n[1])/2,r[2]=(r[0]+r[1])/2;var l=[r[0],n[1]],c=[r[1],n[1]],p=[r[1],n[0]],h=[r[0],n[0]];return[[l,c,p,h,l]]}}]),t}();function or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ar(t,e,n){return e&&sr(t.prototype,e),n&&sr(t,n),t}var ur,lr=180,cr=-180,pr=180,hr=-180,fr=1e-10,dr=function(){function t(e,n){or(this,t),this.lng=e,this.lat=n}return ar(t,[{key:"fix",value:function(t){t=t||fr,this.lng>lr&&(this.lng=lr-t),this.lng<cr&&(this.lng=cr+t),this.lat>pr&&(this.lat=pr-t),this.lat<hr&&(this.lat=hr+t)}}],[{key:"fromObject",value:function(e,n){if(n=n||fr,void 0===e.lng||void 0===e.lat)return new t(0,0);var r=e.lng,i=e.lat;return r>lr&&(r=lr-n),r<cr&&(r=cr+n),i>pr&&(i=pr-n),i<hr&&(i=hr+n),new t(r,i)}}]),t}();function yr(t){return yr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e,n){return e&&mr(t.prototype,e),n&&mr(t,n),t}function _r(t,e){return!e||"object"!==yr(e)&&"function"!==typeof e?br(t):e}function br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wr(t){return wr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wr(t)}function xr(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sr(t,e)}function Sr(t,e){return Sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Sr(t,e)}(function(t){t["BackGround"]="BackGround",t["Raster"]="Raster",t["Circle"]="Circle",t["Line"]="Line",t["Fill"]="Fill",t["FillExtrusion"]="FillExtrusion",t["Symbol"]="Symbol",t["Heatmap"]="Heatmap",t["HillShade"]="HillShade"})(ur||(ur={}));var Er={BackGround:{type:"background",name:"背景",icon:"icon-background",info:"背景图层，用来设置背景颜色",limit:[ur.BackGround]},Raster:{type:"raster",name:"栅格瓦片",icon:"icon-background",info:"栅格图层，用来作为底图",limit:[ur.Raster]},Circle:{type:"circle",name:"点",icon:"icon-pointer",info:"只能实现单纯的点的样式",limit:[ur.Circle,ur.Heatmap,ur.Symbol]},Line:{type:"line",name:"线",icon:"icon-vectorpolyline",info:"尽量使用多图层实现道路贯通",limit:[ur.Line,ur.Symbol]},Fill:{type:"fill",name:"区",icon:"icon-vector-polygon",info:"区要素，多使用抗锯齿",limit:[ur.Fill,ur.FillExtrusion,ur.Symbol]},FillExtrusion:{type:"fill-extrusion",name:"面",icon:"icon-cube",info:"区加上高程信息构建对应的面要素",limit:[ur.Fill,ur.FillExtrusion,ur.Symbol]},Symbol:{type:"symbol",name:"符号",icon:"icon-dollar-symbol-1",info:"分为文字和图片两部分",limit:[ur.Circle,ur.Line,ur.Fill,ur.FillExtrusion,ur.Symbol]},Heatmap:{type:"heatmap",name:"热力图",icon:"icon-echarts_heatmap",info:"热力图，实现热力展示",limit:[ur.Circle,ur.Symbol]},HillShade:{type:"hillshade",name:"地形阴影",icon:"icon-mountain-",info:"通过RGB组合计算阴影",limit:[ur.HillShade]}},Cr=function(t){function e(){return gr(this,e),_r(this,wr(e).apply(this,arguments))}return xr(e,t),vr(e,[{key:"fixIcon",value:function(){switch(this.subtype){case ur.BackGround:this.icon="icon-tiaoseban";break;case ur.Circle:this.icon="icon-vectorcirclevariant";break;case ur.Line:this.icon="icon-vectorpolyline";break;case ur.Fill:this.icon="icon-vector-polygon";break;case ur.FillExtrusion:this.icon="icon-vector-polygon";break;case ur.Symbol:this.icon="icon-dollar-symbol-1";break;case ur.Heatmap:this.icon="icon-echarts_heatmap";break;case ur.HillShade:this.icon="icon-mountain-";default:break}}}]),e}(k);var Pr=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ir(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Or(){}var Mr=.7,Tr=1/Mr,Nr="\\s*([+-]?\\d+)\\s*",jr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ar=/^#([0-9a-f]{3,8})$/,kr=new RegExp("^rgb\\("+[Nr,Nr,Nr]+"\\)$"),Rr=new RegExp("^rgb\\("+[Lr,Lr,Lr]+"\\)$"),Dr=new RegExp("^rgba\\("+[Nr,Nr,Nr,jr]+"\\)$"),Fr=new RegExp("^rgba\\("+[Lr,Lr,Lr,jr]+"\\)$"),Br=new RegExp("^hsl\\("+[jr,Lr,Lr]+"\\)$"),Gr=new RegExp("^hsla\\("+[jr,Lr,Lr,jr]+"\\)$"),Ur={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function qr(){return this.rgb().formatHex()}function zr(){return ei(this).formatHsl()}function Vr(){return this.rgb().formatRgb()}function Zr(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ar.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xr(e):3===n?new Jr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Jr(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Jr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=kr.exec(t))?new Jr(e[1],e[2],e[3],1):(e=Rr.exec(t))?new Jr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Dr.exec(t))?Yr(e[1],e[2],e[3],e[4]):(e=Fr.exec(t))?Yr(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Br.exec(t))?ti(e[1],e[2]/100,e[3]/100,1):(e=Gr.exec(t))?ti(e[1],e[2]/100,e[3]/100,e[4]):Ur.hasOwnProperty(t)?Xr(Ur[t]):"transparent"===t?new Jr(NaN,NaN,NaN,0):null}function Xr(t){return new Jr(t>>16&255,t>>8&255,255&t,1)}function Yr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Jr(t,e,n,r)}function Wr(t){return t instanceof Or||(t=Zr(t)),t?(t=t.rgb(),new Jr(t.r,t.g,t.b,t.opacity)):new Jr}function Hr(t,e,n,r){return 1===arguments.length?Wr(t):new Jr(t,e,n,null==r?1:r)}function Jr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qr(){return"#"+$r(this.r)+$r(this.g)+$r(this.b)}function Kr(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function $r(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function ti(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ri(t,e,n,r)}function ei(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof Or||(t=Zr(t)),!t)return new ri;if(t instanceof ri)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new ri(s,a,u,t.opacity)}function ni(t,e,n,r){return 1===arguments.length?ei(t):new ri(t,e,n,null==r?1:r)}function ri(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ii(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Pr(Or,Zr,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:qr,formatHex:qr,formatHsl:zr,formatRgb:Vr,toString:Vr}),Pr(Jr,Hr,Ir(Or,{brighter:function(t){return t=null==t?Tr:Math.pow(Tr,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Mr:Math.pow(Mr,t),new Jr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatRgb:Kr,toString:Kr})),Pr(ri,ni,Ir(Or,{brighter:function(t){return t=null==t?Tr:Math.pow(Tr,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Mr:Math.pow(Mr,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Jr(ii(t>=240?t-240:t+120,i,r),ii(t,i,r),ii(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var oi=Math.PI/180,si=180/Math.PI,ai=18,ui=.96422,li=1,ci=.82521,pi=4/29,hi=6/29,fi=3*hi*hi,di=hi*hi*hi;function yi(t){if(t instanceof vi)return new vi(t.l,t.a,t.b,t.opacity);if(t instanceof Pi)return Ii(t);t instanceof Jr||(t=Wr(t));var e,n,r=xi(t.r),i=xi(t.g),o=xi(t.b),s=_i((.2225045*r+.7168786*i+.0606169*o)/li);return r===i&&i===o?e=n=s:(e=_i((.4360747*r+.3850649*i+.1430804*o)/ui),n=_i((.0139322*r+.0971045*i+.7141733*o)/ci)),new vi(116*s-16,500*(e-s),200*(s-n),t.opacity)}function gi(t,e){return new vi(t,0,0,null==e?1:e)}function mi(t,e,n,r){return 1===arguments.length?yi(t):new vi(t,e,n,null==r?1:r)}function vi(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function _i(t){return t>di?Math.pow(t,1/3):t/fi+pi}function bi(t){return t>hi?t*t*t:fi*(t-pi)}function wi(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function xi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Si(t){if(t instanceof Pi)return new Pi(t.h,t.c,t.l,t.opacity);if(t instanceof vi||(t=yi(t)),0===t.a&&0===t.b)return new Pi(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*si;return new Pi(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ei(t,e,n,r){return 1===arguments.length?Si(t):new Pi(n,e,t,null==r?1:r)}function Ci(t,e,n,r){return 1===arguments.length?Si(t):new Pi(t,e,n,null==r?1:r)}function Pi(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Ii(t){if(isNaN(t.h))return new vi(t.l,0,0,t.opacity);var e=t.h*oi;return new vi(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Pr(vi,mi,Ir(Or,{brighter:function(t){return new vi(this.l+ai*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new vi(this.l-ai*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=ui*bi(e),t=li*bi(t),n=ci*bi(n),new Jr(wi(3.1338561*e-1.6168667*t-.4906146*n),wi(-.9787684*e+1.9161415*t+.033454*n),wi(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Pr(Pi,Ci,Ir(Or,{brighter:function(t){return new Pi(this.h,this.c,this.l+ai*(null==t?1:t),this.opacity)},darker:function(t){return new Pi(this.h,this.c,this.l-ai*(null==t?1:t),this.opacity)},rgb:function(){return Ii(this).rgb()}}));var Oi=-.14861,Mi=1.78277,Ti=-.29227,Ni=-.90649,ji=1.97294,Li=ji*Ni,Ai=ji*Mi,ki=Mi*Ti-Ni*Oi;function Ri(t){if(t instanceof Fi)return new Fi(t.h,t.s,t.l,t.opacity);t instanceof Jr||(t=Wr(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ki*r+Li*e-Ai*n)/(ki+Li-Ai),o=r-i,s=(ji*(n-i)-Ti*o)/Ni,a=Math.sqrt(s*s+o*o)/(ji*i*(1-i)),u=a?Math.atan2(s,o)*si-120:NaN;return new Fi(u<0?u+360:u,a,i,t.opacity)}function Di(t,e,n,r){return 1===arguments.length?Ri(t):new Fi(t,e,n,null==r?1:r)}function Fi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(t,e,n){return e&&Gi(t.prototype,e),n&&Gi(t,n),t}Pr(Fi,Di,Ir(Or,{brighter:function(t){return t=null==t?Tr:Math.pow(Tr,t),new Fi(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Mr:Math.pow(Mr,t),new Fi(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*oi,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Jr(255*(e+n*(Oi*r+Mi*i)),255*(e+n*(Ti*r+Ni*i)),255*(e+n*(ji*r)),this.opacity)}}));var qi="cesium vector tiles",zi="http://localhost:6163/igs/rest/mrms/vtiles/sprite",Vi="http://localhost:6163/igs/rest/mrms/vtiles/fonts/{fontstack}/{range}.pbf",Zi=["circle","line","fill","fill-extrusion","symbol"],Xi=function(){function t(){Bi(this,t)}return Ui(t,[{key:"docTomvt",value:function(t){var e={version:8,id:qi,name:qi,sources:{},layers:[],sprite:zi,glyphs:Vi};return t?(e.name=t.name||qi,e.id=t.name||qi,e.sprite=t.sprite||zi,e.glyphs=t.glyphs||Vi,e.sources=this.docTomvtSources(t),e.layers=this.docTomvtLayers(t),e):e}},{key:"docTomvtSources",value:function(t){var e={};if(!t)return e;for(var n in t.sources){var r=t.sources[n];if(r){var i=r.url,o=r.type,s=r.min,a=r.max,u={type:"",tiles:[],minZoom:0,maxZoom:24};o==j.VectorTile&&(u.type="vector",u.tiles=[i],u.minZoom=s||0,u.maxZoom=a||24,e[n]=u)}}return e}},{key:"docTomvtLayers",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[];if(!t)return r;var i=t.getFlatLayers();return r=i.map((function(t){var r=t.sourceLayer,i=t.type,o=t.subtype,s=t.layout,a=t.style;return t["type"]=e.docTomvtType(o),t["subtype"]=e.docTomvtSubtype(o),t["layout"]=e.docTomvtLayout(s),t["paint"]=a||{},i===Er.Raster.type?t["source-layer"]="null":t["source-layer"]=r||"null",n&&(delete t.style,delete t.subtype,delete t.icon,delete t.sourceLayer,delete t.title,delete t.name,delete t.url),t})),r}},{key:"docTomvtType",value:function(t){var e;return $t[t]&&$t[t].type?e=$t[t].type:Er[t]&&Er[t].type&&(e=Er[t].type),e}},{key:"docTomvtSubtype",value:function(t){var e;return $t[t]&&$t[t].type?e=$t[t].subtype:Er[t]&&Er[t].type&&(e="vectortile"),e}},{key:"docTomvtLayout",value:function(t){return t||(t={visibility:"visible"}),void 0==t.visible||t.visible?t["visibility"]="visible":t["visibility"]="none",delete t.visible,t}},{key:"mvtTodoc",value:function(t){t.name;var e=this.mvtTodocSources(t.sources),n=this.mvtTodocLayers(t.layers),r=new yn(dn,fn,vn,n,e,en.MapBoxGL);return r}},{key:"mvtTodocSources",value:function(t){if(!t)return Ue;for(var e=Object.keys(t),n="",r={},i=0;i<e.length;i++){n=e[i];var o=t[n];if("vector"==o.type){var s=o.tiles;if(s&&!(s.length<=0)){var a=s[0];o.name=n,o.url=a,o.type=j.VectorTile,o.minZoom=o.min||0,o.maxZoom=o.max||20,delete o.tiles,delete o.min,delete o.max,r=Fe.addSource(r,o,n)}}}return r||Ue}},{key:"mvtTodocLayers",value:function(t){var e=this,n=[];return n=t.filter((function(t){var n=t.id,r=t.type,i=t.paint,o=t.layout;return t["sourceLayer"]=t["source-layer"],t["title"]=n,t["id"]=n,t["name"]=n,t["key"]=n,!(Zi.indexOf(t["type"])<0)&&(t["type"]=j.VectorTile,t["subtype"]=e.mvtTodocType(r),t["icon"]=Er[t.subtype].icon,t["info"]="",t["description"]="",t["style"]=i||{},t["layout"]=e.mvtTodocLayout(o)||{},t["url"]=void 0,delete t.paint,!0)})),console.log("flats",n),n}},{key:"mvtTodocType",value:function(t){var e=Object.keys(Er),n=e.map((function(t){return Er[t].type})),r=n.indexOf(t);if(r>=0)return e[r]}},{key:"mvtTodocLayout",value:function(t){return t||(t={visible:!0}),void 0==t.visibility||"visible"===t.visibility?t["visible"]=!0:t["visible"]=!1,delete t.visibility,t}},{key:"convertInspectLayers",value:function(t,e){var n=void 0;t=t.filter((function(t){return t.id==e&&(n=t),t.id!=e}));var r=t.filter((function(t){return"fill"==t.type||"fill-extrusion"==t.type})),i=t.filter((function(t){return"line"==t.type})),o=t.filter((function(t){return"circle"==t.type})),s=t.filter((function(t){return"symbol"==t.type})),a=this.convertUnselectLayer(r,.8,1),u=this.convertUnselectLayer(i,.7,.9),l=this.convertUnselectLayer(o,.2,.4),c=this.convertUnselectLayer(s,.6,.8);return n=this.convertSelectlayer(n),[].concat(a).concat(u).concat(l).concat(c).concat(n)}},{key:"convertUnselectLayer",value:function(t,e,n){var r=t.length,i=t.map((function(t,i){var o=e+i/r*(n-e),s=d((void 0)(o)).copy({opacity:.5}).toString();return t.paint&&(t.paint["circle-color"]?t.paint["circle-color"]=s:t.paint["line-color"]?t.paint["line-color"]=s:t.paint["fill-color"]?t.paint["fill-color"]=s:t.paint["fill-extrusion-color"]?t.paint["fill-extrusion-color"]=s:t.paint["text-color"]?t.paint["text-color"]=s:t.paint["text-halo-color"]&&(t.paint["text-halo-color"]=s),t.paint["line-pattern"]?t.paint["line-opacity"]=.1:t.paint["fill-pattern"]?t.paint["fill-opacity"]=.1:t.paint["fill-extrusion-pattern"]&&(t.paint["fill-extrusion-opacity"]=.1)),t.layout&&t.layout["icon-image"]&&(t.paint["icon-opacity"]=.2,t.paint["text-opacity"]=.2),t}));return i}},{key:"convertSelectlayer",value:function(t){t||(t={filter:["all"],paint:{}});var e=E(t);return t.filter&&(e.id=t.id+"_unfilter","all"==e.filter[0]?e.filter[0]="none":"none"==e.filter[0]&&(e.filter[0]="any"),e.paint["circle-color"]?e.paint["circle-color"]="rgba(238, 78, 139, 0.7)":e.paint["line-color"]?e.paint["line-color"]="rgba(238, 78, 139, 0.7)":e.paint["fill-color"]?e.paint["fill-color"]="rgba(238, 78, 139, 0.7)":e.paint["fill-extrusion-color"]?e.paint["fill-extrusion-color"]="rgba(238, 78, 139, 0.7)":e.paint["text-color"]?e.paint["text-color"]="rgba(238, 78, 139, 0.7)":e.paint["text-halo-color"]&&(e.paint["text-halo-color"]="rgba(238, 78, 139, 0.7)")),t.paint&&(t.paint["circle-color"]?t.paint["circle-color"]="rgba(91, 255, 142, 0.7)":t.paint["line-color"]?t.paint["line-color"]="rgba(91, 255, 142, 0.7)":t.paint["fill-color"]?t.paint["fill-color"]="rgba(91, 255, 142, 0.7)":t.paint["fill-extrusion-color"]?t.paint["fill-extrusion-color"]="rgba(91, 255, 142, 0.7)":t.paint["text-color"]?t.paint["text-color"]="rgba(91, 255, 142, 0.7)":t.paint["text-halo-color"]&&(t.paint["text-halo-color"]="rgba(91, 255, 142, 0.7)")),t=[t],e=[e],[].concat(t).concat(e)}},{key:"convertInspectMode",value:function(t){var e=this.docTomvtLayers(t),n=t.getCurrent().id,r=this.convertInspectLayers(e,n);return r}}]),t}();function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wi(t,e,n){return e&&Yi(t.prototype,e),n&&Yi(t,n),t}function Hi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ji=["#e4e4e4","#ffffff","#0079c1"],Qi=function(){function t(){Hi(this,t)}return Wi(t,null,[{key:"getThemes",value:function(t,e,n){var r=[];if(e==en.MapBoxGL){var i=t.getStyle(),o=i.layers;o&&o.filter((function(t){return t.type===n})).forEach((function(t){var e={name:t.id,color:"#0079c1"};switch(n){case"circle":e.color=t.paint["circle-color"]||e.color;break;case"line":e.color=t.paint["line-color"]||e.color;break;case"fill":e.color=t.paint["fill-color"]||e.color;break;case"fill-extrusion":e.color=t.paint["fill-extrusion-color"]||e.color;break}r.push(e)}))}return r}},{key:"getThemeById",value:function(t,e,n){var r,i=10*Math.random()/Ji.length,o={name:n,color:Ji[i]};if(e==en.MapBoxGL){var s=t.getStyle(),a=s.layers;a&&a.filter((function(t){return t.id===n})).forEach((function(t){switch(t.type){case"circle":t.paint&&(r=t.paint["circle-color"]);break;case"line":t.paint&&(r=t.paint["line-color"]);break;case"fill":t.paint&&(r=t.paint["fill-color"]);break;case"fill-extrusion":t.paint&&(r=t.paint["fill-extrusion-color"]);break;case"symbol":t.paint&&(r=t.paint["text-color"]);break}"string"===typeof r&&(o.color=r)}))}return o}},{key:"getThemeByArray",value:function(t,e){var n=t.filter((function(t){return t.name==e}));return n.length>0?n[0]:null}},{key:"setTheme",value:function(t,e,n,r,i){if(r==en.MapBoxGL){var o=n.getStyle(),s=o.layers;s&&s.filter((function(e){return e.id===t})).forEach((function(r){switch(i){case"circle":e.color=e.color||"#0079c1",n.setPaintProperty(t,"circle-color",e.color);break;case"line":e.color=e.color||"#0079c1",n.setPaintProperty(t,"line-color",e.color);break;case"fill":e.color=e.color||"#0079c1",n.setPaintProperty(t,"fill-color",e.color);break;case"fill-extrusion":e.color=e.color||"#0079c1",n.setPaintProperty(t,"fill-extrusion-color",e.color);break}}))}}}]),t}(),Ki=n(7);function $i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function to(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eo(t,e,n){return e&&to(t.prototype,e),n&&to(t,n),t}var no=function(){function t(){$i(this,t)}return eo(t,null,[{key:"base64ToImage",value:function(t){var e=document.createElement("img").setAttribute("src",t);return e}},{key:"dataURLtoFile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",n=t.split(","),r=n[0].match(/:(.*?);/)[1],i=r.split("/")[1],o=atob(n[1]),s=o.length,a=new Uint8Array(s);while(s--)a[s]=o.charCodeAt(s);return new File([a],"".concat(e,".").concat(i),{type:r})}},{key:"getSpriteIcon",value:function(t,e,n,r){if(r&&e&&n&&n[t]){var i,o=n[t];r.width=o.width,r.height=o.height;var s=r.getContext("2d");return s.drawImage(e,o.x,o.y,o.width,o.height,0,0,o.width,o.height),i=s.createPattern(r,"repeat"),i}}}]),t}(),ro=n(2),io=n(9),oo={Enum:u,Event:ro,Service:_,Source:p,Ellipsoid:c,Crs:l,IDocument:yn,Doc:a,Map:s,Layer:o,Feature:h,Geometry:f,VectorTile:y,Style:v,Theme:g,Spec:m,Util:b},so=u,ao=ro,uo=_,lo=p,co=c,po=l,ho=yn,fo=s,yo=o,go=h,mo=f,vo=y,_o=v,bo=g,wo=m;e["default"]=oo}])["default"]}));